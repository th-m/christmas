function ES(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function SS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xy={exports:{}},Va={},_y={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=Symbol.for("react.element"),kS=Symbol.for("react.portal"),CS=Symbol.for("react.fragment"),xS=Symbol.for("react.strict_mode"),_S=Symbol.for("react.profiler"),TS=Symbol.for("react.provider"),IS=Symbol.for("react.context"),NS=Symbol.for("react.forward_ref"),AS=Symbol.for("react.suspense"),DS=Symbol.for("react.memo"),$S=Symbol.for("react.lazy"),Fp=Symbol.iterator;function OS(e){return e===null||typeof e!="object"?null:(e=Fp&&e[Fp]||e["@@iterator"],typeof e=="function"?e:null)}var Ty={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iy=Object.assign,Ny={};function Qi(e,t,n){this.props=e,this.context=t,this.refs=Ny,this.updater=n||Ty}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ay(){}Ay.prototype=Qi.prototype;function Cd(e,t,n){this.props=e,this.context=t,this.refs=Ny,this.updater=n||Ty}var xd=Cd.prototype=new Ay;xd.constructor=Cd;Iy(xd,Qi.prototype);xd.isPureReactComponent=!0;var jp=Array.isArray,Dy=Object.prototype.hasOwnProperty,_d={current:null},$y={key:!0,ref:!0,__self:!0,__source:!0};function Oy(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Dy.call(t,r)&&!$y.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:_o,type:e,key:s,ref:o,props:i,_owner:_d.current}}function PS(e,t){return{$$typeof:_o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Td(e){return typeof e=="object"&&e!==null&&e.$$typeof===_o}function RS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Up=/\/+/g;function Uu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RS(""+e.key):t.toString(36)}function _l(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _o:case kS:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Uu(o,0):r,jp(i)?(n="",e!=null&&(n=e.replace(Up,"$&/")+"/"),_l(i,t,n,"",function(u){return u})):i!=null&&(Td(i)&&(i=PS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Up,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",jp(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Uu(s,l);o+=_l(s,t,n,a,i)}else if(a=OS(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Uu(s,l++),o+=_l(s,t,n,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Qo(e,t,n){if(e==null)return e;var r=[],i=0;return _l(e,r,"","",function(s){return t.call(n,s,i++)}),r}function LS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Tl={transition:null},MS={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Tl,ReactCurrentOwner:_d};ie.Children={map:Qo,forEach:function(e,t,n){Qo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qo(e,function(){t++}),t},toArray:function(e){return Qo(e,function(t){return t})||[]},only:function(e){if(!Td(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=Qi;ie.Fragment=CS;ie.Profiler=_S;ie.PureComponent=Cd;ie.StrictMode=xS;ie.Suspense=AS;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MS;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Iy({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=_d.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Dy.call(t,a)&&!$y.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:_o,type:e.type,key:i,ref:s,props:r,_owner:o}};ie.createContext=function(e){return e={$$typeof:IS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TS,_context:e},e.Consumer=e};ie.createElement=Oy;ie.createFactory=function(e){var t=Oy.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:NS,render:e}};ie.isValidElement=Td;ie.lazy=function(e){return{$$typeof:$S,_payload:{_status:-1,_result:e},_init:LS}};ie.memo=function(e,t){return{$$typeof:DS,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Tl.transition;Tl.transition={};try{e()}finally{Tl.transition=t}};ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ie.useCallback=function(e,t){return mt.current.useCallback(e,t)};ie.useContext=function(e){return mt.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return mt.current.useDeferredValue(e)};ie.useEffect=function(e,t){return mt.current.useEffect(e,t)};ie.useId=function(){return mt.current.useId()};ie.useImperativeHandle=function(e,t,n){return mt.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return mt.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return mt.current.useReducer(e,t,n)};ie.useRef=function(e){return mt.current.useRef(e)};ie.useState=function(e){return mt.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return mt.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return mt.current.useTransition()};ie.version="18.2.0";_y.exports=ie;var A=_y.exports;const B=SS(A),FS=ES({__proto__:null,default:B},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS=A,US=Symbol.for("react.element"),VS=Symbol.for("react.fragment"),zS=Object.prototype.hasOwnProperty,BS=jS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bS={key:!0,ref:!0,__self:!0,__source:!0};function Py(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)zS.call(t,r)&&!bS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:US,type:e,key:s,ref:o,props:i,_owner:BS.current}}Va.Fragment=VS;Va.jsx=Py;Va.jsxs=Py;xy.exports=Va;var w=xy.exports;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},qS=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],l=e[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Ly={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,l=o?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,g=u&63;a||(g=64,o||(h=64)),r.push(n[c],n[d],n[h],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ry(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):qS(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new HS;const h=s<<2|l>>4;if(r.push(h),u!==64){const g=l<<4&240|u>>2;if(r.push(g),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class HS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KS=function(e){const t=Ry(e);return Ly.encodeByteArray(t,!0)},Kl=function(e){return KS(e).replace(/\./g,"")},WS=function(e){try{return Ly.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=()=>GS().__FIREBASE_DEFAULTS__,YS=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},XS=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&WS(e[1]);return t&&JSON.parse(t)},My=()=>{try{return QS()||YS()||XS()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},JS=e=>{var t,n;return(n=(t=My())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},ZS=e=>{const t=JS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Fy=()=>{var e;return(e=My())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Kl(JSON.stringify(n)),Kl(JSON.stringify(o)),l].join(".")}function nk(){try{return typeof indexedDB=="object"}catch{return!1}}function rk(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="FirebaseError";class Yi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=ik,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jy.prototype.create)}}class jy{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?sk(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Yi(i,l,r)}}function sk(e,t){return e.replace(ok,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const ok=/\{\$([^}]+)}/g;function Fc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Vp(s)&&Vp(o)){if(!Fc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vp(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(e){return e&&e._delegate?e._delegate:e}class qs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ek;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uk(t))try{this.getOrInitializeService({instanceIdentifier:Er})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Er){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Er){return this.instances.has(t)}getOptions(t=Er){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ak(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Er){return this.component?this.component.multipleInstances?t:Er:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ak(e){return e===Er?void 0:e}function uk(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lk(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ue||(ue={}));const hk={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},dk=ue.INFO,fk={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},pk=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=fk[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Uy{constructor(t){this.name=t,this._logLevel=dk,this._logHandler=pk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ue))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...t),this._logHandler(this,ue.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...t),this._logHandler(this,ue.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...t),this._logHandler(this,ue.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...t),this._logHandler(this,ue.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...t),this._logHandler(this,ue.ERROR,...t)}}const mk=(e,t)=>t.some(n=>e instanceof n);let zp,Bp;function gk(){return zp||(zp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yk(){return Bp||(Bp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vy=new WeakMap,jc=new WeakMap,zy=new WeakMap,Vu=new WeakMap,Id=new WeakMap;function vk(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Yn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Vy.set(n,e)}).catch(()=>{}),Id.set(t,e),t}function wk(e){if(jc.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});jc.set(e,t)}let Uc={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return jc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||zy.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ek(e){Uc=e(Uc)}function Sk(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(zu(this),t,...n);return zy.set(r,t.sort?t.sort():[t]),Yn(r)}:yk().includes(e)?function(...t){return e.apply(zu(this),t),Yn(Vy.get(this))}:function(...t){return Yn(e.apply(zu(this),t))}}function kk(e){return typeof e=="function"?Sk(e):(e instanceof IDBTransaction&&wk(e),mk(e,gk())?new Proxy(e,Uc):e)}function Yn(e){if(e instanceof IDBRequest)return vk(e);if(Vu.has(e))return Vu.get(e);const t=kk(e);return t!==e&&(Vu.set(e,t),Id.set(t,e)),t}const zu=e=>Id.get(e);function Ck(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),l=Yn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Yn(o.result),a.oldVersion,a.newVersion,Yn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const xk=["get","getKey","getAll","getAllKeys","count"],_k=["put","add","delete","clear"],Bu=new Map;function bp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Bu.get(t))return Bu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_k.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xk.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Bu.set(t,s),s}Ek(e=>({...e,get:(t,n,r)=>bp(t,n)||e.get(t,n,r),has:(t,n)=>!!bp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ik(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ik(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vc="@firebase/app",qp="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Uy("@firebase/app"),Nk="@firebase/app-compat",Ak="@firebase/analytics-compat",Dk="@firebase/analytics",$k="@firebase/app-check-compat",Ok="@firebase/app-check",Pk="@firebase/auth",Rk="@firebase/auth-compat",Lk="@firebase/database",Mk="@firebase/database-compat",Fk="@firebase/functions",jk="@firebase/functions-compat",Uk="@firebase/installations",Vk="@firebase/installations-compat",zk="@firebase/messaging",Bk="@firebase/messaging-compat",bk="@firebase/performance",qk="@firebase/performance-compat",Hk="@firebase/remote-config",Kk="@firebase/remote-config-compat",Wk="@firebase/storage",Gk="@firebase/storage-compat",Qk="@firebase/firestore",Yk="@firebase/firestore-compat",Xk="firebase",Jk="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="[DEFAULT]",Zk={[Vc]:"fire-core",[Nk]:"fire-core-compat",[Dk]:"fire-analytics",[Ak]:"fire-analytics-compat",[Ok]:"fire-app-check",[$k]:"fire-app-check-compat",[Pk]:"fire-auth",[Rk]:"fire-auth-compat",[Lk]:"fire-rtdb",[Mk]:"fire-rtdb-compat",[Fk]:"fire-fn",[jk]:"fire-fn-compat",[Uk]:"fire-iid",[Vk]:"fire-iid-compat",[zk]:"fire-fcm",[Bk]:"fire-fcm-compat",[bk]:"fire-perf",[qk]:"fire-perf-compat",[Hk]:"fire-rc",[Kk]:"fire-rc-compat",[Wk]:"fire-gcs",[Gk]:"fire-gcs-compat",[Qk]:"fire-fst",[Yk]:"fire-fst-compat","fire-js":"fire-js",[Xk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new Map,Bc=new Map;function eC(e,t){try{e.container.addComponent(t)}catch(n){Mr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Gl(e){const t=e.name;if(Bc.has(t))return Mr.debug(`There were multiple attempts to register component ${t}.`),!1;Bc.set(t,e);for(const n of Wl.values())eC(n,e);return!0}function tC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xn=new jy("app","Firebase",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=Jk;function By(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:zc,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Xn.create("bad-app-name",{appName:String(i)});if(n||(n=Fy()),!n)throw Xn.create("no-options");const s=Wl.get(i);if(s){if(Fc(n,s.options)&&Fc(r,s.config))return s;throw Xn.create("duplicate-app",{appName:i})}const o=new ck(i);for(const a of Bc.values())o.addComponent(a);const l=new rC(n,r,o);return Wl.set(i,l),l}function sC(e=zc){const t=Wl.get(e);if(!t&&e===zc&&Fy())return By();if(!t)throw Xn.create("no-app",{appName:e});return t}function Ci(e,t,n){var r;let i=(r=Zk[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Mr.warn(l.join(" "));return}Gl(new qs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebase-heartbeat-database",lC=1,Hs="firebase-heartbeat-store";let bu=null;function by(){return bu||(bu=Ck(oC,lC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Hs)}}}).catch(e=>{throw Xn.create("idb-open",{originalErrorMessage:e.message})})),bu}async function aC(e){try{return await(await by()).transaction(Hs).objectStore(Hs).get(qy(e))}catch(t){if(t instanceof Yi)Mr.warn(t.message);else{const n=Xn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Mr.warn(n.message)}}}async function Hp(e,t){try{const r=(await by()).transaction(Hs,"readwrite");await r.objectStore(Hs).put(t,qy(e)),await r.done}catch(n){if(n instanceof Yi)Mr.warn(n.message);else{const r=Xn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mr.warn(r.message)}}}function qy(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=1024,cC=30*24*60*60*1e3;class hC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=cC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Kp(),{heartbeatsToSend:n,unsentEntries:r}=dC(this._heartbeatsCache.heartbeats),i=Kl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Kp(){return new Date().toISOString().substring(0,10)}function dC(e,t=uC){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Wp(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nk()?rk().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await aC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Wp(e){return Kl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(e){Gl(new qs("platform-logger",t=>new Tk(t),"PRIVATE")),Gl(new qs("heartbeat",t=>new hC(t),"PRIVATE")),Ci(Vc,qp,e),Ci(Vc,qp,"esm2017"),Ci("fire-js","")}pC("");var mC="firebase",gC="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(mC,gC,"app");var yC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P,Nd=Nd||{},Y=yC||self;function za(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function To(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function vC(e){return Object.prototype.hasOwnProperty.call(e,qu)&&e[qu]||(e[qu]=++wC)}var qu="closure_uid_"+(1e9*Math.random()>>>0),wC=0;function EC(e,t,n){return e.call.apply(e.bind,arguments)}function SC(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function at(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?at=EC:at=SC,at.apply(null,arguments)}function Yo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ge(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return t.prototype[i].apply(r,o)}}function dr(){this.s=this.s,this.o=this.o}var kC=0;dr.prototype.s=!1;dr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),kC!=0)&&vC(this)};dr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Hy=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ad(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Gp(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(za(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function ut(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var CC=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Y.addEventListener("test",()=>{},t),Y.removeEventListener("test",()=>{},t)}catch{}return e}();function Ks(e){return/^[\s\xa0]*$/.test(e)}function Ba(){var e=Y.navigator;return e&&(e=e.userAgent)?e:""}function on(e){return Ba().indexOf(e)!=-1}function Dd(e){return Dd[" "](e),e}Dd[" "]=function(){};function xC(e,t){var n=gx;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var _C=on("Opera"),Ri=on("Trident")||on("MSIE"),Ky=on("Edge"),bc=Ky||Ri,Wy=on("Gecko")&&!(Ba().toLowerCase().indexOf("webkit")!=-1&&!on("Edge"))&&!(on("Trident")||on("MSIE"))&&!on("Edge"),TC=Ba().toLowerCase().indexOf("webkit")!=-1&&!on("Edge");function Gy(){var e=Y.document;return e?e.documentMode:void 0}var qc;e:{var Hu="",Ku=function(){var e=Ba();if(Wy)return/rv:([^\);]+)(\)|;)/.exec(e);if(Ky)return/Edge\/([\d\.]+)/.exec(e);if(Ri)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(TC)return/WebKit\/(\S+)/.exec(e);if(_C)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ku&&(Hu=Ku?Ku[1]:""),Ri){var Wu=Gy();if(Wu!=null&&Wu>parseFloat(Hu)){qc=String(Wu);break e}}qc=Hu}var Hc;if(Y.document&&Ri){var Qp=Gy();Hc=Qp||parseInt(qc,10)||void 0}else Hc=void 0;var IC=Hc;function Ws(e,t){if(ut.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Wy){e:{try{Dd(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:NC[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ws.$.h.call(this)}}Ge(Ws,ut);var NC={2:"touch",3:"pen",4:"mouse"};Ws.prototype.h=function(){Ws.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Io="closure_listenable_"+(1e6*Math.random()|0),AC=0;function DC(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++AC,this.fa=this.ia=!1}function ba(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function $d(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function $C(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Qy(e){const t={};for(const n in e)t[n]=e[n];return t}const Yp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yy(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<Yp.length;s++)n=Yp[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qa(e){this.src=e,this.g={},this.h=0}qa.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Wc(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new DC(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Kc(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Hy(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ba(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Wc(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var Od="closure_lm_"+(1e6*Math.random()|0),Gu={};function Xy(e,t,n,r,i){if(r&&r.once)return Zy(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Xy(e,t[s],n,r,i);return null}return n=Ld(n),e&&e[Io]?e.O(t,n,To(r)?!!r.capture:!!r,i):Jy(e,t,n,!1,r,i)}function Jy(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=To(i)?!!i.capture:!!i,l=Rd(e);if(l||(e[Od]=l=new qa(e)),n=l.add(t,n,r,o,s),n.proxy)return n;if(r=OC(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)CC||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(tv(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function OC(){function e(n){return t.call(e.src,e.listener,n)}const t=PC;return e}function Zy(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Zy(e,t[s],n,r,i);return null}return n=Ld(n),e&&e[Io]?e.P(t,n,To(r)?!!r.capture:!!r,i):Jy(e,t,n,!0,r,i)}function ev(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ev(e,t[s],n,r,i);else r=To(r)?!!r.capture:!!r,n=Ld(n),e&&e[Io]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Wc(s,n,r,i),-1<n&&(ba(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Rd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Wc(t,n,r,i)),(n=-1<e?t[e]:null)&&Pd(n))}function Pd(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Io])Kc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(tv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Rd(t))?(Kc(n,e),n.h==0&&(n.src=null,t[Od]=null)):ba(e)}}}function tv(e){return e in Gu?Gu[e]:Gu[e]="on"+e}function PC(e,t){if(e.fa)e=!0;else{t=new Ws(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Pd(e),e=n.call(r,t)}return e}function Rd(e){return e=e[Od],e instanceof qa?e:null}var Qu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ld(e){return typeof e=="function"?e:(e[Qu]||(e[Qu]=function(t){return e.handleEvent(t)}),e[Qu])}function We(){dr.call(this),this.i=new qa(this),this.S=this,this.J=null}Ge(We,dr);We.prototype[Io]=!0;We.prototype.removeEventListener=function(e,t,n,r){ev(this,e,t,n,r)};function Je(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new ut(t,e);else if(t instanceof ut)t.target=t.target||e;else{var i=t;t=new ut(r,e),Yy(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Xo(o,r,!0,t)&&i}if(o=t.g=e,i=Xo(o,r,!0,t)&&i,i=Xo(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Xo(o,r,!1,t)&&i}We.prototype.N=function(){if(We.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ba(n[r]);delete e.g[t],e.h--}}this.J=null};We.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};We.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Xo(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var l=o.listener,a=o.la||o.src;o.ia&&Kc(e.i,o),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Md=Y.JSON.stringify;let RC=class{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}};function LC(){var e=Fd;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}let MC=class{constructor(){this.h=this.g=null}add(t,n){const r=nv.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}};var nv=new RC(()=>new FC,e=>e.reset());let FC=class{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function jC(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function UC(e){Y.setTimeout(()=>{throw e},0)}let Gs,Qs=!1,Fd=new MC,rv=()=>{const e=Y.Promise.resolve(void 0);Gs=()=>{e.then(VC)}};var VC=()=>{for(var e;e=LC();){try{e.h.call(e.g)}catch(n){UC(n)}var t=nv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qs=!1};function Ha(e,t){We.call(this),this.h=e||1,this.g=t||Y,this.j=at(this.qb,this),this.l=Date.now()}Ge(Ha,We);P=Ha.prototype;P.ga=!1;P.T=null;P.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Je(this,"tick"),this.ga&&(jd(this),this.start()))}};P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}P.N=function(){Ha.$.N.call(this),jd(this),delete this.g};function Ud(e,t,n){if(typeof e=="function")n&&(e=at(e,n));else if(e&&typeof e.handleEvent=="function")e=at(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Y.setTimeout(e,t||0)}function iv(e){e.g=Ud(()=>{e.g=null,e.i&&(e.i=!1,iv(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}let zC=class extends dr{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:iv(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ys(e){dr.call(this),this.h=e,this.g={}}Ge(Ys,dr);var Xp=[];function sv(e,t,n,r){Array.isArray(n)||(n&&(Xp[0]=n.toString()),n=Xp);for(var i=0;i<n.length;i++){var s=Xy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ov(e){$d(e.g,function(t,n){this.g.hasOwnProperty(n)&&Pd(t)},e),e.g={}}Ys.prototype.N=function(){Ys.$.N.call(this),ov(this)};Ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ka(){this.g=!0}Ka.prototype.Ea=function(){this.g=!1};function BC(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function bC(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function ai(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+HC(e,n)+(r?" "+r:"")})}function qC(e,t){e.info(function(){return"TIMEOUT: "+t})}Ka.prototype.info=function(){};function HC(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Md(n)}catch{return t}}var Kr={},Jp=null;function Wa(){return Jp=Jp||new We}Kr.Ta="serverreachability";function lv(e){ut.call(this,Kr.Ta,e)}Ge(lv,ut);function Xs(e){const t=Wa();Je(t,new lv(t))}Kr.STAT_EVENT="statevent";function av(e,t){ut.call(this,Kr.STAT_EVENT,e),this.stat=t}Ge(av,ut);function ft(e){const t=Wa();Je(t,new av(t,e))}Kr.Ua="timingevent";function uv(e,t){ut.call(this,Kr.Ua,e),this.size=t}Ge(uv,ut);function No(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){e()},t)}var Ga={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Vd(){}Vd.prototype.h=null;function Zp(e){return e.h||(e.h=e.i())}function hv(){}var Ao={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zd(){ut.call(this,"d")}Ge(zd,ut);function Bd(){ut.call(this,"c")}Ge(Bd,ut);var Gc;function Qa(){}Ge(Qa,Vd);Qa.prototype.g=function(){return new XMLHttpRequest};Qa.prototype.i=function(){return{}};Gc=new Qa;function Do(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ys(this),this.P=KC,e=bc?125:void 0,this.V=new Ha(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dv}function dv(){this.i=null,this.g="",this.h=!1}var KC=45e3,Qc={},Ql={};P=Do.prototype;P.setTimeout=function(e){this.P=e};function Yc(e,t,n){e.L=1,e.v=Xa(Nn(t)),e.s=n,e.S=!0,fv(e,null)}function fv(e,t){e.G=Date.now(),$o(e),e.A=Nn(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Sv(n.i,"t",r),e.C=0,n=e.l.J,e.h=new dv,e.g=Bv(e.l,n?t:null,!e.s),0<e.O&&(e.M=new zC(at(e.Pa,e,e.g),e.O)),sv(e.U,e.g,"readystatechange",e.nb),t=e.I?Qy(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Xs(),BC(e.j,e.u,e.A,e.m,e.W,e.s)}P.nb=function(e){e=e.target;const t=this.M;t&&an(e)==3?t.l():this.Pa(e)};P.Pa=function(e){try{if(e==this.g)e:{const c=an(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||bc||this.g&&(this.h.h||this.g.ja()||rm(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?Xs(3):Xs(2)),Ya(this);var n=this.g.da();this.ca=n;t:if(pv(this)){var r=rm(this.g);e="";var i=r.length,s=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),As(this);var o="";break t}this.h.i=new Y.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,bC(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ks(l)){var u=l;break t}}u=null}if(n=u)ai(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xc(this,n);else{this.i=!1,this.o=3,ft(12),Cr(this),As(this);break e}}this.S?(mv(this,c,o),bc&&this.i&&c==3&&(sv(this.U,this.V,"tick",this.mb),this.V.start())):(ai(this.j,this.m,o,null),Xc(this,o)),c==4&&Cr(this),this.i&&!this.J&&(c==4?jv(this.l,this):(this.i=!1,$o(this)))}else fx(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ft(12)):(this.o=0,ft(13)),Cr(this),As(this)}}}catch{}finally{}};function pv(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function mv(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=WC(e,n),i==Ql){t==4&&(e.o=4,ft(14),r=!1),ai(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Qc){e.o=4,ft(15),ai(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ai(e.j,e.m,i,null),Xc(e,i);pv(e)&&i!=Ql&&i!=Qc&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,ft(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gd(t),t.M=!0,ft(11))):(ai(e.j,e.m,n,"[Invalid Chunked Response]"),Cr(e),As(e))}P.mb=function(){if(this.g){var e=an(this.g),t=this.g.ja();this.C<t.length&&(Ya(this),mv(this,e,t),this.i&&e!=4&&$o(this))}};function WC(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Ql:(n=Number(t.substring(n,r)),isNaN(n)?Qc:(r+=1,r+n>t.length?Ql:(t=t.slice(r,r+n),e.C=r+n,t)))}P.cancel=function(){this.J=!0,Cr(this)};function $o(e){e.Y=Date.now()+e.P,gv(e,e.P)}function gv(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=No(at(e.lb,e),t)}function Ya(e){e.B&&(Y.clearTimeout(e.B),e.B=null)}P.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(qC(this.j,this.A),this.L!=2&&(Xs(),ft(17)),Cr(this),this.o=2,As(this)):gv(this,this.Y-e)};function As(e){e.l.H==0||e.J||jv(e.l,e)}function Cr(e){Ya(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,jd(e.V),ov(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Xc(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Jc(n.i,e))){if(!e.K&&Jc(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Jl(n),eu(n);else break e;Wd(n),ft(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=No(at(n.ib,n),6e3));if(1>=xv(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else xr(n,11)}else if((e.K||n.g==e)&&Jl(n),!Ks(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(bd(s,s.h),s.h=null))}if(r.F){const E=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,pe(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=zv(r,r.J?r.pa:null,r.Y),o.K){_v(r.i,o);var l=o,a=r.L;a&&l.setTimeout(a),l.B&&(Ya(l),$o(l)),r.g=o}else Mv(r);0<n.j.length&&tu(n)}else u[0]!="stop"&&u[0]!="close"||xr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?xr(n,7):Kd(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Xs(4)}catch{}}function GC(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(za(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function QC(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(za(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function yv(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(za(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=QC(e),r=GC(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var vv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YC(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Or(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Or){this.h=e.h,Yl(this,e.j),this.s=e.s,this.g=e.g,Xl(this,e.m),this.l=e.l;var t=e.i,n=new Js;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),em(this,n),this.o=e.o}else e&&(t=String(e).match(vv))?(this.h=!1,Yl(this,t[1]||"",!0),this.s=Es(t[2]||""),this.g=Es(t[3]||"",!0),Xl(this,t[4]),this.l=Es(t[5]||"",!0),em(this,t[6]||"",!0),this.o=Es(t[7]||"")):(this.h=!1,this.i=new Js(null,this.h))}Or.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ss(t,tm,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ss(t,tm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Ss(n,n.charAt(0)=="/"?ZC:JC,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ss(n,tx)),e.join("")};function Nn(e){return new Or(e)}function Yl(e,t,n){e.j=n?Es(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function em(e,t,n){t instanceof Js?(e.i=t,nx(e.i,e.h)):(n||(t=Ss(t,ex)),e.i=new Js(t,e.h))}function pe(e,t,n){e.i.set(t,n)}function Xa(e){return pe(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Es(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ss(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,XC),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function XC(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var tm=/[#\/\?@]/g,JC=/[#\?:]/g,ZC=/[#\?]/g,ex=/[#\?@]/g,tx=/#/g;function Js(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fr(e){e.g||(e.g=new Map,e.h=0,e.i&&YC(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}P=Js.prototype;P.add=function(e,t){fr(this),this.i=null,e=Xi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function wv(e,t){fr(e),t=Xi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ev(e,t){return fr(e),t=Xi(e,t),e.g.has(t)}P.forEach=function(e,t){fr(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};P.ta=function(){fr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};P.Z=function(e){fr(this);let t=[];if(typeof e=="string")Ev(this,e)&&(t=t.concat(this.g.get(Xi(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};P.set=function(e,t){return fr(this),this.i=null,e=Xi(this,e),Ev(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};P.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Sv(e,t,n){wv(e,t),0<n.length&&(e.i=null,e.g.set(Xi(e,t),Ad(n)),e.h+=n.length)}P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Xi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function nx(e,t){t&&!e.j&&(fr(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(wv(this,r),Sv(this,i,n))},e)),e.j=t}var rx=class{constructor(t,n){this.g=t,this.map=n}};function kv(e){this.l=e||ix,Y.PerformanceNavigationTiming?(e=Y.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ix=10;function Cv(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function xv(e){return e.h?1:e.g?e.g.size:0}function Jc(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function bd(e,t){e.g?e.g.add(t):e.h=t}function _v(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}kv.prototype.cancel=function(){if(this.i=Tv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Tv(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ad(e.i)}var sx=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function ox(){this.g=new sx}function lx(e,t,n){const r=n||"";try{yv(e,function(i,s){let o=i;To(i)&&(o=Md(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ax(e,t){const n=new Ka;if(Y.Image){const r=new Image;r.onload=Yo(Jo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yo(Jo,n,r,"TestLoadImage: error",!1,t),r.onabort=Yo(Jo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yo(Jo,n,r,"TestLoadImage: timeout",!1,t),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Jo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Oo(e){this.l=e.fc||null,this.j=e.ob||!1}Ge(Oo,Vd);Oo.prototype.g=function(){return new Ja(this.l,this.j)};Oo.prototype.i=function(e){return function(){return e}}({});function Ja(e,t){We.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=qd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ge(Ja,We);var qd=0;P=Ja.prototype;P.open=function(e,t){if(this.readyState!=qd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Zs(this)};P.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Y).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Po(this)),this.readyState=qd};P.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Iv(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Iv(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}P.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Po(this):Zs(this),this.readyState==3&&Iv(this)}};P.Za=function(e){this.g&&(this.response=this.responseText=e,Po(this))};P.Ya=function(e){this.g&&(this.response=e,Po(this))};P.ka=function(){this.g&&Po(this)};function Po(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Zs(e)}P.setRequestHeader=function(e,t){this.v.append(e,t)};P.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};P.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Zs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var ux=Y.JSON.parse;function Ie(e){We.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Nv,this.L=this.M=!1}Ge(Ie,We);var Nv="",cx=/^https?$/i,hx=["POST","PUT"];P=Ie.prototype;P.Oa=function(e){this.M=e};P.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gc.g(),this.C=this.u?Zp(this.u):Zp(Gc),this.g.onreadystatechange=at(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){nm(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Y.FormData&&e instanceof Y.FormData,!(0<=Hy(hx,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$v(this),0<this.B&&((this.L=dx(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.ua,this)):this.A=Ud(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){nm(this,s)}};function dx(e){return Ri&&typeof e.timeout=="number"&&e.ontimeout!==void 0}P.ua=function(){typeof Nd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Je(this,"timeout"),this.abort(8))};function nm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Av(e),Za(e)}function Av(e){e.F||(e.F=!0,Je(e,"complete"),Je(e,"error"))}P.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Je(this,"complete"),Je(this,"abort"),Za(this))};P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Za(this,!0)),Ie.$.N.call(this)};P.La=function(){this.s||(this.G||this.v||this.l?Dv(this):this.kb())};P.kb=function(){Dv(this)};function Dv(e){if(e.h&&typeof Nd<"u"&&(!e.C[1]||an(e)!=4||e.da()!=2)){if(e.v&&an(e)==4)Ud(e.La,0,e);else if(Je(e,"readystatechange"),an(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(vv)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!cx.test(i?i.toLowerCase():"")}n=r}if(n)Je(e,"complete"),Je(e,"success");else{e.m=6;try{var s=2<an(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Av(e)}}finally{Za(e)}}}}function Za(e,t){if(e.g){$v(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Je(e,"ready");try{n.onreadystatechange=r}catch{}}}function $v(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Y.clearTimeout(e.A),e.A=null)}P.isActive=function(){return!!this.g};function an(e){return e.g?e.g.readyState:0}P.da=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}};P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};P.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),ux(t)}};function rm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Nv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function fx(e){const t={};e=(e.g&&2<=an(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Ks(e[r]))continue;var n=jC(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}$C(t,function(r){return r.join(", ")})}P.Ia=function(){return this.m};P.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ov(e){let t="";return $d(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Hd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ov(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):pe(e,t,n))}function us(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Pv(e){this.Ga=0,this.j=[],this.l=new Ka,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=us("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=us("baseRetryDelayMs",5e3,e),this.hb=us("retryDelaySeedMs",1e4,e),this.eb=us("forwardChannelMaxRetries",2,e),this.xa=us("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new kv(e&&e.concurrentRequestLimit),this.Ja=new ox,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}P=Pv.prototype;P.ra=8;P.H=1;function Kd(e){if(Rv(e),e.H==3){var t=e.W++,n=Nn(e.I);if(pe(n,"SID",e.K),pe(n,"RID",t),pe(n,"TYPE","terminate"),Ro(e,n),t=new Do(e,e.l,t),t.L=2,t.v=Xa(Nn(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=t.v,n=!0),n||(t.g=Bv(t.l,null),t.g.ha(t.v)),t.G=Date.now(),$o(t)}Vv(e)}function eu(e){e.g&&(Gd(e),e.g.cancel(),e.g=null)}function Rv(e){eu(e),e.u&&(Y.clearTimeout(e.u),e.u=null),Jl(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Y.clearTimeout(e.m),e.m=null)}function tu(e){if(!Cv(e.i)&&!e.m){e.m=!0;var t=e.Na;Gs||rv(),Qs||(Gs(),Qs=!0),Fd.add(t,e),e.C=0}}function px(e,t){return xv(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=No(at(e.Na,e,t),Uv(e,e.C)),e.C++,!0)}P.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Do(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Qy(s),Yy(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Lv(this,i,t),n=Nn(this.I),pe(n,"RID",e),pe(n,"CVER",22),this.F&&pe(n,"X-HTTP-Session-Id",this.F),Ro(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ov(s)))+"&"+t:this.o&&Hd(n,this.o,s)),bd(this.i,i),this.bb&&pe(n,"TYPE","init"),this.P?(pe(n,"$req",t),pe(n,"SID","null"),i.aa=!0,Yc(i,n,null)):Yc(i,n,t),this.H=2}}else this.H==3&&(e?im(this,e):this.j.length==0||Cv(this.i)||im(this))};function im(e,t){var n;t?n=t.m:n=e.W++;const r=Nn(e.I);pe(r,"SID",e.K),pe(r,"RID",n),pe(r,"AID",e.V),Ro(e,r),e.o&&e.s&&Hd(r,e.o,e.s),n=new Do(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Lv(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),bd(e.i,n),Yc(n,r,t)}function Ro(e,t){e.na&&$d(e.na,function(n,r){pe(t,r,n)}),e.h&&yv({},function(n,r){pe(t,r,n)})}function Lv(e,t,n){n=Math.min(e.j.length,n);var r=e.h?at(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let u=i[a].g;const c=i[a].map;if(u-=s,0>u)s=Math.max(0,i[a].g-100),l=!1;else try{lx(c,o,"req"+u+"_")}catch{r&&r(c)}}if(l){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Mv(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Gs||rv(),Qs||(Gs(),Qs=!0),Fd.add(t,e),e.A=0}}function Wd(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=No(at(e.Ma,e),Uv(e,e.A)),e.A++,!0)}P.Ma=function(){if(this.u=null,Fv(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=No(at(this.jb,this),e)}};P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ft(10),eu(this),Fv(this))};function Gd(e){e.B!=null&&(Y.clearTimeout(e.B),e.B=null)}function Fv(e){e.g=new Do(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Nn(e.wa);pe(t,"RID","rpc"),pe(t,"SID",e.K),pe(t,"AID",e.V),pe(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&pe(t,"TO",e.qa),pe(t,"TYPE","xmlhttp"),Ro(e,t),e.o&&e.s&&Hd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Xa(Nn(t)),n.s=null,n.S=!0,fv(n,e)}P.ib=function(){this.v!=null&&(this.v=null,eu(this),Wd(this),ft(19))};function Jl(e){e.v!=null&&(Y.clearTimeout(e.v),e.v=null)}function jv(e,t){var n=null;if(e.g==t){Jl(e),Gd(e),e.g=null;var r=2}else if(Jc(e.i,t))n=t.F,_v(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=Wa(),Je(r,new uv(r,n)),tu(e)}else Mv(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&px(e,t)||r==2&&Wd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:xr(e,5);break;case 4:xr(e,10);break;case 3:xr(e,6);break;default:xr(e,2)}}}function Uv(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function xr(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=at(e.pb,e);n||(n=new Or("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||Yl(n,"https"),Xa(n)),ax(n.toString(),r)}else ft(2);e.H=0,e.h&&e.h.za(t),Vv(e),Rv(e)}P.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ft(2)):(this.l.info("Failed to ping google.com"),ft(1))};function Vv(e){if(e.H=0,e.ma=[],e.h){const t=Tv(e.i);(t.length!=0||e.j.length!=0)&&(Gp(e.ma,t),Gp(e.ma,e.j),e.i.i.length=0,Ad(e.j),e.j.length=0),e.h.ya()}}function zv(e,t,n){var r=n instanceof Or?Nn(n):new Or(n);if(r.g!="")t&&(r.g=t+"."+r.g),Xl(r,r.m);else{var i=Y.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Or(null);r&&Yl(s,r),t&&(s.g=t),i&&Xl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&pe(r,n,t),pe(r,"VER",e.ra),Ro(e,r),r}function Bv(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Ie(new Oo({ob:!0})):new Ie(e.va),t.Oa(e.J),t}P.isActive=function(){return!!this.h&&this.h.isActive(this)};function bv(){}P=bv.prototype;P.Ba=function(){};P.Aa=function(){};P.za=function(){};P.ya=function(){};P.isActive=function(){return!0};P.Va=function(){};function Zl(){if(Ri&&!(10<=Number(IC)))throw Error("Environmental error: no available transport.")}Zl.prototype.g=function(e,t){return new At(e,t)};function At(e,t){We.call(this),this.g=new Pv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ks(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ks(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ji(this)}Ge(At,We);At.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ft(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=zv(e,null,e.Y),tu(e)};At.prototype.close=function(){Kd(this.g)};At.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Md(e),e=n);t.j.push(new rx(t.fb++,e)),t.H==3&&tu(t)};At.prototype.N=function(){this.g.h=null,delete this.j,Kd(this.g),delete this.g,At.$.N.call(this)};function qv(e){zd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ge(qv,zd);function Hv(){Bd.call(this),this.status=1}Ge(Hv,Bd);function Ji(e){this.g=e}Ge(Ji,bv);Ji.prototype.Ba=function(){Je(this.g,"a")};Ji.prototype.Aa=function(e){Je(this.g,new qv(e))};Ji.prototype.za=function(e){Je(this.g,new Hv)};Ji.prototype.ya=function(){Je(this.g,"b")};function mx(){this.blockSize=-1}function Zt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ge(Zt,mx);Zt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Yu(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}Zt.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)Yu(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Yu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Yu(this,r),i=0;break}}this.h=i,this.i+=t};Zt.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function he(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var gx={};function Qd(e){return-128<=e&&128>e?xC(e,function(t){return new he([t|0],0>t?-1:0)}):new he([e|0],0>e?-1:0)}function un(e){if(isNaN(e)||!isFinite(e))return xi;if(0>e)return Xe(un(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Zc;return new he(t,0)}function Kv(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Xe(Kv(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=un(Math.pow(t,8)),r=xi,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=un(Math.pow(t,s)),r=r.R(s).add(un(o))):(r=r.R(n),r=r.add(un(o)))}return r}var Zc=4294967296,xi=Qd(0),eh=Qd(1),sm=Qd(16777216);P=he.prototype;P.ea=function(){if(Ft(this))return-Xe(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Zc+r)*t,t*=Zc}return e};P.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(kn(this))return"0";if(Ft(this))return"-"+Xe(this).toString(e);for(var t=un(Math.pow(e,6)),n=this,r="";;){var i=ta(n,t).g;n=ea(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,kn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};P.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function kn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Ft(e){return e.h==-1}P.X=function(e){return e=ea(this,e),Ft(e)?-1:kn(e)?0:1};function Xe(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new he(n,~e.h).add(eh)}P.abs=function(){return Ft(this)?Xe(this):this};P.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new he(n,n[n.length-1]&-2147483648?-1:0)};function ea(e,t){return e.add(Xe(t))}P.R=function(e){if(kn(this)||kn(e))return xi;if(Ft(this))return Ft(e)?Xe(this).R(Xe(e)):Xe(Xe(this).R(e));if(Ft(e))return Xe(this.R(Xe(e)));if(0>this.X(sm)&&0>e.X(sm))return un(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,l=e.D(i)>>>16,a=e.D(i)&65535;n[2*r+2*i]+=o*a,Zo(n,2*r+2*i),n[2*r+2*i+1]+=s*a,Zo(n,2*r+2*i+1),n[2*r+2*i+1]+=o*l,Zo(n,2*r+2*i+1),n[2*r+2*i+2]+=s*l,Zo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new he(n,0)};function Zo(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function cs(e,t){this.g=e,this.h=t}function ta(e,t){if(kn(t))throw Error("division by zero");if(kn(e))return new cs(xi,xi);if(Ft(e))return t=ta(Xe(e),t),new cs(Xe(t.g),Xe(t.h));if(Ft(t))return t=ta(e,Xe(t)),new cs(Xe(t.g),t.h);if(30<e.g.length){if(Ft(e)||Ft(t))throw Error("slowDivide_ only works with positive integers.");for(var n=eh,r=t;0>=r.X(e);)n=om(n),r=om(r);var i=ti(n,1),s=ti(r,1);for(r=ti(r,2),n=ti(n,2);!kn(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=ti(r,1),n=ti(n,1)}return t=ea(e,i.R(t)),new cs(i,t)}for(i=xi;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=un(n),o=s.R(t);Ft(o)||0<o.X(e);)n-=r,s=un(n),o=s.R(t);kn(s)&&(s=eh),i=i.add(s),e=ea(e,o)}return new cs(i,e)}P.gb=function(e){return ta(this,e).h};P.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new he(n,this.h&e.h)};P.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new he(n,this.h|e.h)};P.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new he(n,this.h^e.h)};function om(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new he(n,e.h)}function ti(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new he(i,e.h)}Zl.prototype.createWebChannel=Zl.prototype.g;At.prototype.send=At.prototype.u;At.prototype.open=At.prototype.m;At.prototype.close=At.prototype.close;Ga.NO_ERROR=0;Ga.TIMEOUT=8;Ga.HTTP_ERROR=6;cv.COMPLETE="complete";hv.EventType=Ao;Ao.OPEN="a";Ao.CLOSE="b";Ao.ERROR="c";Ao.MESSAGE="d";We.prototype.listen=We.prototype.O;Ie.prototype.listenOnce=Ie.prototype.P;Ie.prototype.getLastError=Ie.prototype.Sa;Ie.prototype.getLastErrorCode=Ie.prototype.Ia;Ie.prototype.getStatus=Ie.prototype.da;Ie.prototype.getResponseJson=Ie.prototype.Wa;Ie.prototype.getResponseText=Ie.prototype.ja;Ie.prototype.send=Ie.prototype.ha;Ie.prototype.setWithCredentials=Ie.prototype.Oa;Zt.prototype.digest=Zt.prototype.l;Zt.prototype.reset=Zt.prototype.reset;Zt.prototype.update=Zt.prototype.j;he.prototype.add=he.prototype.add;he.prototype.multiply=he.prototype.R;he.prototype.modulo=he.prototype.gb;he.prototype.compare=he.prototype.X;he.prototype.toNumber=he.prototype.ea;he.prototype.toString=he.prototype.toString;he.prototype.getBits=he.prototype.D;he.fromNumber=un;he.fromString=Kv;var yx=function(){return new Zl},vx=function(){return Wa()},Xu=Ga,wx=cv,Ex=Kr,lm={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Sx=Oo,el=hv,kx=Ie,Cx=Zt,_i=he;const am="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let it=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zi="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Uy("@firebase/firestore");function um(){return Fr.logLevel}function z(e,...t){if(Fr.logLevel<=ue.DEBUG){const n=t.map(Yd);Fr.debug(`Firestore (${Zi}): ${e}`,...n)}}function An(e,...t){if(Fr.logLevel<=ue.ERROR){const n=t.map(Yd);Fr.error(`Firestore (${Zi}): ${e}`,...n)}}function Li(e,...t){if(Fr.logLevel<=ue.WARN){const n=t.map(Yd);Fr.warn(`Firestore (${Zi}): ${e}`,...n)}}function Yd(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e="Unexpected state"){const t=`FIRESTORE (${Zi}) INTERNAL ASSERTION FAILED: `+e;throw An(t),new Error(t)}function ye(e,t){e||Q()}function ee(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let F=class extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _n=class{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wv=class{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},xx=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(it.UNAUTHENTICATED))}shutdown(){}};class _x{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let Tx=class{constructor(t){this.t=t,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new _n;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _n,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;t.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _n)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new Wv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ye(t===null||typeof t=="string"),new it(t)}},Ix=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},Nx=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new Ix(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}};class Ax{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}let Dx=class{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ye(typeof n.token=="string"),this.T=n.token,new Ax(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=$x(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function le(e,t){return e<t?-1:e>t?1:0}function Mi(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new F(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Ve(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?le(this.nanoseconds,t.nanoseconds):le(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.timestamp=t}static fromTimestamp(t){return new J(t)}static min(){return new J(new Ve(0,0))}static max(){return new J(new Ve(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n,r){n===void 0?n=0:n>t.length&&Q(),r===void 0?r=t.length-n:r>t.length-n&&Q(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return eo.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof eo?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class me extends eo{construct(t,n,r){return new me(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new F(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new me(n)}static emptyPath(){return new me([])}}const Ox=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends eo{construct(t,n,r){return new lt(t,n,r)}static isValidIdentifier(t){return Ox.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new F(_.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const l=t[i];if(l==="\\"){if(i+1===t.length)throw new F(_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const a=t[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new F(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new F(_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(t){this.path=t}static fromPath(t){return new b(me.fromString(t))}static fromName(t){return new b(me.fromString(t).popFirst(5))}static empty(){return new b(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return me.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new b(new me(t.slice()))}}function Px(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new lr(i,b.empty(),t)}function Rx(e){return new lr(e.readTime,e.key,-1)}class lr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new lr(J.min(),b.empty(),-1)}static max(){return new lr(J.max(),b.empty(),-1)}}function Lx(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=b.comparator(e.documentKey,t.documentKey),n!==0?n:le(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(e){if(e.code!==_.FAILED_PRECONDITION||e.message!==Mx)throw e;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):N.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):N.reject(n)}static resolve(t){return new N((n,r)=>{n(t)})}static reject(t){return new N((n,r)=>{r(t)})}static waitFor(t){return new N((n,r)=>{let i=0,s=0,o=!1;t.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},a=>r(a))}),o=!0,s===i&&n()})}static or(t){let n=N.resolve(!1);for(const r of t)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new N((r,i)=>{const s=t.length,o=new Array(s);let l=0;for(let a=0;a<s;a++){const u=a;n(t[u]).next(c=>{o[u]=c,++l,l===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new N((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Mo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}Xd.ct=-1;function nu(e){return e==null}function na(e){return e===0&&1/e==-1/0}function jx(e){return typeof e=="number"&&Number.isInteger(e)&&!na(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fe=class th{constructor(t,n){this.comparator=t,this.root=n||Jn.EMPTY}insert(t,n){return new th(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(t){return new th(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tl(this.root,t,this.comparator,!1)}getReverseIterator(){return new tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tl(this.root,t,this.comparator,!0)}},tl=class{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Jn=class vn{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??vn.RED,this.left=i??vn.EMPTY,this.right=s??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new vn(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)}};Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Jn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tt=class nh{constructor(t){this.comparator=t,this.data=new Fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new hm(this.data.getIterator())}getIteratorFrom(t){return new hm(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof nh)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new nh(this.comparator);return n.data=t,n}},hm=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cn=class rh{constructor(t){this.fields=t,t.sort(lt.comparator)}static empty(){return new rh([])}unionWith(t){let n=new Tt(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new rh(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Mi(this.fields,t.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yv=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dt=class ih{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Yv("Invalid base64 string: "+i):i}}(t);return new ih(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new ih(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return le(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Dt.EMPTY_BYTE_STRING=new Dt("");const Ux=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(e){if(ye(!!e),typeof e=="string"){let t=0;const n=Ux.exec(e);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Pe(e.seconds),nanos:Pe(e.nanos)}}function Pe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function jr(e){return typeof e=="string"?Dt.fromBase64String(e):Dt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zd(e){const t=e.mapValue.fields.__previous_value__;return Jd(t)?Zd(t):t}function to(e){const t=ar(e.mapValue.fields.__local_write_time__.timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vx=class{constructor(t,n,r,i,s,o,l,a,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=u}},Xv=class sh{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new sh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof sh&&t.projectId===this.projectId&&t.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ur(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Jd(e)?4:zx(e)?9007199254740991:10:Q()}function mn(e,t){if(e===t)return!0;const n=Ur(e);if(n!==Ur(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return to(e).isEqual(to(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ar(r.timestampValue),o=ar(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return jr(r.bytesValue).isEqual(jr(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Pe(r.geoPointValue.latitude)===Pe(i.geoPointValue.latitude)&&Pe(r.geoPointValue.longitude)===Pe(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pe(r.integerValue)===Pe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Pe(r.doubleValue),o=Pe(i.doubleValue);return s===o?na(s)===na(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Mi(e.arrayValue.values||[],t.arrayValue.values||[],mn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(cm(s)!==cm(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!mn(s[l],o[l])))return!1;return!0}(e,t);default:return Q()}}function no(e,t){return(e.values||[]).find(n=>mn(n,t))!==void 0}function Fi(e,t){if(e===t)return 0;const n=Ur(e),r=Ur(t);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Pe(i.integerValue||i.doubleValue),l=Pe(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return dm(e.timestampValue,t.timestampValue);case 4:return dm(to(e),to(t));case 5:return le(e.stringValue,t.stringValue);case 6:return function(i,s){const o=jr(i),l=jr(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let a=0;a<o.length&&a<l.length;a++){const u=le(o[a],l[a]);if(u!==0)return u}return le(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=le(Pe(i.latitude),Pe(s.latitude));return o!==0?o:le(Pe(i.longitude),Pe(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],l=s.values||[];for(let a=0;a<o.length&&a<l.length;++a){const u=Fi(o[a],l[a]);if(u)return u}return le(o.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===nl.mapValue&&s===nl.mapValue)return 0;if(i===nl.mapValue)return 1;if(s===nl.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),a=s.fields||{},u=Object.keys(a);l.sort(),u.sort();for(let c=0;c<l.length&&c<u.length;++c){const d=le(l[c],u[c]);if(d!==0)return d;const h=Fi(o[l[c]],a[u[c]]);if(h!==0)return h}return le(l.length,u.length)}(e.mapValue,t.mapValue);default:throw Q()}}function dm(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return le(e,t);const n=ar(e),r=ar(t),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function ji(e){return oh(e)}function oh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=ar(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?jr(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,b.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=oh(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${oh(r.fields[l])}`;return s+"}"}(e.mapValue):Q();var t,n}function fm(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function lh(e){return!!e&&"integerValue"in e}function ef(e){return!!e&&"arrayValue"in e}function pm(e){return!!e&&"nullValue"in e}function mm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Il(e){return!!e&&"mapValue"in e}function Ds(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Wr(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ds(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ds(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(t){this.value=t}static empty(){return new wt({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Il(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ds(n)}setAll(t){let n=lt.emptyPath(),r={},i=[];t.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Ds(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Il(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return mn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Il(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Wr(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new wt(Ds(this.value))}}function Jv(e){const t=[];return Wr(e.fields,(n,r)=>{const i=new lt([n]);if(Il(r)){const s=Jv(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new cn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t,n,r,i,s,o,l){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(t){return new st(t,0,J.min(),J.min(),J.min(),wt.empty(),0)}static newFoundDocument(t,n,r,i){return new st(t,1,n,J.min(),r,i,0)}static newNoDocument(t,n){return new st(t,2,n,J.min(),J.min(),wt.empty(),0)}static newUnknownDocument(t,n){return new st(t,3,n,J.min(),J.min(),wt.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wt.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof st&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new st(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,n){this.position=t,this.inclusive=n}}function gm(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=b.comparator(b.fromName(o.referenceValue),n.key):r=Fi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ym(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!mn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,n="asc"){this.field=t,this.dir=n}}function Bx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{}class Le extends Zv{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new qx(t,n,r):n==="array-contains"?new Wx(t,r):n==="in"?new Gx(t,r):n==="not-in"?new Qx(t,r):n==="array-contains-any"?new Yx(t,r):new Le(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Hx(t,r):new Kx(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fi(n,this.value)):n!==null&&Ur(this.value)===Ur(n)&&this.matchesComparison(Fi(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class en extends Zv{constructor(t,n){super(),this.filters=t,this.op=n,this.lt=null}static create(t,n){return new en(t,n)}matches(t){return e0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(n=>n.isInequality());return t!==null?t.field:null}ft(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function e0(e){return e.op==="and"}function t0(e){return bx(e)&&e0(e)}function bx(e){for(const t of e.filters)if(t instanceof en)return!1;return!0}function ah(e){if(e instanceof Le)return e.field.canonicalString()+e.op.toString()+ji(e.value);if(t0(e))return e.filters.map(t=>ah(t)).join(",");{const t=e.filters.map(n=>ah(n)).join(",");return`${e.op}(${t})`}}function n0(e,t){return e instanceof Le?function(n,r){return r instanceof Le&&n.op===r.op&&n.field.isEqual(r.field)&&mn(n.value,r.value)}(e,t):e instanceof en?function(n,r){return r instanceof en&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&n0(s,r.filters[o]),!0):!1}(e,t):void Q()}function r0(e){return e instanceof Le?function(t){return`${t.field.canonicalString()} ${t.op} ${ji(t.value)}`}(e):e instanceof en?function(t){return t.op.toString()+" {"+t.getFilters().map(r0).join(" ,")+"}"}(e):"Filter"}class qx extends Le{constructor(t,n,r){super(t,n,r),this.key=b.fromName(r.referenceValue)}matches(t){const n=b.comparator(t.key,this.key);return this.matchesComparison(n)}}class Hx extends Le{constructor(t,n){super(t,"in",n),this.keys=i0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Kx extends Le{constructor(t,n){super(t,"not-in",n),this.keys=i0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function i0(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>b.fromName(r.referenceValue))}class Wx extends Le{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ef(n)&&no(n.arrayValue,this.value)}}class Gx extends Le{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&no(this.value.arrayValue,n)}}class Qx extends Le{constructor(t,n){super(t,"not-in",n)}matches(t){if(no(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!no(this.value.arrayValue,n)}}class Yx extends Le{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ef(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>no(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,n=null,r=[],i=[],s=null,o=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.dt=null}}function vm(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Xx(e,t,n,r,i,s,o)}function tf(e){const t=ee(e);if(t.dt===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>ah(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),nu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ji(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ji(r)).join(",")),t.dt=n}return t.dt}function nf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Bx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!n0(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ym(e.startAt,t.startAt)&&ym(e.endAt,t.endAt)}function uh(e){return b.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t,n=null,r=[],i=[],s=null,o="F",l=null,a=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function Jx(e,t,n,r,i,s,o,l){return new Fo(e,t,n,r,i,s,o,l)}function rf(e){return new Fo(e)}function wm(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function s0(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sf(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function o0(e){return e.collectionGroup!==null}function Ti(e){const t=ee(e);if(t.wt===null){t.wt=[];const n=sf(t),r=s0(t);if(n!==null&&r===null)n.isKeyField()||t.wt.push(new $s(n)),t.wt.push(new $s(lt.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new $s(lt.keyField(),s))}}}return t.wt}function Dn(e){const t=ee(e);if(!t._t)if(t.limitType==="F")t._t=vm(t.path,t.collectionGroup,Ti(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of Ti(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new $s(s.field,o))}const r=t.endAt?new ra(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ra(t.startAt.position,t.startAt.inclusive):null;t._t=vm(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t._t}function ch(e,t){t.getFirstInequalityField(),sf(e);const n=e.filters.concat([t]);return new Fo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function hh(e,t,n){return new Fo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ru(e,t){return nf(Dn(e),Dn(t))&&e.limitType===t.limitType}function l0(e){return`${tf(Dn(e))}|lt:${e.limitType}`}function dh(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>r0(r)).join(", ")}]`),nu(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>ji(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>ji(r)).join(",")),`Target(${n})`}(Dn(e))}; limitType=${e.limitType})`}function iu(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):b.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of Ti(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const l=gm(i,s,o);return i.inclusive?l<=0:l<0}(n.startAt,Ti(n),r)||n.endAt&&!function(i,s,o){const l=gm(i,s,o);return i.inclusive?l>=0:l>0}(n.endAt,Ti(n),r))}(e,t)}function Zx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function a0(e){return(t,n)=>{let r=!1;for(const i of Ti(e)){const s=e_(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function e_(e,t,n){const r=e.field.isKeyField()?b.comparator(t.key,n.key):function(i,s,o){const l=s.data.field(i),a=o.data.field(i);return l!==null&&a!==null?Fi(l,a):Q()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Wr(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Qv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=new Fe(b.comparator);function $n(){return t_}const u0=new Fe(b.comparator);function ks(...e){let t=u0;for(const n of e)t=t.insert(n.key,n);return t}function c0(e){let t=u0;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function _r(){return Os()}function h0(){return Os()}function Os(){return new es(e=>e.toString(),(e,t)=>e.isEqual(t))}const n_=new Fe(b.comparator),r_=new Tt(b.comparator);function re(...e){let t=r_;for(const n of e)t=t.add(n);return t}const i_=new Tt(le);function s_(){return i_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:na(t)?"-0":t}}function f0(e){return{integerValue:""+e}}function o_(e,t){return jx(t)?f0(t):d0(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this._=void 0}}function l_(e,t,n){return e instanceof ia?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Jd(i)&&(i=Zd(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof ro?m0(e,t):e instanceof io?g0(e,t):function(r,i){const s=p0(r,i),o=Em(s)+Em(r.gt);return lh(s)&&lh(r.gt)?f0(o):d0(r.serializer,o)}(e,t)}function a_(e,t,n){return e instanceof ro?m0(e,t):e instanceof io?g0(e,t):n}function p0(e,t){return e instanceof sa?lh(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class ia extends su{}class ro extends su{constructor(t){super(),this.elements=t}}function m0(e,t){const n=y0(t);for(const r of e.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}class io extends su{constructor(t){super(),this.elements=t}}function g0(e,t){let n=y0(t);for(const r of e.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}class sa extends su{constructor(t,n){super(),this.serializer=t,this.gt=n}}function Em(e){return Pe(e.integerValue||e.doubleValue)}function y0(e){return ef(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function u_(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof ro&&r instanceof ro||n instanceof io&&r instanceof io?Mi(n.elements,r.elements,mn):n instanceof sa&&r instanceof sa?mn(n.gt,r.gt):n instanceof ia&&r instanceof ia}(e.transform,t.transform)}class c_{constructor(t,n){this.version=t,this.transformResults=n}}class Yt{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Yt}static exists(t){return new Yt(void 0,t)}static updateTime(t){return new Yt(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ou{}function v0(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new E0(e.key,Yt.none()):new jo(e.key,e.data,Yt.none());{const n=e.data,r=wt.empty();let i=new Tt(lt.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new pr(e.key,r,new cn(i.toArray()),Yt.none())}}function h_(e,t,n){e instanceof jo?function(r,i,s){const o=r.value.clone(),l=km(r.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof pr?function(r,i,s){if(!Nl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=km(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(w0(r)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ps(e,t,n,r){return e instanceof jo?function(i,s,o,l){if(!Nl(i.precondition,s))return o;const a=i.value.clone(),u=Cm(i.fieldTransforms,l,s);return a.setAll(u),s.convertToFoundDocument(s.version,a).setHasLocalMutations(),null}(e,t,n,r):e instanceof pr?function(i,s,o,l){if(!Nl(i.precondition,s))return o;const a=Cm(i.fieldTransforms,l,s),u=s.data;return u.setAll(w0(i)),u.setAll(a),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return Nl(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function d_(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=p0(r.transform,i||null);s!=null&&(n===null&&(n=wt.empty()),n.set(r.field,s))}return n||null}function Sm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Mi(n,r,(i,s)=>u_(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class jo extends ou{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pr extends ou{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function w0(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function km(e,t,n){const r=new Map;ye(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,l=t.data.field(s.field);r.set(s.field,a_(o,l,n[i]))}return r}function Cm(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,l_(s,o,t))}return r}class E0 extends ou{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f_ extends ou{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&h_(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ps(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ps(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=h0();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const a=v0(o,l);a!==null&&r.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),re())}isEqual(t){return this.batchId===t.batchId&&Mi(this.mutations,t.mutations,(n,r)=>Sm(n,r))&&Mi(this.baseMutations,t.baseMutations,(n,r)=>Sm(n,r))}}let m_=class S0{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){ye(t.mutations.length===r.length);let i=n_;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new S0(t,n,r,i)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g_=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y_=class{constructor(t,n){this.count=t,this.unchangedNames=n}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,se;function v_(e){switch(e){default:return Q();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function k0(e){if(e===void 0)return An("GRPC error has no .code"),_.UNKNOWN;switch(e){case Oe.OK:return _.OK;case Oe.CANCELLED:return _.CANCELLED;case Oe.UNKNOWN:return _.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return _.INTERNAL;case Oe.UNAVAILABLE:return _.UNAVAILABLE;case Oe.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Oe.NOT_FOUND:return _.NOT_FOUND;case Oe.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Oe.ABORTED:return _.ABORTED;case Oe.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Oe.DATA_LOSS:return _.DATA_LOSS;default:return Q()}}(se=Oe||(Oe={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_=class C0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return rl}static getOrCreateInstance(){return rl===null&&(rl=new C0),rl}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}},rl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new _i([4294967295,4294967295],0);function xm(e){const t=E_().encode(e),n=new Cx;return n.update(t),new Uint8Array(n.digest())}function _m(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new _i([n,r],0),new _i([i,s],0)]}let k_=class x0{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cs(`Invalid padding: ${n}`);if(r<0)throw new Cs(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Cs(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Cs(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*t.length-n,this.Tt=_i.fromNumber(this.It)}Et(t,n,r){let i=t.add(n.multiply(_i.fromNumber(r)));return i.compare(S_)===1&&(i=new _i([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}vt(t){if(this.It===0)return!1;const n=xm(t),[r,i]=_m(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new x0(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(t){if(this.It===0)return;const n=xm(t),[r,i]=_m(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}};class Cs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _0=class T0{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,of.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new T0(J.min(),i,new Fe(le),$n(),re())}},of=class I0{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new I0(r,n,re(),re(),re())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=class{constructor(t,n,r,i){this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i}},N0=class{constructor(t,n){this.targetId=t,this.Vt=n}},A0=class{constructor(t,n,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}},Tm=class{constructor(){this.St=0,this.Dt=Nm(),this.Ct=Dt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=re(),n=re(),r=re();return this.Dt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new of(this.Ct,this.xt,t,n,r)}Ft(){this.Nt=!1,this.Dt=Nm()}Bt(t,n){this.Nt=!0,this.Dt=this.Dt.insert(t,n)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}},C_=class{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=$n(),this.zt=Im(),this.Wt=new Fe(le)}Ht(t){for(const n of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(n,t.bt):this.Yt(n,t.key,t.bt);for(const n of t.removedTargetIds)this.Yt(n,t.key,t.bt)}Xt(t){this.forEachTarget(t,n=>{const r=this.Zt(n);switch(t.state){case 0:this.te(n)&&r.$t(t.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(t.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(t.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(t.resumeToken));break;default:Q()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(t){var n;const r=t.targetId,i=t.Vt.count,s=this.se(r);if(s){const o=s.target;if(uh(o))if(i===0){const l=new b(o.path);this.Yt(r,l,st.newNoDocument(l,J.min()))}else ye(i===1);else{const l=this.ie(r);if(l!==i){const a=this.re(t,l);if(a!==0){this.ee(r);const u=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=w_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,g,v,E,C,p;const f={localCacheCount:c,existenceFilterCount:d.count},m=d.unchangedNames;return m&&(f.bloomFilter={applied:u===0,hashCount:(h=m==null?void 0:m.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(E=(v=(g=m==null?void 0:m.bits)===null||g===void 0?void 0:g.bitmap)===null||v===void 0?void 0:v.length)!==null&&E!==void 0?E:0,padding:(p=(C=m==null?void 0:m.bits)===null||C===void 0?void 0:C.padding)!==null&&p!==void 0?p:0}),f}(a,l,t.Vt))}}}}re(t,n){const{unchangedNames:r,count:i}=t.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=r;let a,u;try{a=jr(s).toUint8Array()}catch(c){if(c instanceof Yv)return Li("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new k_(a,o,l)}catch(c){return Li(c instanceof Cs?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(t.targetId,u)?2:0}oe(t,n){const r=this.Gt.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(l)||(this.Yt(t,s,null),i++)}),i}ce(t){const n=new Map;this.Qt.forEach((s,o)=>{const l=this.se(o);if(l){if(s.current&&uh(l.target)){const a=new b(l.target.path);this.jt.get(a)!==null||this.ae(o,a)||this.Yt(o,a,st.newNoDocument(a,t))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=re();this.zt.forEach((s,o)=>{let l=!0;o.forEachWhile(a=>{const u=this.se(a);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(t));const i=new _0(t,n,this.Wt,this.jt,r);return this.jt=$n(),this.zt=Im(),this.Wt=new Fe(le),i}Jt(t,n){if(!this.te(t))return;const r=this.ae(t,n.key)?2:0;this.Zt(t).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(t))}Yt(t,n,r){if(!this.te(t))return;const i=this.Zt(t);this.ae(t,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(t)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(t){this.Qt.delete(t)}ie(t){const n=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let n=this.Qt.get(t);return n||(n=new Tm,this.Qt.set(t,n)),n}he(t){let n=this.zt.get(t);return n||(n=new Tt(le),this.zt=this.zt.insert(t,n)),n}te(t){const n=this.se(t)!==null;return n||z("WatchChangeAggregator","Detected inactive target",t),n}se(t){const n=this.Qt.get(t);return n&&n.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new Tm),this.Gt.getRemoteKeysForTarget(t).forEach(n=>{this.Yt(t,n,null)})}ae(t,n){return this.Gt.getRemoteKeysForTarget(t).has(n)}};function Im(){return new Fe(b.comparator)}function Nm(){return new Fe(b.comparator)}const x_=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),__=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),T_=(()=>({and:"AND",or:"OR"}))();let I_=class{constructor(t,n){this.databaseId=t,this.useProto3Json=n}};function fh(e,t){return e.useProto3Json||nu(t)?t:{value:t}}function oa(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function D0(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function N_(e,t){return oa(e,t.toTimestamp())}function dn(e){return ye(!!e),J.fromTimestamp(function(t){const n=ar(t);return new Ve(n.seconds,n.nanos)}(e))}function lf(e,t){return function(n){return new me(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function $0(e){const t=me.fromString(e);return ye(L0(t)),t}function ph(e,t){return lf(e.databaseId,t.path)}function Ju(e,t){const n=$0(t);if(n.get(1)!==e.databaseId.projectId)throw new F(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new b(O0(n))}function mh(e,t){return lf(e.databaseId,t)}function A_(e){const t=$0(e);return t.length===4?me.emptyPath():O0(t)}function gh(e){return new me(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function O0(e){return ye(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Am(e,t,n){return{name:ph(e,t),fields:n.value.mapValue.fields}}function D_(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(a){return a==="NO_CHANGE"?0:a==="ADD"?1:a==="REMOVE"?2:a==="CURRENT"?3:a==="RESET"?4:Q()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(a,u){return a.useProto3Json?(ye(u===void 0||typeof u=="string"),Dt.fromBase64String(u||"")):(ye(u===void 0||u instanceof Uint8Array),Dt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(a){const u=a.code===void 0?_.UNKNOWN:k0(a.code);return new F(u,a.message||"")}(o);n=new A0(r,i,s,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ju(e,r.document.name),s=dn(r.document.updateTime),o=r.document.createTime?dn(r.document.createTime):J.min(),l=new wt({mapValue:{fields:r.document.fields}}),a=st.newFoundDocument(i,s,o,l),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Al(u,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ju(e,r.document),s=r.readTime?dn(r.readTime):J.min(),o=st.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Al([],l,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ju(e,r.document),s=r.removedTargetIds||[];n=new Al([],s,i,null)}else{if(!("filter"in t))return Q();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new y_(i,s),l=r.targetId;n=new N0(l,o)}}return n}function $_(e,t){let n;if(t instanceof jo)n={update:Am(e,t.key,t.value)};else if(t instanceof E0)n={delete:ph(e,t.key)};else if(t instanceof pr)n={update:Am(e,t.key,t.data),updateMask:V_(t.fieldMask)};else{if(!(t instanceof f_))return Q();n={verify:ph(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ia)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof io)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof sa)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Q()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:N_(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Q()}(e,t.precondition)),n}function O_(e,t){return e&&e.length>0?(ye(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?dn(r.updateTime):dn(i);return s.isEqual(J.min())&&(s=dn(i)),new c_(s,r.transformResults||[])}(n,t))):[]}function P_(e,t){return{documents:[mh(e,t.path)]}}function R_(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=mh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=mh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(a.length!==0)return R0(en.create(a,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(a.length!==0)return a.map(u=>function(c){return{field:ii(c.field),direction:F_(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=fh(e,t.limit);var l;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(a){return{before:!a.inclusive,values:a.position}}(t.endAt)),n}function L_(e){let t=A_(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=P0(c);return d instanceof en&&t0(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new $s(si(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let l=null;n.limit&&(l=function(c){let d;return d=typeof c=="object"?c.value:c,nu(d)?null:d}(n.limit));let a=null;n.startAt&&(a=function(c){const d=!!c.before,h=c.values||[];return new ra(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new ra(h,d)}(n.endAt)),Jx(t,i,o,s,l,"F",a,u)}function M_(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function P0(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=si(t.unaryFilter.field);return Le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=si(t.unaryFilter.field);return Le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=si(t.unaryFilter.field);return Le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=si(t.unaryFilter.field);return Le.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(e):e.fieldFilter!==void 0?function(t){return Le.create(si(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return en.create(t.compositeFilter.filters.map(n=>P0(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Q()}}(t.compositeFilter.op))}(e):Q()}function F_(e){return x_[e]}function j_(e){return __[e]}function U_(e){return T_[e]}function ii(e){return{fieldPath:e.canonicalString()}}function si(e){return lt.fromServerFormat(e.fieldPath)}function R0(e){return e instanceof Le?function(t){if(t.op==="=="){if(mm(t.value))return{unaryFilter:{field:ii(t.field),op:"IS_NAN"}};if(pm(t.value))return{unaryFilter:{field:ii(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mm(t.value))return{unaryFilter:{field:ii(t.field),op:"IS_NOT_NAN"}};if(pm(t.value))return{unaryFilter:{field:ii(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ii(t.field),op:j_(t.op),value:t.value}}}(e):e instanceof en?function(t){const n=t.getFilters().map(r=>R0(r));return n.length===1?n[0]:{compositeFilter:{op:U_(t.op),filters:n}}}(e):Q()}function V_(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function L0(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t,n,r,i,s=J.min(),o=J.min(),l=Dt.EMPTY_BYTE_STRING,a=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=a}withSequenceNumber(t){return new qn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(t){this.fe=t}}function B_(e){const t=L_({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?hh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.rn=new q_}addToCollectionParentIndex(t,n){return this.rn.add(n),N.resolve()}getCollectionParents(t,n){return N.resolve(this.rn.getEntries(n))}addFieldIndex(t,n){return N.resolve()}deleteFieldIndex(t,n){return N.resolve()}getDocumentsMatchingTarget(t,n){return N.resolve(null)}getIndexType(t,n){return N.resolve(0)}getFieldIndexes(t,n){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,n){return N.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,n){return N.resolve(lr.min())}updateCollectionGroup(t,n,r){return N.resolve()}updateIndexEntries(t,n){return N.resolve()}}class q_{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Tt(me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Tt(me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Ui(0)}static Mn(){return new Ui(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.changes=new es(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,st.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ps(r.mutation,i,cn.empty(),Ve.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,re()).next(()=>r))}getLocalViewOfDocuments(t,n,r=re()){const i=_r();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=ks();return s.forEach((l,a)=>{o=o.insert(l,a.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=_r();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,re()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(t,n,r,i){let s=$n();const o=Os(),l=Os();return n.forEach((a,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof pr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ps(c.mutation,u,c.mutation.getFieldMask(),Ve.now())):o.set(u.key,cn.empty())}),this.recalculateAndSaveOverlays(t,s).next(a=>(a.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return l.set(u,new K_(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(t,n){const r=Os();let i=new Fe((o,l)=>o-l),s=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const l of o)l.keys().forEach(a=>{const u=n.get(a);if(u===null)return;let c=r.get(a)||cn.empty();c=l.applyToLocalView(u,c),r.set(a,c);const d=(i.get(l.batchId)||re()).add(a);i=i.insert(l.batchId,d)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),u=a.key,c=a.value,d=h0();c.forEach(h=>{if(!s.has(h)){const g=v0(n.get(h),r.get(h));g!==null&&d.set(h,g),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return b.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):o0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):N.resolve(_r());let l=-1,a=s;return o.next(u=>N.forEach(u,(c,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),s.get(c)?N.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{a=a.insert(c,h)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,a,u,re())).next(c=>({batchId:l,changes:c0(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new b(n)).next(r=>{let i=ks();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=ks();return this.indexManager.getCollectionParents(t,i).next(o=>N.forEach(o,l=>{const a=function(u,c){return new Fo(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,a,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((l,a)=>{const u=a.getKey();s.get(u)===null&&(s=s.insert(u,st.newInvalidDocument(u)))});let o=ks();return s.forEach((l,a)=>{const u=i.get(l);u!==void 0&&Ps(u.mutation,a,cn.empty(),Ve.now()),iu(n,a)&&(o=o.insert(l,a))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,n){return N.resolve(this.cs.get(n))}saveBundleMetadata(t,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:dn(r.createTime)}),N.resolve()}getNamedQuery(t,n){return N.resolve(this.hs.get(n))}saveNamedQuery(t,n){return this.hs.set(n.name,function(r){return{name:r.name,query:B_(r.bundledQuery),readTime:dn(r.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.overlays=new Fe(b.comparator),this.ls=new Map}getOverlay(t,n){return N.resolve(this.overlays.get(n))}getOverlays(t,n){const r=_r();return N.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.we(t,n,s)}),N.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),N.resolve()}getOverlaysForCollection(t,n,r){const i=_r(),s=n.length+1,o=new b(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const a=l.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&a.largestBatchId>r&&i.set(a.getKey(),a)}return N.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Fe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=_r(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const l=_r(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,c)=>l.set(u,c)),!(l.size()>=i)););return N.resolve(l)}we(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new g_(n,r));let s=this.ls.get(n);s===void 0&&(s=re(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this.fs=new Tt(qe.ds),this.ws=new Tt(qe._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,n){const r=new qe(t,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.ys(new qe(t,n))}ps(t,n){t.forEach(r=>this.removeReference(r,n))}Is(t){const n=new b(new me([])),r=new qe(n,t),i=new qe(n,t+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const n=new b(new me([])),r=new qe(n,t),i=new qe(n,t+1);let s=re();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new qe(t,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,n){this.key=t,this.As=n}static ds(t,n){return b.comparator(t.key,n.key)||le(t.As,n.As)}static _s(t,n){return le(t.As,n.As)||b.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Tt(qe.ds)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new p_(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Rs=this.Rs.add(new qe(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return N.resolve(o)}lookupMutationBatch(t,n){return N.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new qe(n,0),i=new qe(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const l=this.Ps(o.As);s.push(l)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Tt(le);return n.forEach(i=>{const s=new qe(i,0),o=new qe(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],l=>{r=r.add(l.As)})}),N.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;b.isDocumentKey(s)||(s=s.child(""));const o=new qe(new b(s),0);let l=new Tt(le);return this.Rs.forEachWhile(a=>{const u=a.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(a.As)),!0)},o),N.resolve(this.Vs(l))}Vs(t){const n=[];return t.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){ye(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return N.forEach(n.mutations,i=>{const s=new qe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Rs=r})}Cn(t){}containsKey(t,n){const r=new qe(n,0),i=this.Rs.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}Ss(t,n){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const n=this.bs(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(t){this.Ds=t,this.docs=new Fe(b.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():st.newInvalidDocument(n))}getEntries(t,n){let r=$n();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():st.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=$n();const o=n.path,l=new b(o.child("")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:u,value:{document:c}}=a.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Lx(Rx(c),r)<=0||(i.has(c.key)||iu(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Q()}Cs(t,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new J_(this)}getSize(t){return N.resolve(this.size)}}class J_ extends H_{constructor(t){super(),this.os=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(t,i)):this.os.removeEntry(r)}),N.waitFor(n)}getFromCache(t,n){return this.os.getEntry(t,n)}getAllFromCache(t,n){return this.os.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(t){this.persistence=t,this.xs=new es(n=>tf(n),nf),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Ns=0,this.ks=new af,this.targetCount=0,this.Ms=Ui.kn()}forEachTarget(t,n){return this.xs.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),N.resolve()}Fn(t){this.xs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ms=new Ui(n),this.highestTargetId=n),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,n){return this.Fn(n),this.targetCount+=1,N.resolve()}updateTargetData(t,n){return this.Fn(n),N.resolve()}removeTargetData(t,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.xs.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,n){const r=this.xs.get(n)||null;return N.resolve(r)}addMatchingKeys(t,n,r){return this.ks.gs(n,r),N.resolve()}removeMatchingKeys(t,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ks.Is(n),N.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ks.Es(n);return N.resolve(r)}containsKey(t,n){return N.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,n){this.$s={},this.overlays={},this.Os=new Xd(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Z_(this),this.indexManager=new b_,this.remoteDocumentCache=function(r){return new X_(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new z_(n),this.qs=new G_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Q_,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.$s[t.toKey()];return r||(r=new Y_(n,this.referenceDelegate),this.$s[t.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,n,r){z("MemoryPersistence","Starting transaction:",t);const i=new tT(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(t,n){return N.or(Object.values(this.$s).map(r=>()=>r.containsKey(t,n)))}}class tT extends Fx{constructor(t){super(),this.currentSequenceNumber=t}}class uf{constructor(t){this.persistence=t,this.Qs=new af,this.js=null}static zs(t){return new uf(t)}get Ws(){if(this.js)return this.js;throw Q()}addReference(t,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),N.resolve()}removeReference(t,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),N.resolve()}markPotentiallyOrphaned(t,n){return this.Ws.add(n.toString()),N.resolve()}removeTarget(t,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Us(){this.js=new Set}Ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Ws,r=>{const i=b.fromPath(r);return this.Hs(t,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.js=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hs(t,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(t){return 0}Hs(t,n){return N.or([()=>N.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gs(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(t,n){let r=re(),i=re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cf(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.qi=!1}initialize(t,n){this.Ui=t,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ki(t,n).next(s=>s||this.Gi(t,n,i,r)).next(s=>s||this.Qi(t,n))}Ki(t,n){if(wm(n))return N.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hh(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=re(...s);return this.Ui.getDocuments(t,o).next(l=>this.indexManager.getMinOffset(t,r).next(a=>{const u=this.ji(n,l);return this.zi(n,u,o,a.readTime)?this.Ki(t,hh(n,null,"F")):this.Wi(t,u,n,a)}))})))}Gi(t,n,r,i){return wm(n)||i.isEqual(J.min())?this.Qi(t,n):this.Ui.getDocuments(t,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(t,n):(um()<=ue.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dh(n)),this.Wi(t,o,n,Px(i,-1)))})}ji(t,n){let r=new Tt(a0(t));return n.forEach((i,s)=>{iu(t,s)&&(r=r.add(s))}),r}zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(t,n){return um()<=ue.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",dh(n)),this.Ui.getDocumentsMatchingQuery(t,n,lr.min())}Wi(t,n,r,i){return this.Ui.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t,n,r,i){this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Fe(le),this.Yi=new es(s=>tf(s),nf),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new W_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function iT(e,t,n,r){return new rT(e,t,n,r)}async function M0(e,t){const n=ee(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let a=re();for(const u of i){o.push(u.batchId);for(const c of u.mutations)a=a.add(c.key)}for(const u of s){l.push(u.batchId);for(const c of u.mutations)a=a.add(c.key)}return n.localDocuments.getDocuments(r,a).next(u=>({er:u,removedBatchIds:o,addedBatchIds:l}))})})}function sT(e,t){const n=ee(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,l,a,u){const c=a.batch,d=c.keys();let h=N.resolve();return d.forEach(g=>{h=h.next(()=>u.getEntry(l,g)).next(v=>{const E=a.docVersions.get(g);ye(E!==null),v.version.compareTo(E)<0&&(c.applyToRemoteDocument(v,a),v.isValidDocument()&&(v.setReadTime(a.commitVersion),u.addEntry(v)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,c))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=re();for(let a=0;a<o.mutationResults.length;++a)o.mutationResults[a].transformResults.length>0&&(l=l.add(o.batch.mutations[a].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function F0(e){const t=ee(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Bs.getLastRemoteSnapshotVersion(n))}function oT(e,t){const n=ee(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const l=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;l.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let g=h.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?g=g.withResumeToken(Dt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(d,g),function(v,E,C){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(h,g,c)&&l.push(n.Bs.updateTargetData(s,g))});let a=$n(),u=re();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),l.push(lT(s,o,t.documentUpdates).next(c=>{a=c.nr,u=c.sr})),!r.isEqual(J.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(c)}return N.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,a,u)).next(()=>a)}).then(s=>(n.Ji=i,s))}function lT(e,t,n){let r=re(),i=re();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=$n();return n.forEach((l,a)=>{const u=s.get(l);a.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),a.isNoDocument()&&a.version.isEqual(J.min())?(t.removeEntry(l,a.readTime),o=o.insert(l,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(a),o=o.insert(l,a)):z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",a.version)}),{nr:o,sr:i}})}function aT(e,t){const n=ee(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function uT(e,t){const n=ee(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,t).next(s=>s?(i=s,N.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new qn(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(t,r.targetId)),r})}async function yh(e,t,n){const r=ee(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Mo(o))throw o;z("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Dm(e,t,n){const r=ee(e);let i=J.min(),s=re();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,a,u){const c=ee(l),d=c.Yi.get(u);return d!==void 0?N.resolve(c.Ji.get(d)):c.Bs.getTargetData(a,u)}(r,o,Dn(t)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,l.targetId).next(a=>{s=a})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,t,n?i:J.min(),n?s:re())).next(l=>(cT(r,Zx(t),l),{documents:l,ir:s})))}function cT(e,t,n){let r=e.Xi.get(t)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Xi.set(t,r)}class $m{constructor(){this.activeTargetIds=s_()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hT{constructor(){this.Hr=new $m,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,n,r){this.Jr[t]=n}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new $m,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il=null;function Zu(){return il===null?il=268435456+Math.round(2147483648*Math.random()):il++,"0x"+il.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt="WebChannelConnection";class mT extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,n,r,i,s){const o=Zu(),l=this.To(t,n);z("RestConnection",`Sending RPC '${t}' ${o}:`,l,r);const a={};return this.Eo(a,i,s),this.Ao(t,l,a,r).then(u=>(z("RestConnection",`Received RPC '${t}' ${o}: `,u),u),u=>{throw Li("RestConnection",`RPC '${t}' ${o} failed with error: `,u,"url: ",l,"request:",r),u})}vo(t,n,r,i,s,o){return this.Io(t,n,r,i,s)}Eo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Zi,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}To(t,n){const r=fT[t];return`${this.mo}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,n,r,i){const s=Zu();return new Promise((o,l)=>{const a=new kx;a.setWithCredentials(!0),a.listenOnce(wx.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Xu.NO_ERROR:const c=a.getResponseJson();z(tt,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Xu.TIMEOUT:z(tt,`RPC '${t}' ${s} timed out`),l(new F(_.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const d=a.getStatus();if(z(tt,`RPC '${t}' ${s} failed with status:`,d,"response text:",a.getResponseText()),d>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h==null?void 0:h.error;if(g&&g.status&&g.message){const v=function(E){const C=E.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(C)>=0?C:_.UNKNOWN}(g.status);l(new F(v,g.message))}else l(new F(_.UNKNOWN,"Server responded with status "+a.getStatus()))}else l(new F(_.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{z(tt,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);z(tt,`RPC '${t}' ${s} sending request:`,i),a.send(n,"POST",u,r,15)})}Ro(t,n,r){const i=Zu(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=yx(),l=vx(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.xmlHttpFactory=new Sx({})),this.Eo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=s.join("");z(tt,`Creating RPC '${t}' stream ${i}: ${c}`,a);const d=o.createWebChannel(c,a);let h=!1,g=!1;const v=new pT({ro:C=>{g?z(tt,`Not sending because RPC '${t}' stream ${i} is closed:`,C):(h||(z(tt,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),z(tt,`RPC '${t}' stream ${i} sending:`,C),d.send(C))},oo:()=>d.close()}),E=(C,p,f)=>{C.listen(p,m=>{try{f(m)}catch(S){setTimeout(()=>{throw S},0)}})};return E(d,el.EventType.OPEN,()=>{g||z(tt,`RPC '${t}' stream ${i} transport opened.`)}),E(d,el.EventType.CLOSE,()=>{g||(g=!0,z(tt,`RPC '${t}' stream ${i} transport closed`),v.wo())}),E(d,el.EventType.ERROR,C=>{g||(g=!0,Li(tt,`RPC '${t}' stream ${i} transport errored:`,C),v.wo(new F(_.UNAVAILABLE,"The operation could not be completed")))}),E(d,el.EventType.MESSAGE,C=>{var p;if(!g){const f=C.data[0];ye(!!f);const m=f,S=m.error||((p=m[0])===null||p===void 0?void 0:p.error);if(S){z(tt,`RPC '${t}' stream ${i} received error:`,S);const T=S.status;let O=function(M){const te=Oe[M];if(te!==void 0)return k0(te)}(T),D=S.message;O===void 0&&(O=_.INTERNAL,D="Unknown error status: "+T+" with message "+S.message),g=!0,v.wo(new F(O,D)),d.close()}else z(tt,`RPC '${t}' stream ${i} received:`,f),v._o(f)}}),E(l,Ex.STAT_EVENT,C=>{C.stat===lm.PROXY?z(tt,`RPC '${t}' stream ${i} detected buffering proxy`):C.stat===lm.NOPROXY&&z(tt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function ec(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(e){return new I_(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,n,r=1e3,i=1.5,s=6e4){this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n,r,i,s,o,l,a){this.ii=t,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new j0(t,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(An(n.toString()),An("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{t(()=>{const i=new F(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(t,n){const r=this.Xo(this.Fo);this.stream=this.eu(t,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return z("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.Fo===t?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gT extends U0{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(t,n){return this.connection.Ro("Listen",t,n)}onMessage(t){this.qo.reset();const n=D_(this.serializer,t),r=function(i){if(!("targetChange"in i))return J.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?dn(s.readTime):J.min()}(t);return this.listener.nu(n,r)}su(t){const n={};n.database=gh(this.serializer),n.addTarget=function(i,s){let o;const l=s.target;if(o=uh(l)?{documents:P_(i,l)}:{query:R_(i,l)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=D0(i,s.resumeToken);const a=fh(i,s.expectedCount);a!==null&&(o.expectedCount=a)}else if(s.snapshotVersion.compareTo(J.min())>0){o.readTime=oa(i,s.snapshotVersion.toTimestamp());const a=fh(i,s.expectedCount);a!==null&&(o.expectedCount=a)}return o}(this.serializer,t);const r=M_(this.serializer,t);r&&(n.labels=r),this.Wo(n)}iu(t){const n={};n.database=gh(this.serializer),n.removeTarget=t,this.Wo(n)}}class yT extends U0{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,n){return this.connection.Ro("Write",t,n)}onMessage(t){if(ye(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const n=O_(t.writeResults,t.commitTime),r=dn(t.commitTime);return this.listener.cu(r,n)}return ye(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=gh(this.serializer),this.Wo(t)}uu(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>$_(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new F(_.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F(_.UNKNOWN,i.toString())})}vo(t,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(_.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class wT{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(An(n),this.mu=!1):z("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Gr(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const a=ee(l);a.vu.add(4),await Uo(a),a.bu.set("Unknown"),a.vu.delete(4),await au(a)}(this))})}),this.bu=new wT(r,i)}}async function au(e){if(Gr(e))for(const t of e.Ru)await t(!0)}async function Uo(e){for(const t of e.Ru)await t(!1)}function V0(e,t){const n=ee(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),ff(n)?df(n):ts(n).Ko()&&hf(n,t))}function z0(e,t){const n=ee(e),r=ts(n);n.Au.delete(t),r.Ko()&&B0(n,t),n.Au.size===0&&(r.Ko()?r.jo():Gr(n)&&n.bu.set("Unknown"))}function hf(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(J.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ts(e).su(t)}function B0(e,t){e.Vu.qt(t),ts(e).iu(t)}function df(e){e.Vu=new C_({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),ts(e).start(),e.bu.gu()}function ff(e){return Gr(e)&&!ts(e).Uo()&&e.Au.size>0}function Gr(e){return ee(e).vu.size===0}function b0(e){e.Vu=void 0}async function ST(e){e.Au.forEach((t,n)=>{hf(e,t)})}async function kT(e,t){b0(e),ff(e)?(e.bu.Iu(t),df(e)):e.bu.set("Unknown")}async function CT(e,t,n){if(e.bu.set("Online"),t instanceof A0&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(e,t)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await la(e,r)}else if(t instanceof Al?e.Vu.Ht(t):t instanceof N0?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(J.min()))try{const r=await F0(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((l,a)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Au.get(a);u&&i.Au.set(a,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,a)=>{const u=i.Au.get(l);if(!u)return;i.Au.set(l,u.withResumeToken(Dt.EMPTY_BYTE_STRING,u.snapshotVersion)),B0(i,l);const c=new qn(u.target,l,a,u.sequenceNumber);hf(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){z("RemoteStore","Failed to raise snapshot:",r),await la(e,r)}}async function la(e,t,n){if(!Mo(t))throw t;e.vu.add(1),await Uo(e),e.bu.set("Offline"),n||(n=()=>F0(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await au(e)})}function q0(e,t){return t().catch(n=>la(e,n,t))}async function uu(e){const t=ee(e),n=ur(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;xT(t);)try{const i=await aT(t.localStore,r);if(i===null){t.Eu.length===0&&n.jo();break}r=i.batchId,_T(t,i)}catch(i){await la(t,i)}H0(t)&&K0(t)}function xT(e){return Gr(e)&&e.Eu.length<10}function _T(e,t){e.Eu.push(t);const n=ur(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function H0(e){return Gr(e)&&!ur(e).Uo()&&e.Eu.length>0}function K0(e){ur(e).start()}async function TT(e){ur(e).hu()}async function IT(e){const t=ur(e);for(const n of e.Eu)t.uu(n.mutations)}async function NT(e,t,n){const r=e.Eu.shift(),i=m_.from(r,t,n);await q0(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await uu(e)}async function AT(e,t){t&&ur(e).ou&&await async function(n,r){if(i=r.code,v_(i)&&i!==_.ABORTED){const s=n.Eu.shift();ur(n).Qo(),await q0(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await uu(n)}var i}(e,t),H0(e)&&K0(e)}async function Pm(e,t){const n=ee(e);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=Gr(n);n.vu.add(3),await Uo(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await au(n)}async function DT(e,t){const n=ee(e);t?(n.vu.delete(2),await au(n)):t||(n.vu.add(2),await Uo(n),n.bu.set("Unknown"))}function ts(e){return e.Su||(e.Su=function(t,n,r){const i=ee(t);return i.fu(),new gT(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{uo:ST.bind(null,e),ao:kT.bind(null,e),nu:CT.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),ff(e)?df(e):e.bu.set("Unknown")):(await e.Su.stop(),b0(e))})),e.Su}function ur(e){return e.Du||(e.Du=function(t,n,r){const i=ee(t);return i.fu(),new yT(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{uo:TT.bind(null,e),ao:AT.bind(null,e),au:IT.bind(null,e),cu:NT.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await uu(e)):(await e.Du.stop(),e.Eu.length>0&&(z("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $T=class W0{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,l=new W0(t,n,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function pf(e,t){if(An("AsyncQueue",`${t}: ${e}`),Mo(e))return new F(_.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0=class Dl{constructor(t){this.comparator=t?(n,r)=>t(n,r)||b.comparator(n.key,r.key):(n,r)=>b.comparator(n.key,r.key),this.keyedMap=ks(),this.sortedSet=new Fe(this.comparator)}static emptySet(t){return new Dl(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Dl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Dl;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm=class{constructor(){this.Cu=new Fe(b.comparator)}track(t){const n=t.doc.key,r=this.Cu.get(n);r?t.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,t):t.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Cu=this.Cu.remove(n):t.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:t.doc}):Q():this.Cu=this.Cu.insert(n,t)}xu(){const t=[];return this.Cu.inorderTraversal((n,r)=>{t.push(r)}),t}},aa=class Q0{constructor(t,n,r,i,s,o,l,a,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Q0(t,n,G0.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ru(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OT=class{constructor(){this.Nu=void 0,this.listeners=[]}},PT=class{constructor(){this.queries=new es(t=>l0(t),ru),this.onlineState="Unknown",this.ku=new Set}};async function Y0(e,t){const n=ee(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new OT),i)try{s.Nu=await n.onListen(r)}catch(o){const l=pf(o,`Initialization of query '${dh(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&mf(n)}async function X0(e,t){const n=ee(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function RT(e,t){const n=ee(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.$u(i)&&(r=!0);o.Nu=i}}r&&mf(n)}function LT(e,t,n){const r=ee(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function mf(e){e.ku.forEach(t=>{t.next()})}let J0=class{constructor(t,n,r){this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new aa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),n=!0):this.qu(t,this.onlineState)&&(this.Uu(t),n=!0),this.Bu=t,n}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),n=!0),n}qu(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Lu(t){if(t.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(t){t=aa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z0=class{constructor(t){this.key=t}},e1=class{constructor(t){this.key=t}},MT=class{constructor(t,n){this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=re(),this.mutatedKeys=re(),this.tc=a0(t),this.ec=new G0(this.tc)}get nc(){return this.Yu}sc(t,n){const r=n?n.ic:new Rm,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),g=iu(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;h&&g?h.data.isEqual(g.data)?v!==E&&(r.track({type:3,doc:g}),C=!0):this.rc(h,g)||(r.track({type:2,doc:g}),C=!0,(a&&this.tc(g,a)>0||u&&this.tc(g,u)<0)&&(l=!0)):!h&&g?(r.track({type:0,doc:g}),C=!0):h&&!g&&(r.track({type:1,doc:h}),C=!0,(a||u)&&(l=!0)),C&&(g?(o=o.add(g),s=E?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:l,mutatedKeys:s}}rc(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((u,c)=>function(d,h){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return g(d)-g(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],l=this.Zu.size===0&&this.current?1:0,a=l!==this.Xu;return this.Xu=l,s.length!==0||a?{snapshot:new aa(this.query,t.ec,i,s,t.mutatedKeys,l===0,a,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Rm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=re(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return t.forEach(r=>{this.Zu.has(r)||n.push(new e1(r))}),this.Zu.forEach(r=>{t.has(r)||n.push(new Z0(r))}),n}hc(t){this.Yu=t.ir,this.Zu=re();const n=this.sc(t.documents);return this.applyChanges(n,!0)}lc(){return aa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}},FT=class{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}},jT=class{constructor(t){this.key=t,this.fc=!1}},UT=class{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new es(l=>l0(l),ru),this._c=new Map,this.mc=new Set,this.gc=new Fe(b.comparator),this.yc=new Map,this.Ic=new af,this.Tc={},this.Ec=new Map,this.Ac=Ui.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}};async function VT(e,t){const n=YT(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await uT(n.localStore,Dn(t)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await zT(n,t,r,l==="current",o.resumeToken),n.isPrimaryClient&&V0(n.remoteStore,o)}return i}async function zT(e,t,n,r,i){e.Rc=(d,h,g)=>async function(v,E,C,p){let f=E.view.sc(C);f.zi&&(f=await Dm(v.localStore,E.query,!1).then(({documents:T})=>E.view.sc(T,f)));const m=p&&p.targetChanges.get(E.targetId),S=E.view.applyChanges(f,v.isPrimaryClient,m);return Mm(v,E.targetId,S.cc),S.snapshot}(e,d,h,g);const s=await Dm(e.localStore,t,!0),o=new MT(t,s.ir),l=o.sc(s.documents),a=of.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(l,e.isPrimaryClient,a);Mm(e,n,u.cc);const c=new FT(t,n,o);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function BT(e,t){const n=ee(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!ru(s,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await yh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),z0(n.remoteStore,r.targetId),vh(n,r.targetId)}).catch(Lo)):(vh(n,r.targetId),await yh(n.localStore,r.targetId,!0))}async function bT(e,t,n){const r=XT(e);try{const i=await function(s,o){const l=ee(s),a=Ve.now(),u=o.reduce((h,g)=>h.add(g.key),re());let c,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=$n(),v=re();return l.Zi.getEntries(h,u).next(E=>{g=E,g.forEach((C,p)=>{p.isValidDocument()||(v=v.add(C))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,g)).next(E=>{c=E;const C=[];for(const p of o){const f=d_(p,c.get(p.key).overlayedDocument);f!=null&&C.push(new pr(p.key,f,Jv(f.value.mapValue),Yt.exists(!0)))}return l.mutationQueue.addMutationBatch(h,a,C,o)}).next(E=>{d=E;const C=E.applyToLocalDocumentSet(c,v);return l.documentOverlayCache.saveOverlays(h,E.batchId,C)})}).then(()=>({batchId:d.batchId,changes:c0(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let a=s.Tc[s.currentUser.toKey()];a||(a=new Fe(le)),a=a.insert(o,l),s.Tc[s.currentUser.toKey()]=a}(r,i.batchId,n),await Vo(r,i.changes),await uu(r.remoteStore)}catch(i){const s=pf(i,"Failed to persist write");n.reject(s)}}async function t1(e,t){const n=ee(e);try{const r=await oT(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?ye(o.fc):i.removedDocuments.size>0&&(ye(o.fc),o.fc=!1))}),await Vo(n,r,t)}catch(r){await Lo(r)}}function Lm(e,t,n){const r=ee(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const l=o.view.Mu(t);l.snapshot&&i.push(l.snapshot)}),function(s,o){const l=ee(s);l.onlineState=o;let a=!1;l.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(a=!0)}),a&&mf(l)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function qT(e,t,n){const r=ee(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let o=new Fe(b.comparator);o=o.insert(s,st.newNoDocument(s,J.min()));const l=re().add(s),a=new _0(J.min(),new Map,new Fe(le),o,l);await t1(r,a),r.gc=r.gc.remove(s),r.yc.delete(t),gf(r)}else await yh(r.localStore,t,!1).then(()=>vh(r,t,n)).catch(Lo)}async function HT(e,t){const n=ee(e),r=t.batch.batchId;try{const i=await sT(n.localStore,t);r1(n,r,null),n1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vo(n,i)}catch(i){await Lo(i)}}async function KT(e,t,n){const r=ee(e);try{const i=await function(s,o){const l=ee(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",a=>{let u;return l.mutationQueue.lookupMutationBatch(a,o).next(c=>(ye(c!==null),u=c.keys(),l.mutationQueue.removeMutationBatch(a,c))).next(()=>l.mutationQueue.performConsistencyCheck(a)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(a,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,u)).next(()=>l.localDocuments.getDocuments(a,u))})}(r.localStore,t);r1(r,t,n),n1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Vo(r,i)}catch(i){await Lo(i)}}function n1(e,t){(e.Ec.get(t)||[]).forEach(n=>{n.resolve()}),e.Ec.delete(t)}function r1(e,t,n){const r=ee(e);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function vh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(r=>{e.Ic.containsKey(r)||i1(e,r)})}function i1(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);n!==null&&(z0(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),gf(e))}function Mm(e,t,n){for(const r of n)r instanceof Z0?(e.Ic.addReference(r.key,t),WT(e,r)):r instanceof e1?(z("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||i1(e,r.key)):Q()}function WT(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(z("SyncEngine","New document in limbo: "+n),e.mc.add(r),gf(e))}function gf(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new b(me.fromString(t)),r=e.Ac.next();e.yc.set(r,new jT(n)),e.gc=e.gc.insert(n,r),V0(e.remoteStore,new qn(Dn(rf(n.path)),r,"TargetPurposeLimboResolution",Xd.ct))}}async function Vo(e,t,n){const r=ee(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((l,a)=>{o.push(r.Rc(a,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=cf.Li(a.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(l,a){const u=ee(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>N.forEach(a,d=>N.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>N.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Mo(c))throw c;z("LocalStore","Failed to update sequence numbers: "+c)}for(const c of a){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),g=h.snapshotVersion,v=h.withLastLimboFreeSnapshotVersion(g);u.Ji=u.Ji.insert(d,v)}}}(r.localStore,s))}async function GT(e,t){const n=ee(e);if(!n.currentUser.isEqual(t)){z("SyncEngine","User change. New user:",t.toKey());const r=await M0(n.localStore,t);n.currentUser=t,function(i,s){i.Ec.forEach(o=>{o.forEach(l=>{l.reject(new F(_.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Vo(n,r.er)}}function QT(e,t){const n=ee(e),r=n.yc.get(t);if(r&&r.fc)return re().add(r.key);{let i=re();const s=n._c.get(t);if(!s)return i;for(const o of s){const l=n.wc.get(o);i=i.unionWith(l.view.nc)}return i}}function YT(e){const t=ee(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=t1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=qT.bind(null,t),t.dc.nu=RT.bind(null,t.eventManager),t.dc.Pc=LT.bind(null,t.eventManager),t}function XT(e){const t=ee(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KT.bind(null,t),t}let Fm=class{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=lu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return iT(this.persistence,new nT,t.initialUser,this.serializer)}createPersistence(t){return new eT(uf.zs,this.serializer)}createSharedClientState(t){return new hT}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},JT=class{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GT.bind(null,this.syncEngine),await DT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new PT}createDatastore(t){const n=lu(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new mT(i));var i;return function(s,o,l,a){return new vT(s,o,l,a)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=l=>Lm(this.syncEngine,l,0),o=Om.D()?new Om:new dT,new ET(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,l,a,u){const c=new UT(r,i,s,o,l,a);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=ee(t);z("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Uo(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s1=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):An("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=Gv.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=pf(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function tc(e,t){e.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await M0(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function jm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await tI(e);z("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Pm(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Pm(t.remoteStore,s)),e._onlineComponents=t}function eI(e){return e.name==="FirebaseError"?e.code===_.FAILED_PRECONDITION||e.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function tI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await tc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!eI(n))throw n;Li("Error using user provided cache. Falling back to memory cache: "+n),await tc(e,new Fm)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await tc(e,new Fm);return e._offlineComponents}async function o1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await jm(e,e._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await jm(e,new JT))),e._onlineComponents}function nI(e){return o1(e).then(t=>t.syncEngine)}async function l1(e){const t=await o1(e),n=t.eventManager;return n.onListen=VT.bind(null,t.syncEngine),n.onUnlisten=BT.bind(null,t.syncEngine),n}function rI(e,t,n={}){const r=new _n;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,a){const u=new s1({next:d=>{s.enqueueAndForget(()=>X0(i,c));const h=d.docs.has(o);!h&&d.fromCache?a.reject(new F(_.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?a.reject(new F(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(d)},error:d=>a.reject(d)}),c=new J0(rf(o.path),u,{includeMetadataChanges:!0,Ku:!0});return Y0(i,c)}(await l1(e),e.asyncQueue,t,n,r)),r.promise}function iI(e,t,n={}){const r=new _n;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,a){const u=new s1({next:d=>{s.enqueueAndForget(()=>X0(i,c)),d.fromCache&&l.source==="server"?a.reject(new F(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(d)},error:d=>a.reject(d)}),c=new J0(o,u,{includeMetadataChanges:!0,Ku:!0});return Y0(i,c)}(await l1(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(e,t,n){if(!n)throw new F(_.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function sI(e,t,n,r){if(t===!0&&r===!0)throw new F(_.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Vm(e){if(!b.isDocumentKey(e))throw new F(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function zm(e){if(b.isDocumentKey(e))throw new F(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function cu(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q()}function gn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cu(e);throw new F(_.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm=class{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new F(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new F(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new F(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new F(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new F(_.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=t.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var n,r}},hu=class{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new F(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bm(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new xx;switch(n.type){case"firstParty":return new Nx(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new F(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Um.get(t);n&&(z("ComponentProvider","Removing Datastore"),Um.delete(t),n.terminate())}(this),Promise.resolve()}};function oI(e,t,n,r={}){var i;const s=(e=gn(e,hu))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,a;if(typeof r.mockUserToken=="string")l=r.mockUserToken,a=it.MOCK_USER;else{l=tk(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new F(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new it(u)}e._authCredentials=new _x(new Wv(l,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let It=class c1{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new c1(this.firestore,t,this._key)}},du=class h1{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new h1(this.firestore,t,this._query)}},Ii=class d1 extends du{constructor(t,n,r){super(t,n,rf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new It(this.firestore,null,new b(t))}withConverter(t){return new d1(this.firestore,t,this._path)}};function f1(e,t,...n){if(e=In(e),u1("collection","path",t),e instanceof hu){const r=me.fromString(t,...n);return zm(r),new Ii(e,null,r)}{if(!(e instanceof It||e instanceof Ii))throw new F(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(me.fromString(t,...n));return zm(r),new Ii(e.firestore,null,r)}}function mr(e,t,...n){if(e=In(e),arguments.length===1&&(t=Gv.A()),u1("doc","path",t),e instanceof hu){const r=me.fromString(t,...n);return Vm(r),new It(e,null,new b(r))}{if(!(e instanceof It||e instanceof Ii))throw new F(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(me.fromString(t,...n));return Vm(r),new It(e.firestore,e instanceof Ii?e.converter:null,new b(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lI=class{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new j0(this,"async_queue_retry"),this.Xc=()=>{const n=ec();n&&z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const t=ec();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const n=ec();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new _n;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!Mo(t))throw t;z("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const n=this.Gc.then(()=>(this.Hc=!0,t().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw An("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(t,n,r){this.Zc(),this.Yc.indexOf(t)>-1&&(n=0);const i=$T.createAndSchedule(this,t,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Q()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const n of this.zc)if(n.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const n=this.zc.indexOf(t);this.zc.splice(n,1)}},ns=class extends hu{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new lI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||p1(this),this._firestoreClient.terminate()}};function aI(e,t){const n=typeof e=="object"?e:sC(),r=typeof e=="string"?e:t||"(default)",i=tC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ZS("firestore");s&&oI(i,...s)}return i}function yf(e){return e._firestoreClient||p1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function p1(e){var t,n,r;const i=e._freezeSettings(),s=function(o,l,a,u){return new Vx(o,l,a,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,a1(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ZT(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf=class wh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new wh(Dt.fromBase64String(t))}catch(n){throw new F(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new wh(Dt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu=class{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf=class{constructor(t){this._methodName=t}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef=class{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return le(this._lat,t._lat)||le(this._long,t._long)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=/^__.*__$/;let cI=class{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new pr(t,this.data,this.fieldMask,n,this.fieldTransforms):new jo(t,this.data,n,this.fieldTransforms)}},m1=class{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new pr(t,this.data,this.fieldMask,n,this.fieldTransforms)}};function g1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}let hI=class y1{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new y1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.fa(t),i}da(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.ua(),i}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return ua(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(g1(this.ca)&&uI.test(t))throw this._a('Document fields cannot begin and end with "__"')}},dI=class{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||lu(t)}ya(t,n,r,i=!1){return new hI({ca:t,methodName:n,ga:r,path:lt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function pu(e){const t=e._freezeSettings(),n=lu(e._databaseId);return new dI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function v1(e,t,n,r,i,s={}){const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);Sf("Data must be an object, but it was:",o,r);const l=S1(r,o);let a,u;if(s.merge)a=new cn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Eh(t,d,n);if(!o.contains(h))throw new F(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);C1(c,h)||c.push(h)}a=new cn(c),u=o.fieldTransforms.filter(d=>a.covers(d.field))}else a=null,u=o.fieldTransforms;return new cI(new wt(l),a,u)}let w1=class E1 extends wf{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof E1}};function fI(e,t,n,r){const i=e.ya(1,t,n);Sf("Data must be an object, but it was:",i,r);const s=[],o=wt.empty();Wr(r,(a,u)=>{const c=kf(t,a,n);u=In(u);const d=i.da(c);if(u instanceof w1)s.push(c);else{const h=zo(u,d);h!=null&&(s.push(c),o.set(c,h))}});const l=new cn(s);return new m1(o,l,i.fieldTransforms)}function pI(e,t,n,r,i,s){const o=e.ya(1,t,n),l=[Eh(t,r,n)],a=[i];if(s.length%2!=0)throw new F(_.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)l.push(Eh(t,s[h])),a.push(s[h+1]);const u=[],c=wt.empty();for(let h=l.length-1;h>=0;--h)if(!C1(u,l[h])){const g=l[h];let v=a[h];v=In(v);const E=o.da(g);if(v instanceof w1)u.push(g);else{const C=zo(v,E);C!=null&&(u.push(g),c.set(g,C))}}const d=new cn(u);return new m1(c,d,o.fieldTransforms)}function mI(e,t,n,r=!1){return zo(n,e.ya(r?4:3,t))}function zo(e,t){if(k1(e=In(e)))return Sf("Unsupported field value:",t,e),S1(e,t);if(e instanceof wf)return function(n,r){if(!g1(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let l=zo(o,r.wa(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=In(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return o_(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ve.fromDate(n);return{timestampValue:oa(r.serializer,i)}}if(n instanceof Ve){const i=new Ve(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:oa(r.serializer,i)}}if(n instanceof Ef)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof vf)return{bytesValue:D0(r.serializer,n._byteString)};if(n instanceof It){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:lf(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${cu(n)}`)}(e,t)}function S1(e,t){const n={};return Qv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wr(e,(r,i)=>{const s=zo(i,t.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function k1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ve||e instanceof Ef||e instanceof vf||e instanceof It||e instanceof wf)}function Sf(e,t,n){if(!k1(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=cu(n);throw r==="an object"?t._a(e+" a custom object"):t._a(e+" "+r)}}function Eh(e,t,n){if((t=In(t))instanceof fu)return t._internalPath;if(typeof t=="string")return kf(e,t);throw ua("Field path arguments must be of type string or ",e,!1,void 0,n)}const gI=new RegExp("[~\\*/\\[\\]]");function kf(e,t,n){if(t.search(gI)>=0)throw ua(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new fu(...t.split("."))._internalPath}catch{throw ua(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ua(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${r}`),o&&(a+=` in document ${i}`),a+=")"),new F(_.INVALID_ARGUMENT,l+e+a)}function C1(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x1=class{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new yI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Cf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}};class yI extends x1{data(){return super.data()}}function Cf(e,t){return typeof t=="string"?kf(e,t):t instanceof fu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new F(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xf{}let wI=class extends xf{};function _1(e,t,...n){let r=[];t instanceof xf&&r.push(t),r=r.concat(n),function(i){const s=i.filter(l=>l instanceof _f).length,o=i.filter(l=>l instanceof mu).length;if(s>1||s>0&&o>0)throw new F(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class mu extends wI{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new mu(t,n,r)}_apply(t){const n=this._parse(t);return I1(t._query,n),new du(t.firestore,t.converter,ch(t._query,n))}_parse(t){const n=pu(t.firestore);return function(i,s,o,l,a,u,c){let d;if(a.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new F(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){qm(c,u);const h=[];for(const g of c)h.push(bm(l,i,g));d={arrayValue:{values:h}}}else d=bm(l,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||qm(c,u),d=mI(o,s,c,u==="in"||u==="not-in");return Le.create(a,u,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function T1(e,t,n){const r=t,i=Cf("where",e);return mu._create(i,r,n)}class _f extends xf{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new _f(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:en.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const l of o)I1(s,l),s=ch(s,l)}(t._query,n),new du(t.firestore,t.converter,ch(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function bm(e,t,n){if(typeof(n=In(n))=="string"){if(n==="")throw new F(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o0(t)&&n.indexOf("/")!==-1)throw new F(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(me.fromString(n));if(!b.isDocumentKey(r))throw new F(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fm(e,new b(r))}if(n instanceof It)return fm(e,n._key);throw new F(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cu(n)}.`)}function qm(e,t){if(!Array.isArray(e)||e.length===0)throw new F(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function I1(e,t){if(t.isInequality()){const r=sf(e),i=t.field;if(r!==null&&!r.isEqual(i))throw new F(_.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=s0(e);s!==null&&EI(e,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new F(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new F(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function EI(e,t,n){if(!n.isEqual(t))throw new F(_.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class SI{convertValue(t,n="none"){switch(Ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Q()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Wr(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Ef(Pe(t.latitude),Pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Zd(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(to(t));default:return null}}convertTimestamp(t){const n=ar(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=me.fromString(t);ye(L0(r));const i=new Xv(r.get(1),r.get(3)),s=new b(r.popFirst(5));return i.isEqual(n)||An(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs=class{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},A1=class extends x1{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $l(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Cf("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},$l=class extends A1{data(t={}){return super.data(t)}},kI=class{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new $l(this._firestore,this._userDataWriter,r.key,r,new xs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const l=new $l(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new $l(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let a=-1,u=-1;return o.type!==0&&(a=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:CI(o.type),doc:l,oldIndex:a,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function CI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(e){e=gn(e,It);const t=gn(e.firestore,ns);return rI(yf(t),e._key).then(n=>TI(t,e,n))}let $1=class extends SI{constructor(t){super(),this.firestore=t}convertBytes(t){return new vf(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new It(this.firestore,null,n)}};function Tf(e){e=gn(e,du);const t=gn(e.firestore,ns),n=yf(t),r=new $1(t);return vI(e._query),iI(n,e._query).then(i=>new kI(t,r,e,i))}function gu(e,t,n){e=gn(e,It);const r=gn(e.firestore,ns),i=N1(e.converter,t,n);return If(r,[v1(pu(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Yt.none())])}function xI(e,t,n,...r){e=gn(e,It);const i=gn(e.firestore,ns),s=pu(i);let o;return o=typeof(t=In(t))=="string"||t instanceof fu?pI(s,"updateDoc",e._key,t,n,r):fI(s,"updateDoc",e._key,t),If(i,[o.toMutation(e._key,Yt.exists(!0))])}function _I(e,t){const n=gn(e.firestore,ns),r=mr(e),i=N1(e.converter,t);return If(n,[v1(pu(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Yt.exists(!1))]).then(()=>r)}function If(e,t){return function(n,r){const i=new _n;return n.asyncQueue.enqueueAndForget(async()=>bT(await nI(n),r,i)),i.promise}(yf(e),t)}function TI(e,t,n){const r=n.docs.get(t._key),i=new $1(e);return new A1(e,i,t._key,r,new xs(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(n){Zi=n})(iC),Gl(new qs("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new ns(new Tx(n.getProvider("auth-internal")),new Dx(n.getProvider("app-check-internal")),function(l,a){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xv(l.options.projectId,a)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ci(am,"3.13.0",e),Ci(am,"3.13.0","esm2017")})();const II={apiKey:"AIzaSyBiy8ikGtlf8MVWeWkDlZFRHkY5WhDppVU",authDomain:"christmas-464ee.firebaseapp.com",databaseURL:"https://christmas-464ee.firebaseio.com",projectId:"christmas-464ee",storageBucket:"christmas-464ee.appspot.com",messagingSenderId:"763611236376",appId:"1:763611236376:web:1295b2a40fc1b28a421b6d"},NI=By(II),Mn=aI(NI),Nf=f1(Mn,"games"),Vi=async(e,t)=>{const n=mr(Mn,`users/${e}`),r=await D1(n);t(r.data())},Sh=e=>{const{fullName:t,emailAddresses:n,id:r,imageUrl:i,userName:s}=e;return JSON.parse(JSON.stringify({fullName:t,emailAddresses:n,id:r,imageUrl:i,userName:s}))},Af=e=>{const t=mr(Mn,`users/${e.id}`);xI(t,e).then(function(){console.log("user upated in db!",{user:e})}).catch(function(n){console.error("Error writing document: ",n)})},AI=(e,t={})=>{const n=mr(Mn,`users/${e.id}`);({...Sh(e),...t},gu(n,{...Sh(e),...t}).then(function(){console.log("added user in db db!")}).catch(function(r){console.error("Error writing document: ",r)}))},Df=async(e,t)=>{const n=_1(Nf,T1("gameKey","==",e)),i=(await Tf(n)).docs.map(s=>({gid:s.id,...s.data()}));return console.log({gameKey:e,gamesList:i}),t(i[0]),i[0]},DI=async(e,t,n)=>{const r=mr(Mn,`games/${e}/users/${t}`),i=await D1(r);n(i.data())},$I=async(e,t)=>{const n=f1(Mn,`games/${e}/users`),i=(await Tf(n)).docs.map(s=>({uid:s.id,...s.data()}));t(i)},OI=async(e,t)=>{const n=_1(Nf,T1("creatorId","==",e)),i=(await Tf(n)).docs.map(s=>({gid:s.id,...s.data()}));t(i)},PI=(e,t,n)=>{if(!e||e===""){console.log("if (!uid || uid === '' ) ");return}const r=mr(Mn,`users/${e}`);gu(r,{questionnaire:t},{merge:!0}).then(function(){console.log("user questionnair in db db!")}).catch(function(i){console.error("Error writing document: ",i)})},nc=(e,t,n)=>{if(!e||e===""){console.log("updateGameUserInfo if (!uid || uid === '' ) ");return}if(!t||!t.id||t.id===""){console.log("updateGameUserInfo if (!data || !data.uid || data.uid === '' ) ");return}console.log({user:t}),Df(e,({gid:r})=>{const i=mr(Mn,`games/${r}/users/${t.id}`);gu(i,{...t},{merge:!0}).then(function(){console.log("udpate game users!")}).catch(function(s){console.error("Error writing document: ",s)}),Vi(t.id,s=>{const o=s.games,l=o.findIndex(a=>a.gameKey===e);l===-1||(delete s.games,o[l]={...o[l],...t}),Af({...s,games:o})})})},O1=(e,t,n)=>{if(e===""||!e){console.log("if (gameKey === '' || !gameKey)");return}if(!t||!t.id||t.id===""){console.log("if (!data || !data.uid || data.uid === '')");return}Df(e,r=>{if(console.log(r),!r||!r.gid){console.log("woops that game dont exist");return}console.log("lets update",t);const i=(t==null?void 0:t.games)??[];i.findIndex(l=>l.gameKey===e)===-1&&(i.push({gameKey:e,...r}),console.log({games:i}),Af({...t,games:i}));const o=mr(Mn,`games/${r.gid}/users/${t.id}`);gu(o,{...Sh(t)},{merge:!0}).then(function(){console.log("user questionnair in db db!")}).catch(function(l){console.error("Error writing document: ",l)}),n()})},RI=async(e,t)=>{if(!e||!e.creatorId||e.creatorId===""){console.error("(!data || !data.creatorId || data.creatorId === ");return}if(!e.gameKey||e.gameKey===""){console.error("(!data.gameKey || data.gameKey === ");return}const n=await _I(Nf,e);t({gid:n.id,...e})};var P1=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},q=(e,t,n)=>(P1(e,t,"read from private field"),n?n.call(e):t.get(e)),Ol=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},sl=(e,t,n,r)=>(P1(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);typeof window<"u"&&!window.global&&(window.global=typeof Mp>"u"?window:Mp);const LI=Object.freeze({InvalidFrontendApiErrorMessage:"The frontendApi passed to Clerk is invalid. You can get your Frontend API key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys."});function MI({packageName:e,customMessages:t}){let n=e;const r={...LI,...t};function i(s,o){if(!o)return`${n}: ${s}`;let l=s;const a=s.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const u of a){const c=(o[u[1]]||"").toString();l=l.replace(`{{${u[1]}}}`,c)}return`${n}: ${l}`}return{setPackageName({packageName:s}){return typeof s=="string"&&(n=s),this},setMessages({customMessages:s}){return Object.assign(r,s||{}),this},throwInvalidPublishableKeyError(s){throw new Error(i(r.InvalidPublishableKeyErrorMessage,s))},throwInvalidFrontendApiError(s){throw new Error(i(r.InvalidFrontendApiErrorMessage,s))},throwInvalidProxyUrl(s){throw new Error(i(r.InvalidProxyUrlErrorMessage,s))},throwMissingPublishableKeyError(){throw new Error(i(r.MissingPublishableKeyErrorMessage))}}}const R1=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,L1="pk_live_",FI="pk_test_";function Hm(e){if(e=e||"",!M1(e))return null;const t=e.startsWith(L1)?"production":"development";let n=R1(e.split("_")[2]);return n.endsWith("$")?(n=n.slice(0,-1),{instanceType:t,frontendApi:n}):null}function M1(e){e=e||"";const t=e.startsWith(L1)||e.startsWith(FI),n=R1(e.split("_")[2]||"").endsWith("$");return t&&n}function jI(e){return e=e||"",e.startsWith("clerk.")}function UI(){const e=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],t=new Map;return{isDevOrStagingUrl:n=>{if(!n)return!1;const r=typeof n=="string"?n:n.hostname;let i=t.get(r);return i===void 0&&(i=e.some(s=>r.endsWith(s)),t.set(r,i)),i}}}function Km(e,t,n){if(typeof e=="function")return e(t);if(typeof e<"u")return e;if(typeof n<"u")return n}const VI=()=>{try{return!1}catch{}return!1},zI=()=>{try{return!0}catch{}return!1},Wm=new Set,kh=(e,t,n)=>{const r=VI()||zI(),i=n??e;Wm.has(i)||r||(Wm.add(i),console.warn(`DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))};function BI(e){return e?bI(e)||F1(e):!0}function bI(e){return/^http(s)?:\/\//.test(e||"")}function F1(e){return e.startsWith("/")}function qI(e){return e?F1(e)?new URL(e,window.location.origin).toString():e:""}const Gm=()=>typeof window<"u";function HI(e){if(!e)return"";let t;if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}return`clerk.${e.replace(t,"")}`}const KI="loadScript cannot be called when document does not exist",WI="loadScript cannot be called without a src";async function GI(e="",t){const{async:n,defer:r,beforeLoad:i,crossOrigin:s}=t||{};return new Promise((o,l)=>{e||l(WI),(!document||!document.body)&&l(KI);const a=document.createElement("script");s&&a.setAttribute("crossorigin",s),a.async=n||!1,a.defer=r||!1,a.addEventListener("load",()=>{a.remove(),o(a)}),a.addEventListener("error",()=>{a.remove(),l()}),a.src=e,i==null||i(a),document.body.appendChild(a)})}function QI(e,t){if(!e)throw typeof t=="string"?new Error(t):new Error(`${t.displayName} not found`)}const rs=(e,t)=>{const{assertCtxFn:n=QI}=t||{},r=B.createContext(void 0);return r.displayName=e,[r,()=>{const o=B.useContext(r);return n(o,`${e} not found`),o.value},()=>{const o=B.useContext(r);return o?o.value:{}}]};var YI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zi=A;function XI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var JI=typeof Object.is=="function"?Object.is:XI,ZI=zi.useState,e2=zi.useEffect,t2=zi.useLayoutEffect,n2=zi.useDebugValue;function r2(e,t){var n=t(),r=ZI({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return t2(function(){i.value=n,i.getSnapshot=t,rc(i)&&s({inst:i})},[e,n,t]),e2(function(){return rc(i)&&s({inst:i}),e(function(){rc(i)&&s({inst:i})})},[e]),n2(n),n}function rc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!JI(e,n)}catch{return!0}}function i2(e,t){return t()}var s2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?i2:r2;YI.useSyncExternalStore=zi.useSyncExternalStore!==void 0?zi.useSyncExternalStore:s2;const Hn=()=>{},Wt=Hn(),Pl=Object,Qt=e=>e===Wt,Tr=e=>typeof e=="function",Vr=(e,t)=>({...e,...t}),o2=e=>Tr(e.then),ol=new WeakMap;let l2=0;const so=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let i,s;if(Pl(e)===e&&!r&&n!=RegExp){if(i=ol.get(e),i)return i;if(i=++l2+"~",ol.set(e,i),n==Array){for(i="@",s=0;s<e.length;s++)i+=so(e[s])+",";ol.set(e,i)}if(n==Pl){i="#";const o=Pl.keys(e).sort();for(;!Qt(s=o.pop());)Qt(e[s])||(i+=s+":"+so(e[s])+",");ol.set(e,i)}}else i=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},zn=new WeakMap,ic={},ll={},j1="undefined",$f=typeof window!=j1,Ch=typeof document!=j1,a2=(e,t)=>{const n=zn.get(e);return[()=>!Qt(t)&&e.get(t)||ic,r=>{if(!Qt(t)){const i=e.get(t);t in ll||(ll[t]=i),n[5](t,Vr(i,r),i||ic)}},n[6],()=>!Qt(t)&&t in ll?ll[t]:!Qt(t)&&e.get(t)||ic]};let xh=!0;const u2=()=>xh,[_h,Th]=$f&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Hn,Hn],c2=()=>{const e=Ch&&document.visibilityState;return Qt(e)||e!=="hidden"},h2=e=>(Ch&&document.addEventListener("visibilitychange",e),_h("focus",e),()=>{Ch&&document.removeEventListener("visibilitychange",e),Th("focus",e)}),d2=e=>{const t=()=>{xh=!0,e()},n=()=>{xh=!1};return _h("online",t),_h("offline",n),()=>{Th("online",t),Th("offline",n)}},f2={isOnline:u2,isVisible:c2},p2={initFocus:h2,initReconnect:d2};B.useId;const Of=!$f||"Deno"in window,m2=Of?A.useEffect:A.useLayoutEffect,sc=typeof navigator<"u"&&navigator.connection,Qm=!Of&&sc&&(["slow-2g","2g"].includes(sc.effectiveType)||sc.saveData),U1=e=>{if(Tr(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?so(e):"",[e,t]};let g2=0;const Ym=()=>++g2,y2=0,v2=1,w2=2;async function E2(...e){const[t,n,r,i]=e,s=Vr({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=s.populateCache;const l=s.rollbackOnError;let a=s.optimisticData;const u=s.revalidate!==!1,c=g=>typeof l=="function"?l(g):l!==!1,d=s.throwOnError;if(Tr(n)){const g=n,v=[],E=t.keys();for(const C of E)!/^\$(inf|sub)\$/.test(C)&&g(t.get(C)._k)&&v.push(C);return Promise.all(v.map(h))}return h(n);async function h(g){const[v]=U1(g);if(!v)return;const[E,C]=a2(t,v),[p,f,m,S]=zn.get(t),T=p[v],O=()=>u&&(delete m[v],delete S[v],T&&T[0])?T[0](w2).then(()=>E().data):E().data;if(e.length<3)return O();let D=r,M;const te=Ym();f[v]=[te,0];const K=!Qt(a),ve=E(),ne=ve.data,Z=ve._c,ae=Qt(Z)?ne:Z;if(K&&(a=Tr(a)?a(ae,ne):a,C({data:a,_c:ae})),Tr(D))try{D=D(ae)}catch($e){M=$e}if(D&&o2(D))if(D=await D.catch($e=>{M=$e}),te!==f[v][0]){if(M)throw M;return D}else M&&K&&c(M)&&(o=!0,D=ae,C({data:D,_c:Wt}));o&&(M||(Tr(o)&&(D=o(D,ae)),C({data:D,error:Wt,_c:Wt}))),f[v][1]=Ym();const be=await O();if(C({_c:Wt}),M){if(d)throw M;return}return o?be:D}}const Xm=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},V1=(e,t)=>{if(!zn.has(e)){const n=Vr(p2,t),r={},i=E2.bind(Wt,e);let s=Hn;const o={},l=(c,d)=>{const h=o[c]||[];return o[c]=h,h.push(d),()=>h.splice(h.indexOf(d),1)},a=(c,d,h)=>{e.set(c,d);const g=o[c];if(g)for(const v of g)v(d,h)},u=()=>{if(!zn.has(e)&&(zn.set(e,[r,{},{},{},i,a,l]),!Of)){const c=n.initFocus(setTimeout.bind(Wt,Xm.bind(Wt,r,y2))),d=n.initReconnect(setTimeout.bind(Wt,Xm.bind(Wt,r,v2)));s=()=>{c&&c(),d&&d(),zn.delete(e)}}};return u(),[e,i,u,s]}return[e,zn.get(e)[4]]},S2=(e,t,n,r,i)=>{const s=n.errorRetryCount,o=i.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!Qt(s)&&o>s||setTimeout(r,l,i)},k2=(e,t)=>so(e)==so(t),[Pf,C2]=V1(new Map),x2=Vr({onLoadingSlow:Hn,onSuccess:Hn,onError:Hn,onErrorRetry:S2,onDiscarded:Hn,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Qm?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Qm?5e3:3e3,compare:k2,isPaused:()=>!1,cache:Pf,mutate:C2,fallback:{}},f2),_2=(e,t)=>{const n=Vr(e,t);if(t){const{use:r,fallback:i}=e,{use:s,fallback:o}=t;r&&s&&(n.use=r.concat(s)),i&&o&&(n.fallback=Vr(i,o))}return n},Jm=A.createContext({}),T2=e=>{const{value:t}=e,n=A.useContext(Jm),r=Tr(t),i=A.useMemo(()=>r?t(n):t,[r,n,t]),s=A.useMemo(()=>r?i:_2(n,i),[r,n,i]),o=i&&i.provider,l=A.useRef(Wt);o&&!l.current&&(l.current=V1(o(s.cache||Pf),i));const a=l.current;return a&&(s.cache=a[0],s.mutate=a[1]),m2(()=>{if(a)return a[2]&&a[2](),a[3]},[]),A.createElement(Jm.Provider,Vr(e,{value:s}))},z1=$f&&window.__SWR_DEVTOOLS_USE__,I2=z1?window.__SWR_DEVTOOLS_USE__:[],N2=()=>{z1&&(window.__SWR_DEVTOOLS_REACT__=B)},A2=e=>(t,n,r)=>e(t,n&&((...s)=>{const[o]=U1(t),[,,,l]=zn.get(Pf),a=l[o];return Qt(a)?n(...s):(delete l[o],a)}),r);I2.concat(A2);N2();B.use;const D2=Pl.defineProperty(T2,"defaultValue",{value:x2}),[$2,O2]=rs("ClerkInstanceContext"),[P2,R2]=rs("UserContext"),[L2,QO]=rs("ClientContext"),[M2,YO]=rs("SessionContext"),[F2,XO]=rs("OrganizationContext"),j2=({children:e,organization:t,lastOrganizationMember:n,lastOrganizationInvitation:r,swrConfig:i})=>B.createElement(D2,{value:i},B.createElement(F2.Provider,{value:{value:{organization:t,lastOrganizationMember:n,lastOrganizationInvitation:r}}},e)),U2="Clerk: You must wrap your application in a <ClerkProvider> component.",V2="Clerk: You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",Zm="Unsupported usage of domain or proxyUrl. The usage of domain or proxyUrl as function is not supported in non-browser environments.",Rs=MI({packageName:"@clerk/react"});function z2(e){Rs.setMessages(e).setPackageName(e)}function B2(e){return typeof e=="function"}const{isDevOrStagingUrl:b2}=UI(),q2=e=>{if(e)return e;const t=H2("4.26.4");return t?t==="snapshot"?"4.61.0":t:K2("4.26.4")},H2=e=>{var t;return(t=e.match(/-(.*)\./))==null?void 0:t[1]},K2=e=>e.split(".")[0],W2="Clerk: Failed to load Clerk",G2=async e=>{const{frontendApi:t,publishableKey:n}=e;return!n&&!t&&Rs.throwMissingPublishableKeyError(),GI(Q2(e),{async:!0,crossOrigin:"anonymous",beforeLoad:Y2(e)}).catch(()=>{throw new Error(W2)})},Q2=e=>{var d,h;const{clerkJSUrl:t,clerkJSVariant:n,clerkJSVersion:r,proxyUrl:i,domain:s,publishableKey:o,frontendApi:l}=e;if(t)return t;let a="";i&&BI(i)?a=qI(i).replace(/http(s)?:\/\//,""):s&&!b2(((d=Hm(o))==null?void 0:d.frontendApi)||l||"")?a=HI(s):a=((h=Hm(o))==null?void 0:h.frontendApi)||l||"";const u=n?`${n.replace(/\.+$/,"")}.`:"",c=q2(r);return`https://${a}/npm/@clerk/clerk-js@${c}/dist/clerk.${u}browser.js`},Y2=e=>t=>{const{publishableKey:n,frontendApi:r,proxyUrl:i,domain:s}=e;n?t.setAttribute("data-clerk-publishable-key",n):r&&t.setAttribute("data-clerk-frontend-api",r),i&&t.setAttribute("data-clerk-proxy-url",i),s&&t.setAttribute("data-clerk-domain",s)},al=new Map;function X2(e,t,n=1){B.useEffect(()=>{const r=al.get(e)||0;if(r==n)throw new Error(t);return al.set(e,r+1),()=>{al.set(e,(al.get(e)||1)-1)}},[])}function J2(e,t,n){const r=e.displayName||e.name||t||"Component",i=s=>(X2(t,n),B.createElement(e,{...s}));return i.displayName=`withMaxAllowedInstancesGuard(${r})`,i}var G,oi,li,ui;const B1=class b1{constructor(t){this.clerkjs=null,this.preopenSignIn=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.loadedListeners=[],Ol(this,G,!1),Ol(this,oi,void 0),Ol(this,li,void 0),this.addOnLoaded=s=>{this.loadedListeners.push(s)},this.emitLoaded=()=>{this.loadedListeners.forEach(s=>s()),this.loadedListeners=[]},this.hydrateClerkJS=s=>{if(!s)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=s,this.premountMethodCalls.forEach(o=>o()),this.preopenSignIn!==null&&s.openSignIn(this.preopenSignIn),this.preopenSignUp!==null&&s.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&s.openUserProfile(this.preopenUserProfile),this.preopenOrganizationProfile!==null&&s.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&s.openCreateOrganization(this.preopenCreateOrganization),this.premountSignInNodes.forEach((o,l)=>{s.mountSignIn(l,o)}),this.premountSignUpNodes.forEach((o,l)=>{s.mountSignUp(l,o)}),this.premountUserProfileNodes.forEach((o,l)=>{s.mountUserProfile(l,o)}),this.premountUserButtonNodes.forEach((o,l)=>{s.mountUserButton(l,o)}),this.premountOrganizationListNodes.forEach((o,l)=>{s.mountOrganizationList(l,o)}),sl(this,G,!0),this.emitLoaded(),this.clerkjs},this.__unstable__updateProps=s=>{if(this.clerkjs&&"__unstable__updateProps"in this.clerkjs)this.clerkjs.__unstable__updateProps(s);else return},this.setActive=({session:s,organization:o,beforeEmit:l})=>this.clerkjs?this.clerkjs.setActive({session:s,organization:o,beforeEmit:l}):Promise.reject(),this.setSession=(s,o)=>(kh("setSession","Use `Clerk.setActive` instead"),this.setActive({session:s,beforeEmit:o})),this.openSignIn=s=>{this.clerkjs&&q(this,G)?this.clerkjs.openSignIn(s):this.preopenSignIn=s},this.closeSignIn=()=>{this.clerkjs&&q(this,G)?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.openUserProfile=s=>{this.clerkjs&&q(this,G)?this.clerkjs.openUserProfile(s):this.preopenUserProfile=s},this.closeUserProfile=()=>{this.clerkjs&&q(this,G)?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=s=>{this.clerkjs&&q(this,G)?this.clerkjs.openOrganizationProfile(s):this.preopenOrganizationProfile=s},this.closeOrganizationProfile=()=>{this.clerkjs&&q(this,G)?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=s=>{this.clerkjs&&q(this,G)?this.clerkjs.openCreateOrganization(s):this.preopenCreateOrganization=s},this.closeCreateOrganization=()=>{this.clerkjs&&q(this,G)?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openSignUp=s=>{this.clerkjs&&q(this,G)?this.clerkjs.openSignUp(s):this.preopenSignUp=s},this.closeSignUp=()=>{this.clerkjs&&q(this,G)?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(s,o)=>{this.clerkjs&&q(this,G)?this.clerkjs.mountSignIn(s,o):this.premountSignInNodes.set(s,o)},this.unmountSignIn=s=>{this.clerkjs&&q(this,G)?this.clerkjs.unmountSignIn(s):this.premountSignInNodes.delete(s)},this.mountSignUp=(s,o)=>{this.clerkjs&&q(this,G)?this.clerkjs.mountSignUp(s,o):this.premountSignUpNodes.set(s,o)},this.unmountSignUp=s=>{this.clerkjs&&q(this,G)?this.clerkjs.unmountSignUp(s):this.premountSignUpNodes.delete(s)},this.mountUserProfile=(s,o)=>{this.clerkjs&&q(this,G)?this.clerkjs.mountUserProfile(s,o):this.premountUserProfileNodes.set(s,o)},this.unmountUserProfile=s=>{this.clerkjs&&q(this,G)?this.clerkjs.unmountUserProfile(s):this.premountUserProfileNodes.delete(s)},this.mountOrganizationProfile=(s,o)=>{this.clerkjs&&q(this,G)?this.clerkjs.mountOrganizationProfile(s,o):this.premountOrganizationProfileNodes.set(s,o)},this.unmountOrganizationProfile=s=>{this.clerkjs&&q(this,G)?this.clerkjs.unmountOrganizationProfile(s):this.premountOrganizationProfileNodes.delete(s)},this.mountCreateOrganization=(s,o)=>{this.clerkjs&&q(this,G)?this.clerkjs.mountCreateOrganization(s,o):this.premountCreateOrganizationNodes.set(s,o)},this.unmountCreateOrganization=s=>{this.clerkjs&&q(this,G)?this.clerkjs.unmountCreateOrganization(s):this.premountCreateOrganizationNodes.delete(s)},this.mountOrganizationSwitcher=(s,o)=>{this.clerkjs&&q(this,G)?this.clerkjs.mountOrganizationSwitcher(s,o):this.premountOrganizationSwitcherNodes.set(s,o)},this.unmountOrganizationSwitcher=s=>{this.clerkjs&&q(this,G)?this.clerkjs.unmountOrganizationSwitcher(s):this.premountOrganizationSwitcherNodes.delete(s)},this.mountOrganizationList=(s,o)=>{this.clerkjs&&q(this,G)?this.clerkjs.mountOrganizationList(s,o):this.premountOrganizationListNodes.set(s,o)},this.unmountOrganizationList=s=>{this.clerkjs&&q(this,G)?this.clerkjs.unmountOrganizationList(s):this.premountOrganizationListNodes.delete(s)},this.mountUserButton=(s,o)=>{this.clerkjs&&q(this,G)?this.clerkjs.mountUserButton(s,o):this.premountUserButtonNodes.set(s,o)},this.unmountUserButton=s=>{this.clerkjs&&q(this,G)?this.clerkjs.unmountUserButton(s):this.premountUserButtonNodes.delete(s)},this.addListener=s=>{const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.addListener(s)};return this.clerkjs?o():(this.premountMethodCalls.set("addListener",o),()=>this.premountMethodCalls.delete("addListener"))},this.navigate=s=>{const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.navigate(s)};this.clerkjs&&q(this,G)?o():this.premountMethodCalls.set("navigate",o)},this.redirectWithAuth=(...s)=>{const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectWithAuth(...s)};this.clerkjs&&q(this,G)?o():this.premountMethodCalls.set("redirectWithAuth",o)},this.redirectToSignIn=s=>{const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectToSignIn(s)};this.clerkjs&&q(this,G)?o():this.premountMethodCalls.set("redirectToSignIn",o)},this.redirectToSignUp=s=>{const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectToSignUp(s)};this.clerkjs&&q(this,G)?o():this.premountMethodCalls.set("redirectToSignUp",o)},this.redirectToUserProfile=()=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToUserProfile()};this.clerkjs&&q(this,G)?s():this.premountMethodCalls.set("redirectToUserProfile",s)},this.redirectToHome=()=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToHome()};this.clerkjs&&q(this,G)?s():this.premountMethodCalls.set("redirectToHome",s)},this.redirectToOrganizationProfile=()=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToOrganizationProfile()};this.clerkjs&&q(this,G)?s():this.premountMethodCalls.set("redirectToOrganizationProfile",s)},this.redirectToCreateOrganization=()=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToCreateOrganization()};this.clerkjs&&q(this,G)?s():this.premountMethodCalls.set("redirectToCreateOrganization",s)},this.handleRedirectCallback=s=>{var l;const o=()=>{var a;return(a=this.clerkjs)==null?void 0:a.handleRedirectCallback(s)};this.clerkjs&&q(this,G)?(l=o())==null||l.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleMagicLinkVerification=async s=>{kh("handleMagicLinkVerification","Use `handleEmailLinkVerification` instead.");const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleMagicLinkVerification(s)};if(this.clerkjs&&q(this,G))return o();this.premountMethodCalls.set("handleMagicLinkVerification",o)},this.handleEmailLinkVerification=async s=>{const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleEmailLinkVerification(s)};if(this.clerkjs&&q(this,G))return o();this.premountMethodCalls.set("handleEmailLinkVerification",o)},this.authenticateWithMetamask=async s=>{const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithMetamask(s)};if(this.clerkjs&&q(this,G))return o();this.premountMethodCalls.set("authenticateWithMetamask",o)},this.createOrganization=async s=>{const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.createOrganization(s)};if(this.clerkjs&&q(this,G))return o();this.premountMethodCalls.set("createOrganization",o)},this.getOrganizationMemberships=async()=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganizationMemberships()};if(this.clerkjs&&q(this,G))return s();this.premountMethodCalls.set("getOrganizationMemberships",s)},this.getOrganization=async s=>{const o=()=>{var l;return(l=this.clerkjs)==null?void 0:l.getOrganization(s)};if(this.clerkjs&&q(this,G))return o();this.premountMethodCalls.set("getOrganization",o)},this.signOut=async(s,o)=>{const l=()=>{var a;return(a=this.clerkjs)==null?void 0:a.signOut(s,o)};if(this.clerkjs&&q(this,G))return l();this.premountMethodCalls.set("signOut",l)};const{Clerk:n=null,frontendApi:r,publishableKey:i}=t||{};this.frontendApi=r,this.publishableKey=i,sl(this,li,t==null?void 0:t.proxyUrl),sl(this,oi,t==null?void 0:t.domain),this.options=t,this.Clerk=n,this.mode=Gm()?"browser":"server",this.loadClerkJS()}get loaded(){return q(this,G)}static getOrCreateInstance(t){return(!Gm()||!q(this,ui)||t.Clerk&&q(this,ui).Clerk!==t.Clerk)&&sl(this,ui,new b1(t)),q(this,ui)}get domain(){if(typeof window<"u"&&window.location)return Km(q(this,oi),new URL(window.location.href),"");if(typeof q(this,oi)=="function")throw new Error(Zm);return q(this,oi)||""}get proxyUrl(){if(typeof window<"u"&&window.location)return Km(q(this,li),new URL(window.location.href),"");if(typeof q(this,li)=="function")throw new Error(Zm);return q(this,li)||""}async loadClerkJS(){var t,n;if(!(this.mode!=="browser"||q(this,G))){typeof window<"u"&&(window.__clerk_frontend_api=this.frontendApi,window.__clerk_publishable_key=this.publishableKey,window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let r;B2(this.Clerk)?(r=new this.Clerk(this.publishableKey||this.frontendApi||"",{proxyUrl:this.proxyUrl,domain:this.domain}),await r.load(this.options)):(r=this.Clerk,r.isReady()||await r.load(this.options)),global.Clerk=r}else{if(global.Clerk||await G2({...this.options,frontendApi:this.frontendApi,publishableKey:this.publishableKey,proxyUrl:this.proxyUrl,domain:this.domain}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");await global.Clerk.load(this.options)}return global.Clerk.sdkMetadata=this.options.sdkMetadata??{name:"@clerk/clerk-react",version:"4.26.4"},(t=global.Clerk)!=null&&t.loaded||(n=global.Clerk)!=null&&n.isReady()?this.hydrateClerkJS(global.Clerk):void 0}catch(r){const i=r;console.error(i.stack||i.message||i);return}}}get version(){var t;return(t=this.clerkjs)==null?void 0:t.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}__unstable__setEnvironment(...t){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(t);else return}};G=new WeakMap;oi=new WeakMap;li=new WeakMap;ui=new WeakMap;Ol(B1,ui,void 0);let Z2=B1;const eN=(e,t,n)=>!e&&n?tN(n):nN(t),tN=e=>{const t=e.userId,n=e.user,r=e.sessionId,i=e.session,s=e.organization,o=e.orgId,l=e.orgRole,a=e.orgSlug,u=e.actor;return{userId:t,user:n,sessionId:r,session:i,organization:s,orgId:o,orgRole:l,orgSlug:a,actor:u,lastOrganizationInvitation:null,lastOrganizationMember:null}},nN=e=>{var g;const t=e.user?e.user.id:e.user,n=e.user,r=e.session?e.session.id:e.session,i=e.session,s=i==null?void 0:i.actor,o=e.organization,l=e.organization?e.organization.id:e.organization,a=o==null?void 0:o.slug,u=o&&((g=n==null?void 0:n.organizationMemberships)==null?void 0:g.find(v=>v.organization.id===l)),c=u&&u.role,d=e.lastOrganizationInvitation,h=e.lastOrganizationMember;return{userId:t,user:n,sessionId:r,session:i,organization:o,orgId:l,orgRole:c,orgSlug:a,actor:s,lastOrganizationInvitation:d,lastOrganizationMember:h}},[rN,q1]=rs("AuthContext"),[iN,H1]=[$2,O2];function sN(e){const{isomorphicClerkOptions:t,initialState:n,children:r}=e,{isomorphicClerk:i,loaded:s}=oN(t);t.frontendApi&&kh("frontendApi","Use `publishableKey` instead.");const[o,l]=B.useState({client:i.client,session:i.session,user:i.user,organization:i.organization,lastOrganizationInvitation:null,lastOrganizationMember:null});B.useEffect(()=>i.addListener(K=>l({...K})),[]);const a=eN(s,o,n),u=B.useMemo(()=>({value:i}),[s]),c=B.useMemo(()=>({value:o.client}),[o.client]),{sessionId:d,session:h,userId:g,user:v,orgId:E,actor:C,lastOrganizationInvitation:p,lastOrganizationMember:f,organization:m,orgRole:S,orgSlug:T}=a,O=B.useMemo(()=>({value:{sessionId:d,userId:g,actor:C,orgId:E,orgRole:S,orgSlug:T}}),[d,g,C,E,S,T]),D=B.useMemo(()=>({value:v}),[g,v]),M=B.useMemo(()=>({value:h}),[d,h]),te=B.useMemo(()=>({value:{organization:m,lastOrganizationInvitation:p,lastOrganizationMember:f}}),[E,m,p,f]);return B.createElement(iN.Provider,{value:u},B.createElement(L2.Provider,{value:c},B.createElement(M2.Provider,{value:M},B.createElement(j2,{...te.value},B.createElement(rN.Provider,{value:O},B.createElement(P2.Provider,{value:D},r))))))}const oN=e=>{const[t,n]=B.useState(!1),r=B.useMemo(()=>Z2.getOrCreateInstance(e),[]);return B.useEffect(()=>{r.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),B.useEffect(()=>{r.__unstable__updateProps({options:e})},[e.localization]),B.useEffect(()=>{r.addOnLoaded(()=>n(!0))},[]),{isomorphicClerk:r,loaded:t}};function lN(e){if(!e)throw new Error(U2)}const K1=Object.freeze({noGuarantees:Object.freeze({guaranteedLoaded:!1}),guaranteedLoaded:Object.freeze({guaranteedLoaded:!0})}),yu=B.createContext(void 0);yu.displayName="StructureContext";const aN=()=>{const e=B.useContext(yu);return lN(e),e},uN=({children:e})=>aN().guaranteedLoaded?B.createElement(B.Fragment,null,e):B.createElement(yu.Provider,{value:K1.guaranteedLoaded},e);z2({packageName:"@clerk/clerk-react"});function cN(e){const{initialState:t,children:n,...r}=e,{frontendApi:i="",publishableKey:s="",Clerk:o}=r;return o||(!s&&!i?Rs.throwMissingPublishableKeyError():s&&!M1(s)?Rs.throwInvalidPublishableKeyError({key:s}):!s&&i&&!jI(i)&&Rs.throwInvalidFrontendApiError({key:i})),B.createElement(yu.Provider,{value:K1.noGuarantees},B.createElement(sN,{initialState:t,isomorphicClerkOptions:r},n))}const W1=J2(cN,"ClerkProvider",V2);W1.displayName="ClerkProvider";const is=(e,t)=>{t=t||e.displayName||e.name||"Component",e.displayName=t;const n=r=>{const i=H1();return i.loaded?B.createElement(uN,null,B.createElement(e,{...r,clerk:i})):null};return n.displayName=`withClerk(${t})`,n},hN=({children:e})=>{const{userId:t}=q1();return t?B.createElement(B.Fragment,null,e):null},dN=({children:e})=>{const{userId:t}=q1();return t===null?B.createElement(B.Fragment,null,e):null};is(({clerk:e,...t})=>{const{client:n,session:r}=e,{__unstable__environment:i}=e,s=n.activeSessions&&n.activeSessions.length>0;return B.useEffect(()=>{if(r===null&&s&&i){const{afterSignOutOneUrl:o}=i.displayConfig;e.navigate(o)}else e.redirectToSignIn(t)},[]),null},"RedirectToSignIn");is(({clerk:e,...t})=>(B.useEffect(()=>{e.redirectToSignUp(t)},[]),null),"RedirectToSignUp");is(({clerk:e})=>(B.useEffect(()=>{e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");is(({clerk:e})=>(B.useEffect(()=>{e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");is(({clerk:e})=>(B.useEffect(()=>{e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");is(({clerk:e,...t})=>(B.useEffect(()=>{e.handleRedirectCallback(t)},[]),null),"AuthenticateWithRedirectCallback");function Qr(){const e=R2();return e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}const fN=()=>H1(),pN=()=>{const{user:e}=Qr(),[t,n]=A.useState([]),[r,i]=A.useState(""),[s,o]=A.useState({gid:""}),[l,a]=A.useState();return A.useEffect(()=>{e!=null&&e.id&&Vi(e.id,u=>{console.log(u.games),u.games&&(n(Object.keys(u.games)),i(Object.keys(u.games)[0]))})},[e==null?void 0:e.id]),A.useEffect(()=>{r!==""&&Df(r,u=>{o(u),u&&u.gid&&u.gid!==""&&(e!=null&&e.id)&&DI(u.gid,e==null?void 0:e.id,c=>{const d=u&&u.gid?u.gid:null,h=u&&u.name?u.name:null;a({...c,uid:e==null?void 0:e.id,id:d,name:h})})})},[r]),{games:t,selectedGame:s,setSelectedGame:i,secrets:l}};var Bo=e=>e.type==="checkbox",ci=e=>e instanceof Date,dt=e=>e==null;const G1=e=>typeof e=="object";var Be=e=>!dt(e)&&!Array.isArray(e)&&G1(e)&&!ci(e),mN=e=>Be(e)&&e.target?Bo(e.target)?e.target.checked:e.target.value:e,gN=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,yN=(e,t)=>e.has(gN(t)),vN=e=>{const t=e.constructor&&e.constructor.prototype;return Be(t)&&t.hasOwnProperty("isPrototypeOf")},Rf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wn(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Rf&&(e instanceof Blob||e instanceof FileList))&&(n||Be(e)))if(t=n?[]:{},!n&&!vN(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=wn(e[r]));else return e;return t}var bo=e=>Array.isArray(e)?e.filter(Boolean):[],Re=e=>e===void 0,U=(e,t,n)=>{if(!t||!Be(e))return n;const r=bo(t.split(/[,[\].]+?/)).reduce((i,s)=>dt(i)?i:i[s],e);return Re(r)||r===e?Re(e[t])?n:e[t]:r},Ir=e=>typeof e=="boolean";const eg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};B.createContext(null);var wN=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Gt.all&&(t._proxyFormState[o]=!r||Gt.all),n&&(n[o]=!0),e[o]}});return i},Rt=e=>Be(e)&&!Object.keys(e).length,EN=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return Rt(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||Gt.all))},oc=e=>Array.isArray(e)?e:[e];function SN(e){const t=B.useRef(e);t.current=e,B.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var hn=e=>typeof e=="string",kN=(e,t,n,r,i)=>hn(e)?(r&&t.watch.add(e),U(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),U(n,s))):(r&&(t.watchAll=!0),n),Lf=e=>/^\w*$/.test(e),Q1=e=>bo(e.replace(/["|']|\]/g,"").split(/\.|\[/));function Ee(e,t,n){let r=-1;const i=Lf(t)?[t]:Q1(t),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let a=n;if(r!==o){const u=e[l];a=Be(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[l]=a,e=e[l]}return e}var CN=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{};const Ih=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=U(e,r);if(i){const{_f:s,...o}=i;if(s&&t(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Be(o)&&Ih(o,t)}}};var tg=e=>({isOnSubmit:!e||e===Gt.onSubmit,isOnBlur:e===Gt.onBlur,isOnChange:e===Gt.onChange,isOnAll:e===Gt.all,isOnTouch:e===Gt.onTouched}),ng=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),xN=(e,t,n)=>{const r=bo(U(e,n));return Ee(r,"root",t[n]),Ee(e,n,r),e},Mf=e=>e.type==="file",Kn=e=>typeof e=="function",ca=e=>{if(!Rf)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Rl=e=>hn(e),Ff=e=>e.type==="radio",ha=e=>e instanceof RegExp;const rg={value:!1,isValid:!1},ig={value:!0,isValid:!0};var Y1=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Re(e[0].attributes.value)?Re(e[0].value)||e[0].value===""?ig:{value:e[0].value,isValid:!0}:ig:rg}return rg};const sg={isValid:!1,value:null};var X1=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,sg):sg;function og(e,t,n="validate"){if(Rl(e)||Array.isArray(e)&&e.every(Rl)||Ir(e)&&!e)return{type:n,message:Rl(e)?e:"",ref:t}}var ni=e=>Be(e)&&!ha(e)?e:{value:e,message:""},lg=async(e,t,n,r,i)=>{const{ref:s,refs:o,required:l,maxLength:a,minLength:u,min:c,max:d,pattern:h,validate:g,name:v,valueAsNumber:E,mount:C,disabled:p}=e._f,f=U(t,v);if(!C||p)return{};const m=o?o[0]:s,S=ne=>{r&&m.reportValidity&&(m.setCustomValidity(Ir(ne)?"":ne||""),m.reportValidity())},T={},O=Ff(s),D=Bo(s),M=O||D,te=(E||Mf(s))&&Re(s.value)&&Re(f)||ca(s)&&s.value===""||f===""||Array.isArray(f)&&!f.length,K=CN.bind(null,v,n,T),ve=(ne,Z,ae,be=yn.maxLength,$e=yn.minLength)=>{const yt=ne?Z:ae;T[v]={type:ne?be:$e,message:yt,ref:s,...K(ne?be:$e,yt)}};if(i?!Array.isArray(f)||!f.length:l&&(!M&&(te||dt(f))||Ir(f)&&!f||D&&!Y1(o).isValid||O&&!X1(o).isValid)){const{value:ne,message:Z}=Rl(l)?{value:!!l,message:l}:ni(l);if(ne&&(T[v]={type:yn.required,message:Z,ref:m,...K(yn.required,Z)},!n))return S(Z),T}if(!te&&(!dt(c)||!dt(d))){let ne,Z;const ae=ni(d),be=ni(c);if(!dt(f)&&!isNaN(f)){const $e=s.valueAsNumber||f&&+f;dt(ae.value)||(ne=$e>ae.value),dt(be.value)||(Z=$e<be.value)}else{const $e=s.valueAsDate||new Date(f),yt=X=>new Date(new Date().toDateString()+" "+X),R=s.type=="time",W=s.type=="week";hn(ae.value)&&f&&(ne=R?yt(f)>yt(ae.value):W?f>ae.value:$e>new Date(ae.value)),hn(be.value)&&f&&(Z=R?yt(f)<yt(be.value):W?f<be.value:$e<new Date(be.value))}if((ne||Z)&&(ve(!!ne,ae.message,be.message,yn.max,yn.min),!n))return S(T[v].message),T}if((a||u)&&!te&&(hn(f)||i&&Array.isArray(f))){const ne=ni(a),Z=ni(u),ae=!dt(ne.value)&&f.length>+ne.value,be=!dt(Z.value)&&f.length<+Z.value;if((ae||be)&&(ve(ae,ne.message,Z.message),!n))return S(T[v].message),T}if(h&&!te&&hn(f)){const{value:ne,message:Z}=ni(h);if(ha(ne)&&!f.match(ne)&&(T[v]={type:yn.pattern,message:Z,ref:s,...K(yn.pattern,Z)},!n))return S(Z),T}if(g){if(Kn(g)){const ne=await g(f,t),Z=og(ne,m);if(Z&&(T[v]={...Z,...K(yn.validate,Z.message)},!n))return S(Z.message),T}else if(Be(g)){let ne={};for(const Z in g){if(!Rt(ne)&&!n)break;const ae=og(await g[Z](f,t),m,Z);ae&&(ne={...ae,...K(Z,ae.message)},S(ae.message),n&&(T[v]=ne))}if(!Rt(ne)&&(T[v]={ref:m,...ne},!n))return T}}return S(!0),T};function _N(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Re(e)?r++:e[t[r++]];return e}function TN(e){for(const t in e)if(e.hasOwnProperty(t)&&!Re(e[t]))return!1;return!0}function Qe(e,t){const n=Array.isArray(t)?t:Lf(t)?[t]:Q1(t),r=n.length===1?e:_N(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Be(r)&&Rt(r)||Array.isArray(r)&&TN(r))&&Qe(e,n.slice(0,-1)),e}function lc(){let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}}var da=e=>dt(e)||!G1(e);function Nr(e,t){if(da(e)||da(t))return e===t;if(ci(e)&&ci(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(ci(s)&&ci(o)||Be(s)&&Be(o)||Array.isArray(s)&&Array.isArray(o)?!Nr(s,o):s!==o)return!1}}return!0}var J1=e=>e.type==="select-multiple",IN=e=>Ff(e)||Bo(e),ac=e=>ca(e)&&e.isConnected,Z1=e=>{for(const t in e)if(Kn(e[t]))return!0;return!1};function fa(e,t={}){const n=Array.isArray(e);if(Be(e)||n)for(const r in e)Array.isArray(e[r])||Be(e[r])&&!Z1(e[r])?(t[r]=Array.isArray(e[r])?[]:{},fa(e[r],t[r])):dt(e[r])||(t[r]=!0);return t}function ew(e,t,n){const r=Array.isArray(e);if(Be(e)||r)for(const i in e)Array.isArray(e[i])||Be(e[i])&&!Z1(e[i])?Re(t)||da(n[i])?n[i]=Array.isArray(e[i])?fa(e[i],[]):{...fa(e[i])}:ew(e[i],dt(t)?{}:t[i],n[i]):n[i]=!Nr(e[i],t[i]);return n}var uc=(e,t)=>ew(e,t,fa(t)),tw=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Re(e)?e:t?e===""?NaN:e&&+e:n&&hn(e)?new Date(e):r?r(e):e;function cc(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Mf(t)?t.files:Ff(t)?X1(e.refs).value:J1(t)?[...t.selectedOptions].map(({value:n})=>n):Bo(t)?Y1(e.refs).value:tw(Re(t.value)?e.ref.value:t.value,e)}var NN=(e,t,n,r)=>{const i={};for(const s of e){const o=U(t,s);o&&Ee(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},hs=e=>Re(e)?e:ha(e)?e.source:Be(e)?ha(e.value)?e.value.source:e.value:e,AN=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ag(e,t,n){const r=U(e,n);if(r||Lf(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=U(t,s),l=U(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var DN=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,$N=(e,t)=>!bo(U(e,t)).length&&Qe(e,t);const ON={mode:Gt.onSubmit,reValidateMode:Gt.onChange,shouldFocusError:!0};function PN(e={},t){let n={...ON,...e},r={submitCount:0,isDirty:!1,isLoading:Kn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=Be(n.defaultValues)||Be(n.values)?wn(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:wn(s),l={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:lc(),array:lc(),state:lc()},g=e.resetOptions&&e.resetOptions.keepDirtyValues,v=tg(n.mode),E=tg(n.reValidateMode),C=n.criteriaMode===Gt.all,p=y=>k=>{clearTimeout(c),c=setTimeout(y,k)},f=async y=>{if(d.isValid||y){const k=n.resolver?Rt((await te()).errors):await ve(i,!0);k!==r.isValid&&h.state.next({isValid:k})}},m=y=>d.isValidating&&h.state.next({isValidating:y}),S=(y,k=[],x,V,L=!0,$=!0)=>{if(V&&x){if(l.action=!0,$&&Array.isArray(U(i,y))){const H=x(U(i,y),V.argA,V.argB);L&&Ee(i,y,H)}if($&&Array.isArray(U(r.errors,y))){const H=x(U(r.errors,y),V.argA,V.argB);L&&Ee(r.errors,y,H),$N(r.errors,y)}if(d.touchedFields&&$&&Array.isArray(U(r.touchedFields,y))){const H=x(U(r.touchedFields,y),V.argA,V.argB);L&&Ee(r.touchedFields,y,H)}d.dirtyFields&&(r.dirtyFields=uc(s,o)),h.state.next({name:y,isDirty:Z(y,k),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ee(o,y,k)},T=(y,k)=>{Ee(r.errors,y,k),h.state.next({errors:r.errors})},O=(y,k,x,V)=>{const L=U(i,y);if(L){const $=U(o,y,Re(x)?U(s,y):x);Re($)||V&&V.defaultChecked||k?Ee(o,y,k?$:cc(L._f)):$e(y,$),l.mount&&f()}},D=(y,k,x,V,L)=>{let $=!1,H=!1;const _e={name:y};if(!x||V){d.isDirty&&(H=r.isDirty,r.isDirty=_e.isDirty=Z(),$=H!==_e.isDirty);const Ae=Nr(U(s,y),k);H=U(r.dirtyFields,y),Ae?Qe(r.dirtyFields,y):Ee(r.dirtyFields,y,!0),_e.dirtyFields=r.dirtyFields,$=$||d.dirtyFields&&H!==!Ae}if(x){const Ae=U(r.touchedFields,y);Ae||(Ee(r.touchedFields,y,x),_e.touchedFields=r.touchedFields,$=$||d.touchedFields&&Ae!==x)}return $&&L&&h.state.next(_e),$?_e:{}},M=(y,k,x,V)=>{const L=U(r.errors,y),$=d.isValid&&Ir(k)&&r.isValid!==k;if(e.delayError&&x?(u=p(()=>T(y,x)),u(e.delayError)):(clearTimeout(c),u=null,x?Ee(r.errors,y,x):Qe(r.errors,y)),(x?!Nr(L,x):L)||!Rt(V)||$){const H={...V,...$&&Ir(k)?{isValid:k}:{},errors:r.errors,name:y};r={...r,...H},h.state.next(H)}m(!1)},te=async y=>n.resolver(o,n.context,NN(y||a.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),K=async y=>{const{errors:k}=await te(y);if(y)for(const x of y){const V=U(k,x);V?Ee(r.errors,x,V):Qe(r.errors,x)}else r.errors=k;return k},ve=async(y,k,x={valid:!0})=>{for(const V in y){const L=y[V];if(L){const{_f:$,...H}=L;if($){const _e=a.array.has($.name),Ae=await lg(L,o,C,n.shouldUseNativeValidation&&!k,_e);if(Ae[$.name]&&(x.valid=!1,k))break;!k&&(U(Ae,$.name)?_e?xN(r.errors,Ae,$.name):Ee(r.errors,$.name,Ae[$.name]):Qe(r.errors,$.name))}H&&await ve(H,k,x)}}return x.valid},ne=()=>{for(const y of a.unMount){const k=U(i,y);k&&(k._f.refs?k._f.refs.every(x=>!ac(x)):!ac(k._f.ref))&&Bt(y)}a.unMount=new Set},Z=(y,k)=>(y&&k&&Ee(o,y,k),!Nr(we(),s)),ae=(y,k,x)=>kN(y,a,{...l.mount?o:Re(k)?s:hn(y)?{[y]:k}:k},x,k),be=y=>bo(U(l.mount?o:s,y,e.shouldUnregister?U(s,y,[]):[])),$e=(y,k,x={})=>{const V=U(i,y);let L=k;if(V){const $=V._f;$&&(!$.disabled&&Ee(o,y,tw(k,$)),L=ca($.ref)&&dt(k)?"":k,J1($.ref)?[...$.ref.options].forEach(H=>H.selected=L.includes(H.value)):$.refs?Bo($.ref)?$.refs.length>1?$.refs.forEach(H=>(!H.defaultChecked||!H.disabled)&&(H.checked=Array.isArray(L)?!!L.find(_e=>_e===H.value):L===H.value)):$.refs[0]&&($.refs[0].checked=!!L):$.refs.forEach(H=>H.checked=H.value===L):Mf($.ref)?$.ref.value="":($.ref.value=L,$.ref.type||h.values.next({name:y,values:{...o}})))}(x.shouldDirty||x.shouldTouch)&&D(y,L,x.shouldTouch,x.shouldDirty,!0),x.shouldValidate&&X(y)},yt=(y,k,x)=>{for(const V in k){const L=k[V],$=`${y}.${V}`,H=U(i,$);(a.array.has(y)||!da(L)||H&&!H._f)&&!ci(L)?yt($,L,x):$e($,L,x)}},R=(y,k,x={})=>{const V=U(i,y),L=a.array.has(y),$=wn(k);Ee(o,y,$),L?(h.array.next({name:y,values:{...o}}),(d.isDirty||d.dirtyFields)&&x.shouldDirty&&h.state.next({name:y,dirtyFields:uc(s,o),isDirty:Z(y,$)})):V&&!V._f&&!dt($)?yt(y,$,x):$e(y,$,x),ng(y,a)&&h.state.next({...r}),h.values.next({name:y,values:{...o}}),!l.mount&&t()},W=async y=>{const k=y.target;let x=k.name,V=!0;const L=U(i,x),$=()=>k.type?cc(L._f):mN(y);if(L){let H,_e;const Ae=$(),ei=y.type===eg.BLUR||y.type===eg.FOCUS_OUT,yS=!AN(L._f)&&!n.resolver&&!U(r.errors,x)&&!L._f.deps||DN(ei,U(r.touchedFields,x),r.isSubmitted,E,v),Fu=ng(x,a,ei);Ee(o,x,Ae),ei?(L._f.onBlur&&L._f.onBlur(y),u&&u(0)):L._f.onChange&&L._f.onChange(y);const ju=D(x,Ae,ei,!1),vS=!Rt(ju)||Fu;if(!ei&&h.values.next({name:x,type:y.type,values:{...o}}),yS)return d.isValid&&f(),vS&&h.state.next({name:x,...Fu?{}:ju});if(!ei&&Fu&&h.state.next({...r}),m(!0),n.resolver){const{errors:Rp}=await te([x]),wS=ag(r.errors,i,x),Lp=ag(Rp,i,wS.name||x);H=Lp.error,x=Lp.name,_e=Rt(Rp)}else H=(await lg(L,o,C,n.shouldUseNativeValidation))[x],V=Number.isNaN(Ae)||Ae===U(o,x,Ae),V&&(H?_e=!1:d.isValid&&(_e=await ve(i,!0)));V&&(L._f.deps&&X(L._f.deps),M(x,_e,H,ju))}},X=async(y,k={})=>{let x,V;const L=oc(y);if(m(!0),n.resolver){const $=await K(Re(y)?y:L);x=Rt($),V=y?!L.some(H=>U($,H)):x}else y?(V=(await Promise.all(L.map(async $=>{const H=U(i,$);return await ve(H&&H._f?{[$]:H}:H)}))).every(Boolean),!(!V&&!r.isValid)&&f()):V=x=await ve(i);return h.state.next({...!hn(y)||d.isValid&&x!==r.isValid?{}:{name:y},...n.resolver||!y?{isValid:x}:{},errors:r.errors,isValidating:!1}),k.shouldFocus&&!V&&Ih(i,$=>$&&U(r.errors,$),y?L:a.mount),V},we=y=>{const k={...s,...l.mount?o:{}};return Re(y)?k:hn(y)?U(k,y):y.map(x=>U(k,x))},Ne=(y,k)=>({invalid:!!U((k||r).errors,y),isDirty:!!U((k||r).dirtyFields,y),isTouched:!!U((k||r).touchedFields,y),error:U((k||r).errors,y)}),Zr=y=>{y&&oc(y).forEach(k=>Qe(r.errors,k)),h.state.next({errors:y?r.errors:{}})},nn=(y,k,x)=>{const V=(U(i,y,{_f:{}})._f||{}).ref;Ee(r.errors,y,{...k,ref:V}),h.state.next({name:y,errors:r.errors,isValid:!1}),x&&x.shouldFocus&&V&&V.focus&&V.focus()},as=(y,k)=>Kn(y)?h.values.subscribe({next:x=>y(ae(void 0,k),x)}):ae(y,k,!0),Bt=(y,k={})=>{for(const x of y?oc(y):a.mount)a.mount.delete(x),a.array.delete(x),k.keepValue||(Qe(i,x),Qe(o,x)),!k.keepError&&Qe(r.errors,x),!k.keepDirty&&Qe(r.dirtyFields,x),!k.keepTouched&&Qe(r.touchedFields,x),!n.shouldUnregister&&!k.keepDefaultValue&&Qe(s,x);h.values.next({values:{...o}}),h.state.next({...r,...k.keepDirty?{isDirty:Z()}:{}}),!k.keepIsValid&&f()},wr=({disabled:y,name:k,field:x,fields:V})=>{if(Ir(y)){const L=y?void 0:U(o,k,cc(x?x._f:U(V,k)._f));Ee(o,k,L),D(k,L,!1,!1,!0)}},Mu=(y,k={})=>{let x=U(i,y);const V=Ir(k.disabled);return Ee(i,y,{...x||{},_f:{...x&&x._f?x._f:{ref:{name:y}},name:y,mount:!0,...k}}),a.mount.add(y),x?wr({field:x,disabled:k.disabled,name:y}):O(y,!0,k.value),{...V?{disabled:k.disabled}:{},...n.progressive?{required:!!k.required,min:hs(k.min),max:hs(k.max),minLength:hs(k.minLength),maxLength:hs(k.maxLength),pattern:hs(k.pattern)}:{},name:y,onChange:W,onBlur:W,ref:L=>{if(L){Mu(y,k),x=U(i,y);const $=Re(L.value)&&L.querySelectorAll&&L.querySelectorAll("input,select,textarea")[0]||L,H=IN($),_e=x._f.refs||[];if(H?_e.find(Ae=>Ae===$):$===x._f.ref)return;Ee(i,y,{_f:{...x._f,...H?{refs:[..._e.filter(ac),$,...Array.isArray(U(s,y))?[{}]:[]],ref:{type:$.type,name:y}}:{ref:$}}}),O(y,!1,void 0,$)}else x=U(i,y,{}),x._f&&(x._f.mount=!1),(n.shouldUnregister||k.shouldUnregister)&&!(yN(a.array,y)&&l.action)&&a.unMount.add(y)}}},Dp=()=>n.shouldFocusError&&Ih(i,y=>y&&U(r.errors,y),a.mount),$p=(y,k)=>async x=>{x&&(x.preventDefault&&x.preventDefault(),x.persist&&x.persist());let V=wn(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:L,values:$}=await te();r.errors=L,V=$}else await ve(i);Qe(r.errors,"root"),Rt(r.errors)?(h.state.next({errors:{}}),await y(V,x)):(k&&await k({...r.errors},x),Dp(),setTimeout(Dp)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rt(r.errors),submitCount:r.submitCount+1,errors:r.errors})},gS=(y,k={})=>{U(i,y)&&(Re(k.defaultValue)?R(y,U(s,y)):(R(y,k.defaultValue),Ee(s,y,k.defaultValue)),k.keepTouched||Qe(r.touchedFields,y),k.keepDirty||(Qe(r.dirtyFields,y),r.isDirty=k.defaultValue?Z(y,U(s,y)):Z()),k.keepError||(Qe(r.errors,y),d.isValid&&f()),h.state.next({...r}))},Op=(y,k={})=>{const x=y?wn(y):s,V=wn(x),L=y&&!Rt(y)?V:s;if(k.keepDefaultValues||(s=x),!k.keepValues){if(k.keepDirtyValues||g)for(const $ of a.mount)U(r.dirtyFields,$)?Ee(L,$,U(o,$)):R($,U(L,$));else{if(Rf&&Re(y))for(const $ of a.mount){const H=U(i,$);if(H&&H._f){const _e=Array.isArray(H._f.refs)?H._f.refs[0]:H._f.ref;if(ca(_e)){const Ae=_e.closest("form");if(Ae){Ae.reset();break}}}}i={}}o=e.shouldUnregister?k.keepDefaultValues?wn(s):{}:wn(L),h.array.next({values:{...L}}),h.values.next({values:{...L}})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&t(),l.mount=!d.isValid||!!k.keepIsValid,l.watch=!!e.shouldUnregister,h.state.next({submitCount:k.keepSubmitCount?r.submitCount:0,isDirty:k.keepDirty?r.isDirty:!!(k.keepDefaultValues&&!Nr(y,s)),isSubmitted:k.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:k.keepDirtyValues?r.dirtyFields:k.keepDefaultValues&&y?uc(s,y):{},touchedFields:k.keepTouched?r.touchedFields:{},errors:k.keepErrors?r.errors:{},isSubmitSuccessful:k.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Pp=(y,k)=>Op(Kn(y)?y(o):y,k);return{control:{register:Mu,unregister:Bt,getFieldState:Ne,handleSubmit:$p,setError:nn,_executeSchema:te,_getWatch:ae,_getDirty:Z,_updateValid:f,_removeUnmounted:ne,_updateFieldArray:S,_updateDisabledField:wr,_getFieldArray:be,_reset:Op,_resetDefaultValues:()=>Kn(n.defaultValues)&&n.defaultValues().then(y=>{Pp(y,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:y=>{r={...r,...y}},_subjects:h,_proxyFormState:d,get _fields(){return i},get _formValues(){return o},get _state(){return l},set _state(y){l=y},get _defaultValues(){return s},get _names(){return a},set _names(y){a=y},get _formState(){return r},set _formState(y){r=y},get _options(){return n},set _options(y){n={...n,...y}}},trigger:X,register:Mu,handleSubmit:$p,watch:as,setValue:R,getValues:we,reset:Pp,resetField:gS,clearErrors:Zr,unregister:Bt,setError:nn,setFocus:(y,k={})=>{const x=U(i,y),V=x&&x._f;if(V){const L=V.refs?V.refs[0]:V.ref;L.focus&&(L.focus(),k.shouldSelect&&L.select())}},getFieldState:Ne}}function nw(e={}){const t=B.useRef(),n=B.useRef(),[r,i]=B.useState({isDirty:!1,isValidating:!1,isLoading:Kn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Kn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...PN(e,()=>i(o=>({...o}))),formState:r});const s=t.current.control;return s._options=e,SN({subject:s._subjects.state,next:o=>{EN(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),B.useEffect(()=>{e.values&&!Nr(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values):s._resetDefaultValues()},[e.values,s]),B.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=wN(r,s),t.current}const RN={id:"",color:"",music:"",treat:"",giftcard:"",author:"",perfectday:"",worstday:"",relax:"",dislike:"",sport:"",clothesizes:"",any:""},LN=()=>{const{register:e,handleSubmit:t}=nw(),{user:n}=Qr(),[r,i]=A.useState(RN),[s,o]=A.useState(!1),l=a=>{n!=null&&n.id&&PI(n.id,a)};return A.useEffect(()=>{n!=null&&n.id&&Vi(n==null?void 0:n.id,a=>{a.questionnaire&&i({...a.questionnaire})})},[n==null?void 0:n.id]),console.log({user:n}),w.jsx(w.Fragment,{children:w.jsxs("form",{className:"questionnaire",onSubmit:t(l),children:[w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"Sizes:(Shirt, Pant, Shoe, other??)"}),w.jsx("textarea",{...e("clothesizes"),defaultValue:r.clothesizes})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"Favorite color"}),w.jsx("textarea",{...e("color"),defaultValue:r.color})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"Favorite band or music"}),w.jsx("textarea",{...e("music"),defaultValue:r.music})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"Favorite treat/snack/flavor"}),w.jsx("textarea",{...e("treat"),defaultValue:r.treat})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"Favorite place to shop"}),w.jsx("textarea",{...e("giftcard"),defaultValue:r.giftcard})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"Favorite book or author"}),w.jsx("textarea",{...e("author"),defaultValue:r.author})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"What does your perfect day look like?"}),w.jsx("textarea",{...e("perfectday"),defaultValue:r.perfectday})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"What does your worst day look like?"}),w.jsx("textarea",{...e("worstday"),defaultValue:r.worstday})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"How do you relax?"}),w.jsx("textarea",{...e("relax"),defaultValue:r.relax})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"What do you dislike?"}),w.jsx("textarea",{...e("dislike"),defaultValue:r.dislike})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"Sport ball game team?"}),w.jsx("textarea",{...e("sport"),defaultValue:r.sport})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"Anything else?"}),w.jsx("textarea",{...e("any"),defaultValue:r.any})]}),w.jsx("div",{children:w.jsxs("button",{type:"submit",children:[s?"success":"save"," "]})})]})})},MN=({beneficiary:e})=>(console.log(e),!e||!e.questionnaire?null:w.jsxs(w.Fragment,{children:[w.jsxs("h4",{children:["You have ",e.displayName]}),w.jsxs("div",{className:"questionnaire",children:[w.jsxs("div",{className:"question answer",children:[w.jsx("label",{children:"Favorite color:"}),w.jsxs("p",{children:["  ",e.questionnaire.color||""," "]})]}),w.jsxs("div",{className:"question answer",children:[w.jsx("label",{children:"Sizes (shirt, pant, shoes, other??):"}),w.jsxs("p",{children:["  ",e.questionnaire.clothesizes||""," "]})]}),w.jsxs("div",{className:"question answer",children:[w.jsx("label",{children:"Favorite band or music:"}),w.jsxs("p",{children:["  ",e.questionnaire.music||""," "]})]}),w.jsxs("div",{className:"question answer",children:[w.jsx("label",{children:"Favorite treat/snack/flavor:"}),w.jsxs("p",{children:["  ",e.questionnaire.treat||""," "]})]}),w.jsxs("div",{className:"question answer",children:[w.jsxs("label",{children:["Favorite   ",w.jsx("a",{href:"https://www.amazon.com/gp/product/B0719C5P56/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=B0719C5P56&linkCode=as2&tag=thmcodes-20&linkId=69e5bdae9f2be364d09118c7b21fb335",target:"_blank",children:"place to shop"})]}),w.jsxs("p",{children:["  ",e.questionnaire.giftcard||""," "]})]}),w.jsxs("div",{className:"question answer",children:[w.jsx("label",{children:"Favorite book or author:"}),w.jsxs("p",{children:["  ",e.questionnaire.author||""," "]})]}),w.jsxs("div",{className:"question answer",children:[w.jsx("label",{children:"What does your perfect day look like?:"}),w.jsxs("p",{children:["  ",e.questionnaire.perfectday||""," "]})]}),w.jsxs("div",{className:"question answer",children:[w.jsx("label",{children:"What does your worst day look like?:"}),w.jsxs("p",{children:["  ",e.questionnaire.worstday||""," "]})]}),w.jsxs("div",{className:"question answer",children:[w.jsx("label",{children:"How do you relax?:"}),w.jsxs("p",{children:["  ",e.questionnaire.relax||""," "]})]}),w.jsxs("div",{className:"question answer",children:[w.jsx("label",{children:"What do you dislike?:"}),w.jsxs("p",{children:["  ",e.questionnaire.dislike||""," "]})]}),w.jsxs("div",{className:"question answer",children:[w.jsx("label",{children:"Sport ball game team?:"}),w.jsxs("p",{children:["  ",e.questionnaire.sport||""," "]})]}),w.jsxs("div",{className:"question answer",children:[w.jsx("label",{children:"Anything else?:"}),w.jsxs("p",{children:["  ",e.questionnaire.any||""," "]})]})]})]})),ug={fullName:"",imageUrl:""},FN=()=>{const{user:e}=Qr(),[t,n]=A.useState(!0),[r,i]=A.useState(ug),{games:s,selectedGame:o,setSelectedGame:l,secrets:a}=pN();A.useEffect(()=>{o&&a&&a.has&&e&&e.id&&e!=null&&e.id&&Vi(e==null?void 0:e.id,d=>{const h=d.games,g=h.findIndex(v=>v.gid===a.id);g<0?h.push({gameKey:a}):h[g]={...h[g],...a},Af({...d,games:{[o.gameKey]:a}})})},[JSON.stringify(o),JSON.stringify(a)]);const u=d=>{d.target.value!==o&&(i(ug),n(!0),l(d.target.value))},c=()=>{n(!t),r.fullName||Vi(a.has,d=>i(d))};return w.jsxs("div",{children:[w.jsxs("div",{onClick:c,children:[w.jsx("div",{className:"avatar_container",children:t?w.jsx("img",{className:"avatar",alt:(e==null?void 0:e.fullName)??"",src:`${e==null?void 0:e.imageUrl}`,style:{width:50,height:50}}):w.jsx("img",{className:"avatar",alt:(r==null?void 0:r.fullName)??"",src:`${r==null?void 0:r.imageUrl}`,style:{width:50,height:50}})}),w.jsx("h6",{children:r.displayName!==""&&t?"Click to see who you got":""}),w.jsx("h6",{children:t?"":"Click to your profile"})]}),s&&s.length>1&&w.jsx("select",{onChange:u,children:s.map(d=>w.jsx("option",{value:d.gameKey,children:d.name},d.gameKey))}),t?w.jsx(LN,{}):w.jsx(MN,{beneficiary:r})]})},jN=(e=4)=>{for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t},UN=({setGames:e,games:t})=>{const{user:n}=Qr(),{register:r,handleSubmit:i}=nw(),[s,o]=A.useState(!1),l=a=>{const u=jN(6),c=n==null?void 0:n.id;c&&RI({...a,gameKey:u,creatorId:c},d=>{o(!0),setTimeout(()=>{o(!1)},2e3),e([...t,d]),O1(u,n,()=>{console.log("added to game")})})};return w.jsxs("form",{className:"questionnaire",onSubmit:i(l),children:[w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"Name for the group"}),w.jsx("textarea",{...r("name"),required:!0})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"Budget"}),w.jsx("textarea",{...r("budget")})]}),w.jsxs("div",{className:"question",children:[w.jsx("label",{children:"Anything else?"}),w.jsx("textarea",{...r("notes")})]}),w.jsx("div",{children:w.jsxs("button",{type:"submit",children:[s?"success":"save"," "]})})]})};function VN(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}const zN=({game:e})=>{const[t,n]=A.useState(!1),[r,i]=A.useState([]),[s,o]=A.useState(!1),l=()=>{n(!0),navigator.clipboard.writeText(`https://santa-nator.com/${e.gameKey}`),setTimeout(()=>{n(!1)},2e3)};if(A.useEffect(()=>{e.gid!==""&&$I(e.gid,h=>{i(h)})},[JSON.stringify(e)]),!e||!e.gameKey)return null;const a=h=>g=>{if(!h)return;h.exclude=[];let v=g.target.options;for(let E=0,C=v.length;E<C;E++)v[E].selected&&(console.log(v[E]),h.exclude.includes(v[E].value)?h.exclude=h.exclude.filter(p=>p!==v[E].value):h.exclude.push(v[E].value));e.gid&&nc(e.gameKey,h)},u=r.map(h=>h.id),c=Array.from(new Set(r.filter(h=>h.exclude).flat())),d=()=>{if(c.length===0){const h=VN(u),g=[...h];g.push(g.shift()),h.forEach((v,E)=>{let C=r.find(p=>p.uid===v);C&&(C.has=g[E],nc(e.gameKey,C))})}else{let h=[];const g=()=>u[Math.floor(Math.random()*u.length)],v=(m,S)=>{var T;return!!(!S||(T=m==null?void 0:m.exclude)!=null&&T.includes(S)||m.id===S||h.includes(S))},E=[],C=r.filter(m=>{var S;return((S=m==null?void 0:m.exclude)==null?void 0:S.filter(T=>T!=="").length)>0}).map(m=>m.id),p=Array.from(new Set([...C,...u]));let f=!0;p.forEach(m=>{let S=r.find(T=>T.uid===m);if(S){let T=0,O;for(;v(S,O);){if(T++,T>100){f=!1,o(!0),setTimeout(()=>{o(!1)},3e3);break}O=g()}h.push(O),S.has=O,E.push(S)}}),f&&E.forEach(m=>{console.log({currentUser:m}),m&&nc(e.gameKey,m)})}};return w.jsxs(w.Fragment,{children:[e&&!!e.gameKey&&!!e.name&&w.jsx("div",{onClick:l,children:w.jsx("p",{children:t?w.jsx(w.Fragment,{children:w.jsx("span",{children:"copied to clip board"})}):w.jsxs(w.Fragment,{children:[w.jsx("span",{children:`https://santa-nator.com/${e.gameKey}`}),w.jsx("br",{}),w.jsx("span",{children:"click to share sign up link with friends and family"})]})})}),r.map(h=>w.jsxs("div",{children:[w.jsxs("div",{className:"manage-option",children:[w.jsx("img",{className:"avatar",alt:h.fullName,src:`${h.imageUrl}`,style:{width:50,height:50}}),w.jsx("span",{children:h.fullName})]}),w.jsx("div",{children:w.jsxs("div",{children:[w.jsx("label",{children:"exclude"}),w.jsxs("select",{className:"select-exclude",multiple:!0,defaultValue:h.exclude,onChange:a(h),children:[w.jsx("option",{value:"",children:"-"}),r.map(g=>w.jsxs("option",{value:g.uid,children:[g.fullName," "]},`${g.uid}-manaage-exclucs`))]})]})}),w.jsx("div",{children:w.jsxs("div",{children:[w.jsx("label",{children:"has"}),w.jsx("h6",{children:h.has})]})})]},`${h.uid}-user-options`)),s&&w.jsx("p",{children:"Woops, we couldn't sort it out. Maybe try removing some exclude options"}),w.jsx("button",{onClick:d,children:"Assign Secret Santas"})]})},BN=()=>{const{user:e}=Qr(),[t,n]=A.useState([]),[r,i]=A.useState("");return A.useEffect(()=>{const s=t[t.length-1];s!=null&&s.gid&&i(s.gid)},[t.length]),A.useEffect(()=>{e!=null&&e.id&&OI(e.id,s=>{n(s)})},[e==null?void 0:e.id,t.length]),e!=null&&e.id?w.jsxs(w.Fragment,{children:[w.jsxs("select",{value:r,onChange:s=>i(s.target.value),children:[w.jsx("option",{value:"newGame",children:" new game"}),t.map(s=>w.jsx("option",{value:s.gid,children:s.name},s.gid))]}),(r===""||r==="newGame")&&w.jsx(UN,{setGames:n,games:t}),r!==""&&r!=="newGame"&&r&&w.jsx(zN,{game:t.find(s=>s.gid==r)})]}):null};/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oo.apply(this,arguments)}var Wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wn||(Wn={}));const cg="popstate";function bN(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return Nh("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:rw(i)}return HN(t,n,null,e)}function ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qN(){return Math.random().toString(36).substr(2,8)}function hg(e,t){return{usr:e.state,key:e.key,idx:t}}function Nh(e,t,n,r){return n===void 0&&(n=null),oo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ss(t):t,{state:n,key:t&&t.key||r||qN()})}function rw(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ss(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function HN(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Wn.Pop,a=null,u=c();u==null&&(u=0,o.replaceState(oo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){l=Wn.Pop;let C=c(),p=C==null?null:C-u;u=C,a&&a({action:l,location:E.location,delta:p})}function h(C,p){l=Wn.Push;let f=Nh(E.location,C,p);n&&n(f,C),u=c()+1;let m=hg(f,u),S=E.createHref(f);try{o.pushState(m,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}s&&a&&a({action:l,location:E.location,delta:1})}function g(C,p){l=Wn.Replace;let f=Nh(E.location,C,p);n&&n(f,C),u=c();let m=hg(f,u),S=E.createHref(f);o.replaceState(m,"",S),s&&a&&a({action:l,location:E.location,delta:0})}function v(C){let p=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof C=="string"?C:rw(C);return ze(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let E={get action(){return l},get location(){return e(i,o)},listen(C){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(cg,d),a=C,()=>{i.removeEventListener(cg,d),a=null}},createHref(C){return t(i,C)},createURL:v,encodeLocation(C){let p=v(C);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:g,go(C){return o.go(C)}};return E}var dg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dg||(dg={}));function KN(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ss(t):t,i=ow(r.pathname||"/",n);if(i==null)return null;let s=iw(e);WN(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=nA(s[l],sA(i));return o}function iw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let a={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ze(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Pr([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iw(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:eA(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let a of sw(s.path))i(s,o,a)}),t}function sw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=sw(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function WN(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GN=/^:\w+$/,QN=3,YN=2,XN=1,JN=10,ZN=-2,fg=e=>e==="*";function eA(e,t){let n=e.split("/"),r=n.length;return n.some(fg)&&(r+=ZN),t&&(r+=YN),n.filter(i=>!fg(i)).reduce((i,s)=>i+(GN.test(s)?QN:s===""?XN:JN),r)}function tA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function nA(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],a=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=rA({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let d=l.route;s.push({params:r,pathname:Pr([i,c.pathname]),pathnameBase:hA(Pr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Pr([i,c.pathnameBase]))}return s}function rA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=iA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=l[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=oA(l[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:e}}function iA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),jf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function sA(e){try{return decodeURI(e)}catch(t){return jf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function oA(e,t){try{return decodeURIComponent(e)}catch(n){return jf(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function ow(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function lA(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ss(e):e;return{pathname:n?n.startsWith("/")?n:aA(n,t):t,search:dA(r),hash:fA(i)}}function aA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cA(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ss(e):(i=oo({},e),ze(!i.pathname||!i.pathname.includes("?"),hc("?","pathname","search",i)),ze(!i.pathname||!i.pathname.includes("#"),hc("#","pathname","hash",i)),ze(!i.search||!i.search.includes("#"),hc("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let d=t.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}l=d>=0?t[d]:"/"}let a=lA(i,l),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Pr=e=>e.join("/").replace(/\/\/+/g,"/"),hA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lw=["post","put","patch","delete"];new Set(lw);const mA=["get",...lw];new Set(mA);/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pa.apply(this,arguments)}const Uf=A.createContext(null),gA=A.createContext(null),vu=A.createContext(null),wu=A.createContext(null),Yr=A.createContext({outlet:null,matches:[],isDataRoute:!1}),aw=A.createContext(null);function Eu(){return A.useContext(wu)!=null}function qo(){return Eu()||ze(!1),A.useContext(wu).location}function uw(e){A.useContext(vu).static||A.useLayoutEffect(e)}function cw(){let{isDataRoute:e}=A.useContext(Yr);return e?DA():yA()}function yA(){Eu()||ze(!1);let e=A.useContext(Uf),{basename:t,navigator:n}=A.useContext(vu),{matches:r}=A.useContext(Yr),{pathname:i}=qo(),s=JSON.stringify(uA(r).map(a=>a.pathnameBase)),o=A.useRef(!1);return uw(()=>{o.current=!0}),A.useCallback(function(a,u){if(u===void 0&&(u={}),!o.current)return;if(typeof a=="number"){n.go(a);return}let c=cA(a,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Pr([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,s,i,e])}function vA(){let{matches:e}=A.useContext(Yr),t=e[e.length-1];return t?t.params:{}}function wA(e,t){return EA(e,t)}function EA(e,t,n){Eu()||ze(!1);let{navigator:r}=A.useContext(vu),{matches:i}=A.useContext(Yr),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let a=qo(),u;if(t){var c;let E=typeof t=="string"?ss(t):t;l==="/"||(c=E.pathname)!=null&&c.startsWith(l)||ze(!1),u=E}else u=a;let d=u.pathname||"/",h=l==="/"?d:d.slice(l.length)||"/",g=KN(e,{pathname:h}),v=_A(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:Pr([l,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Pr([l,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n);return t&&v?A.createElement(wu.Provider,{value:{location:pa({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wn.Pop}},v):v}function SA(){let e=AA(),t=pA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,s)}const kA=A.createElement(SA,null);class CA extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?A.createElement(Yr.Provider,{value:this.props.routeContext},A.createElement(aw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xA(e){let{routeContext:t,match:n,children:r}=e,i=A.useContext(Uf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Yr.Provider,{value:t},r)}function _A(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let l=s.findIndex(a=>a.route.id&&(o==null?void 0:o[a.route.id]));l>=0||ze(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,a,u)=>{let c=a.route.id?o==null?void 0:o[a.route.id]:null,d=null;n&&(d=a.route.errorElement||kA);let h=t.concat(s.slice(0,u+1)),g=()=>{let v;return c?v=d:a.route.Component?v=A.createElement(a.route.Component,null):a.route.element?v=a.route.element:v=l,A.createElement(xA,{match:a,routeContext:{outlet:l,matches:h,isDataRoute:n!=null},children:v})};return n&&(a.route.ErrorBoundary||a.route.errorElement||u===0)?A.createElement(CA,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:g(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):g()},null)}var hw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hw||{}),ma=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ma||{});function TA(e){let t=A.useContext(Uf);return t||ze(!1),t}function IA(e){let t=A.useContext(gA);return t||ze(!1),t}function NA(e){let t=A.useContext(Yr);return t||ze(!1),t}function dw(e){let t=NA(),n=t.matches[t.matches.length-1];return n.route.id||ze(!1),n.route.id}function AA(){var e;let t=A.useContext(aw),n=IA(ma.UseRouteError),r=dw(ma.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function DA(){let{router:e}=TA(hw.UseNavigateStable),t=dw(ma.UseNavigateStable),n=A.useRef(!1);return uw(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,pa({fromRouteId:t},s)))},[e,t])}function Ll(e){ze(!1)}function $A(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Wn.Pop,navigator:s,static:o=!1}=e;Eu()&&ze(!1);let l=t.replace(/^\/*/,"/"),a=A.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=ss(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:g="default"}=r,v=A.useMemo(()=>{let E=ow(u,l);return E==null?null:{location:{pathname:E,search:c,hash:d,state:h,key:g},navigationType:i}},[l,u,c,d,h,g,i]);return v==null?null:A.createElement(vu.Provider,{value:a},A.createElement(wu.Provider,{children:n,value:v}))}function OA(e){let{children:t,location:n}=e;return wA(Ah(t),n)}new Promise(()=>{});function Ah(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let s=[...t,i];if(r.type===A.Fragment){n.push.apply(n,Ah(r.props.children,s));return}r.type!==Ll&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ah(r.props.children,s)),n.push(o)}),n}function PA(){const e=fN(),t=qo();return w.jsx("button",{className:"sign-up-btn",style:{width:200,height:120,margin:"auto"},onClick:()=>e.openSignUp({redirectUrl:`${t.pathname}`}),children:"Sign up"})}const RA=()=>{var r;const e=Qr(),t=qo(),n=cw();return w.jsxs(w.Fragment,{children:[w.jsx(dN,{children:w.jsx("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:w.jsx(PA,{})})}),w.jsx(hN,{children:w.jsx("div",{className:"amazon-banner",children:w.jsxs("div",{children:[String((r=e.user)==null?void 0:r.id)!==""&&w.jsx(w.Fragment,{children:t.pathname==="/create-game"?w.jsx("button",{onClick:()=>{n("/")},children:"active games"}):w.jsx("button",{onClick:()=>{n("/create-game")},children:"organize games"})}),w.jsx("a",{href:"https://www.amazon.com/?tag=thmcodes-20&linkCode=ez",target:"_blank",children:w.jsx("button",{children:"Buy Stuff"})})]})})})]})};/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const LA="startTransition",pg=FS[LA];function MA(e){let{basename:t,children:n,future:r,window:i}=e,s=A.useRef();s.current==null&&(s.current=bN({window:i,v5Compat:!0}));let o=s.current,[l,a]=A.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=A.useCallback(d=>{u&&pg?pg(()=>a(d)):a(d)},[a,u]);return A.useLayoutEffect(()=>o.listen(c),[o,c]),A.createElement($A,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}var mg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(mg||(mg={}));var gg;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gg||(gg={}));const FA="pk_test_c3VpdGVkLWZhbGNvbi00Ni5jbGVyay5hY2NvdW50cy5kZXYk",yg=()=>{const{user:e}=Qr(),{gameKey:t}=vA();cw();const n=qo();return!(e!=null&&e.id)&&t&&localStorage.setItem("gameKey",t),A.useEffect(()=>{e!=null&&e.id&&Vi(e.id,r=>{r||AI(e),t&&O1(t,r,i=>{})})},[t,e==null?void 0:e.id]),n.pathname.includes("create-game")?null:w.jsx(w.Fragment,{children:!!(e!=null&&e.id)&&w.jsx(FN,{})})},jA=()=>w.jsx(W1,{publishableKey:FA,children:w.jsx("div",{className:"App",children:w.jsxs(MA,{children:[w.jsx(RA,{}),w.jsxs(OA,{children:[w.jsx(Ll,{path:"/",element:w.jsx(yg,{})}),w.jsx(Ll,{path:"/:gameKey",element:w.jsx(yg,{})}),w.jsx(Ll,{path:"/create-game",element:w.jsx(BN,{})})]})]})})});var Dh={},fw={exports:{}},Ot={},pw={exports:{}},mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,W){var X=R.length;R.push(W);e:for(;0<X;){var we=X-1>>>1,Ne=R[we];if(0<i(Ne,W))R[we]=W,R[X]=Ne,X=we;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var W=R[0],X=R.pop();if(X!==W){R[0]=X;e:for(var we=0,Ne=R.length,Zr=Ne>>>1;we<Zr;){var nn=2*(we+1)-1,as=R[nn],Bt=nn+1,wr=R[Bt];if(0>i(as,X))Bt<Ne&&0>i(wr,as)?(R[we]=wr,R[Bt]=X,we=Bt):(R[we]=as,R[nn]=X,we=nn);else if(Bt<Ne&&0>i(wr,X))R[we]=wr,R[Bt]=X,we=Bt;else break e}}return W}function i(R,W){var X=R.sortIndex-W.sortIndex;return X!==0?X:R.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,h=3,g=!1,v=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(R){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=R)r(u),W.sortIndex=W.expirationTime,t(a,W);else break;W=n(u)}}function S(R){if(E=!1,m(R),!v)if(n(a)!==null)v=!0,$e(T);else{var W=n(u);W!==null&&yt(S,W.startTime-R)}}function T(R,W){v=!1,E&&(E=!1,p(M),M=-1),g=!0;var X=h;try{for(m(W),d=n(a);d!==null&&(!(d.expirationTime>W)||R&&!ve());){var we=d.callback;if(typeof we=="function"){d.callback=null,h=d.priorityLevel;var Ne=we(d.expirationTime<=W);W=e.unstable_now(),typeof Ne=="function"?d.callback=Ne:d===n(a)&&r(a),m(W)}else r(a);d=n(a)}if(d!==null)var Zr=!0;else{var nn=n(u);nn!==null&&yt(S,nn.startTime-W),Zr=!1}return Zr}finally{d=null,h=X,g=!1}}var O=!1,D=null,M=-1,te=5,K=-1;function ve(){return!(e.unstable_now()-K<te)}function ne(){if(D!==null){var R=e.unstable_now();K=R;var W=!0;try{W=D(!0,R)}finally{W?Z():(O=!1,D=null)}}else O=!1}var Z;if(typeof f=="function")Z=function(){f(ne)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,be=ae.port2;ae.port1.onmessage=ne,Z=function(){be.postMessage(null)}}else Z=function(){C(ne,0)};function $e(R){D=R,O||(O=!0,Z())}function yt(R,W){M=C(function(){R(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,$e(T))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var X=h;h=W;try{return R()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,W){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var X=h;h=R;try{return W()}finally{h=X}},e.unstable_scheduleCallback=function(R,W,X){var we=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?we+X:we):X=we,R){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=X+Ne,R={id:c++,callback:W,priorityLevel:R,startTime:X,expirationTime:Ne,sortIndex:-1},X>we?(R.sortIndex=X,t(u,R),n(a)===null&&R===n(u)&&(E?(p(M),M=-1):E=!0,yt(S,X-we))):(R.sortIndex=Ne,t(a,R),v||g||(v=!0,$e(T))),R},e.unstable_shouldYield=ve,e.unstable_wrapCallback=function(R){var W=h;return function(){var X=h;h=W;try{return R.apply(this,arguments)}finally{h=X}}}})(mw);pw.exports=mw;var UA=pw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw=A,$t=UA;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yw=new Set,lo={};function Xr(e,t){Bi(e,t),Bi(e+"Capture",t)}function Bi(e,t){for(lo[e]=t,e=0;e<t.length;e++)yw.add(t[e])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$h=Object.prototype.hasOwnProperty,VA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vg={},wg={};function zA(e){return $h.call(wg,e)?!0:$h.call(vg,e)?!1:VA.test(e)?wg[e]=!0:(vg[e]=!0,!1)}function BA(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bA(e,t,n,r){if(t===null||typeof t>"u"||BA(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vf=/[\-:]([a-z])/g;function zf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vf,zf);et[t]=new gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vf,zf);et[t]=new gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vf,zf);et[t]=new gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new gt(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bf(e,t,n,r){var i=et.hasOwnProperty(t)?et[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bA(t,n,i,r)&&(n=null),r||i===null?zA(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fn=gw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),hi=Symbol.for("react.portal"),di=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),Oh=Symbol.for("react.profiler"),vw=Symbol.for("react.provider"),ww=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),Ph=Symbol.for("react.suspense"),Rh=Symbol.for("react.suspense_list"),Hf=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),Ew=Symbol.for("react.offscreen"),Eg=Symbol.iterator;function ds(e){return e===null||typeof e!="object"?null:(e=Eg&&e[Eg]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,dc;function _s(e){if(dc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);dc=t&&t[1]||""}return`
`+dc+e}var fc=!1;function pc(e,t){if(!e||fc)return"";fc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{fc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_s(e):""}function qA(e){switch(e.tag){case 5:return _s(e.type);case 16:return _s("Lazy");case 13:return _s("Suspense");case 19:return _s("SuspenseList");case 0:case 2:case 15:return e=pc(e.type,!1),e;case 11:return e=pc(e.type.render,!1),e;case 1:return e=pc(e.type,!0),e;default:return""}}function Lh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case di:return"Fragment";case hi:return"Portal";case Oh:return"Profiler";case bf:return"StrictMode";case Ph:return"Suspense";case Rh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ww:return(e.displayName||"Context")+".Consumer";case vw:return(e._context.displayName||"Context")+".Provider";case qf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hf:return t=e.displayName||null,t!==null?t:Lh(e.type)||"Memo";case Un:t=e._payload,e=e._init;try{return Lh(e(t))}catch{}}return null}function HA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lh(t);case 8:return t===bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KA(e){var t=Sw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cl(e){e._valueTracker||(e._valueTracker=KA(e))}function kw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Sw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mh(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Cw(e,t){t=t.checked,t!=null&&Bf(e,"checked",t,!1)}function Fh(e,t){Cw(e,t);var n=cr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jh(e,t.type,n):t.hasOwnProperty("defaultValue")&&jh(e,t.type,cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jh(e,t,n){(t!=="number"||ga(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ts=Array.isArray;function Ni(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Uh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Ts(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cr(n)}}function xw(e,t){var n=cr(t.value),r=cr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _w(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_w(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hl,Tw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hl=hl||document.createElement("div"),hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ao(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WA=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(e){WA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ls[t]=Ls[e]})});function Iw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ls.hasOwnProperty(e)&&Ls[e]?(""+t).trim():t+"px"}function Nw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Iw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var GA=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zh(e,t){if(t){if(GA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Bh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=null;function Kf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qh=null,Ai=null,Di=null;function _g(e){if(e=Wo(e)){if(typeof qh!="function")throw Error(I(280));var t=e.stateNode;t&&(t=_u(t),qh(e.stateNode,e.type,t))}}function Aw(e){Ai?Di?Di.push(e):Di=[e]:Ai=e}function Dw(){if(Ai){var e=Ai,t=Di;if(Di=Ai=null,_g(e),t)for(e=0;e<t.length;e++)_g(t[e])}}function $w(e,t){return e(t)}function Ow(){}var mc=!1;function Pw(e,t,n){if(mc)return e(t,n);mc=!0;try{return $w(e,t,n)}finally{mc=!1,(Ai!==null||Di!==null)&&(Ow(),Dw())}}function uo(e,t){var n=e.stateNode;if(n===null)return null;var r=_u(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Hh=!1;if(On)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Hh=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Hh=!1}function QA(e,t,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ms=!1,ya=null,va=!1,Kh=null,YA={onError:function(e){Ms=!0,ya=e}};function XA(e,t,n,r,i,s,o,l,a){Ms=!1,ya=null,QA.apply(YA,arguments)}function JA(e,t,n,r,i,s,o,l,a){if(XA.apply(this,arguments),Ms){if(Ms){var u=ya;Ms=!1,ya=null}else throw Error(I(198));va||(va=!0,Kh=u)}}function Jr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tg(e){if(Jr(e)!==e)throw Error(I(188))}function ZA(e){var t=e.alternate;if(!t){if(t=Jr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Tg(i),e;if(s===r)return Tg(i),t;s=s.sibling}throw Error(I(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Lw(e){return e=ZA(e),e!==null?Mw(e):null}function Mw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mw(e);if(t!==null)return t;e=e.sibling}return null}var Fw=$t.unstable_scheduleCallback,Ig=$t.unstable_cancelCallback,eD=$t.unstable_shouldYield,tD=$t.unstable_requestPaint,De=$t.unstable_now,nD=$t.unstable_getCurrentPriorityLevel,Wf=$t.unstable_ImmediatePriority,jw=$t.unstable_UserBlockingPriority,wa=$t.unstable_NormalPriority,rD=$t.unstable_LowPriority,Uw=$t.unstable_IdlePriority,Su=null,fn=null;function iD(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Su,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:lD,sD=Math.log,oD=Math.LN2;function lD(e){return e>>>=0,e===0?32:31-(sD(e)/oD|0)|0}var dl=64,fl=4194304;function Is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ea(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Is(l):(s&=o,s!==0&&(r=Is(s)))}else o=n&~i,o!==0?r=Is(o):s!==0&&(r=Is(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xt(t),i=1<<n,r|=e[n],t&=~i;return r}function aD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Xt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=aD(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function Wh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vw(){var e=dl;return dl<<=1,!(dl&4194240)&&(dl=64),e}function gc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ho(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=n}function cD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Xt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Gf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ce=0;function zw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bw,Qf,bw,qw,Hw,Gh=!1,pl=[],Zn=null,er=null,tr=null,co=new Map,ho=new Map,Bn=[],hD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ng(e,t){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(t.pointerId)}}function ps(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Wo(t),t!==null&&Qf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dD(e,t,n,r,i){switch(t){case"focusin":return Zn=ps(Zn,e,t,n,r,i),!0;case"dragenter":return er=ps(er,e,t,n,r,i),!0;case"mouseover":return tr=ps(tr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return co.set(s,ps(co.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ho.set(s,ps(ho.get(s)||null,e,t,n,r,i)),!0}return!1}function Kw(e){var t=Ar(e.target);if(t!==null){var n=Jr(t);if(n!==null){if(t=n.tag,t===13){if(t=Rw(n),t!==null){e.blockedOn=t,Hw(e.priority,function(){bw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bh=r,n.target.dispatchEvent(r),bh=null}else return t=Wo(n),t!==null&&Qf(t),e.blockedOn=n,!1;t.shift()}return!0}function Ag(e,t,n){Ml(e)&&n.delete(t)}function fD(){Gh=!1,Zn!==null&&Ml(Zn)&&(Zn=null),er!==null&&Ml(er)&&(er=null),tr!==null&&Ml(tr)&&(tr=null),co.forEach(Ag),ho.forEach(Ag)}function ms(e,t){e.blockedOn===t&&(e.blockedOn=null,Gh||(Gh=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,fD)))}function fo(e){function t(i){return ms(i,e)}if(0<pl.length){ms(pl[0],e);for(var n=1;n<pl.length;n++){var r=pl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zn!==null&&ms(Zn,e),er!==null&&ms(er,e),tr!==null&&ms(tr,e),co.forEach(t),ho.forEach(t),n=0;n<Bn.length;n++)r=Bn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bn.length&&(n=Bn[0],n.blockedOn===null);)Kw(n),n.blockedOn===null&&Bn.shift()}var $i=Fn.ReactCurrentBatchConfig,Sa=!0;function pD(e,t,n,r){var i=ce,s=$i.transition;$i.transition=null;try{ce=1,Yf(e,t,n,r)}finally{ce=i,$i.transition=s}}function mD(e,t,n,r){var i=ce,s=$i.transition;$i.transition=null;try{ce=4,Yf(e,t,n,r)}finally{ce=i,$i.transition=s}}function Yf(e,t,n,r){if(Sa){var i=Qh(e,t,n,r);if(i===null)Tc(e,t,r,ka,n),Ng(e,r);else if(dD(i,e,t,n,r))r.stopPropagation();else if(Ng(e,r),t&4&&-1<hD.indexOf(e)){for(;i!==null;){var s=Wo(i);if(s!==null&&Bw(s),s=Qh(e,t,n,r),s===null&&Tc(e,t,r,ka,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Tc(e,t,r,null,n)}}var ka=null;function Qh(e,t,n,r){if(ka=null,e=Kf(r),e=Ar(e),e!==null)if(t=Jr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Rw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ka=e,null}function Ww(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nD()){case Wf:return 1;case jw:return 4;case wa:case rD:return 16;case Uw:return 536870912;default:return 16}default:return 16}}var Gn=null,Xf=null,Fl=null;function Gw(){if(Fl)return Fl;var e,t=Xf,n=t.length,r,i="value"in Gn?Gn.value:Gn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Fl=i.slice(e,1<r?1-r:void 0)}function jl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ml(){return!0}function Dg(){return!1}function Pt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ml:Dg,this.isPropagationStopped=Dg,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),t}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=Pt(os),Ko=xe({},os,{view:0,detail:0}),gD=Pt(Ko),yc,vc,gs,ku=xe({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(yc=e.screenX-gs.screenX,vc=e.screenY-gs.screenY):vc=yc=0,gs=e),yc)},movementY:function(e){return"movementY"in e?e.movementY:vc}}),$g=Pt(ku),yD=xe({},ku,{dataTransfer:0}),vD=Pt(yD),wD=xe({},Ko,{relatedTarget:0}),wc=Pt(wD),ED=xe({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),SD=Pt(ED),kD=xe({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CD=Pt(kD),xD=xe({},os,{data:0}),Og=Pt(xD),_D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ID={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ND(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ID[e])?!!t[e]:!1}function Zf(){return ND}var AD=xe({},Ko,{key:function(e){if(e.key){var t=_D[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zf,charCode:function(e){return e.type==="keypress"?jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DD=Pt(AD),$D=xe({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pg=Pt($D),OD=xe({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zf}),PD=Pt(OD),RD=xe({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),LD=Pt(RD),MD=xe({},ku,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),FD=Pt(MD),jD=[9,13,27,32],ep=On&&"CompositionEvent"in window,Fs=null;On&&"documentMode"in document&&(Fs=document.documentMode);var UD=On&&"TextEvent"in window&&!Fs,Qw=On&&(!ep||Fs&&8<Fs&&11>=Fs),Rg=String.fromCharCode(32),Lg=!1;function Yw(e,t){switch(e){case"keyup":return jD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fi=!1;function VD(e,t){switch(e){case"compositionend":return Xw(t);case"keypress":return t.which!==32?null:(Lg=!0,Rg);case"textInput":return e=t.data,e===Rg&&Lg?null:e;default:return null}}function zD(e,t){if(fi)return e==="compositionend"||!ep&&Yw(e,t)?(e=Gw(),Fl=Xf=Gn=null,fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qw&&t.locale!=="ko"?null:t.data;default:return null}}var BD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BD[e.type]:t==="textarea"}function Jw(e,t,n,r){Aw(r),t=Ca(t,"onChange"),0<t.length&&(n=new Jf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var js=null,po=null;function bD(e){uE(e,0)}function Cu(e){var t=gi(e);if(kw(t))return e}function qD(e,t){if(e==="change")return t}var Zw=!1;if(On){var Ec;if(On){var Sc="oninput"in document;if(!Sc){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Sc=typeof Fg.oninput=="function"}Ec=Sc}else Ec=!1;Zw=Ec&&(!document.documentMode||9<document.documentMode)}function jg(){js&&(js.detachEvent("onpropertychange",eE),po=js=null)}function eE(e){if(e.propertyName==="value"&&Cu(po)){var t=[];Jw(t,po,e,Kf(e)),Pw(bD,t)}}function HD(e,t,n){e==="focusin"?(jg(),js=t,po=n,js.attachEvent("onpropertychange",eE)):e==="focusout"&&jg()}function KD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(po)}function WD(e,t){if(e==="click")return Cu(t)}function GD(e,t){if(e==="input"||e==="change")return Cu(t)}function QD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:QD;function mo(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$h.call(t,i)||!tn(e[i],t[i]))return!1}return!0}function Ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vg(e,t){var n=Ug(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ug(n)}}function tE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nE(){for(var e=window,t=ga();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ga(e.document)}return t}function tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YD(e){var t=nE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tE(n.ownerDocument.documentElement,n)){if(r!==null&&tp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Vg(n,s);var o=Vg(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XD=On&&"documentMode"in document&&11>=document.documentMode,pi=null,Yh=null,Us=null,Xh=!1;function zg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xh||pi==null||pi!==ga(r)||(r=pi,"selectionStart"in r&&tp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Us&&mo(Us,r)||(Us=r,r=Ca(Yh,"onSelect"),0<r.length&&(t=new Jf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pi)))}function gl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mi={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionend:gl("Transition","TransitionEnd")},kc={},rE={};On&&(rE=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function xu(e){if(kc[e])return kc[e];if(!mi[e])return e;var t=mi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in rE)return kc[e]=t[n];return e}var iE=xu("animationend"),sE=xu("animationiteration"),oE=xu("animationstart"),lE=xu("transitionend"),aE=new Map,Bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(e,t){aE.set(e,t),Xr(t,[e])}for(var Cc=0;Cc<Bg.length;Cc++){var xc=Bg[Cc],JD=xc.toLowerCase(),ZD=xc[0].toUpperCase()+xc.slice(1);gr(JD,"on"+ZD)}gr(iE,"onAnimationEnd");gr(sE,"onAnimationIteration");gr(oE,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(lE,"onTransitionEnd");Bi("onMouseEnter",["mouseout","mouseover"]);Bi("onMouseLeave",["mouseout","mouseover"]);Bi("onPointerEnter",["pointerout","pointerover"]);Bi("onPointerLeave",["pointerout","pointerover"]);Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ns));function bg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,JA(r,t,void 0,e),e.currentTarget=null}function uE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;bg(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;bg(i,l,u),s=a}}}if(va)throw e=Kh,va=!1,Kh=null,e}function fe(e,t){var n=t[nd];n===void 0&&(n=t[nd]=new Set);var r=e+"__bubble";n.has(r)||(cE(t,e,2,!1),n.add(r))}function _c(e,t,n){var r=0;t&&(r|=4),cE(n,e,r,t)}var yl="_reactListening"+Math.random().toString(36).slice(2);function go(e){if(!e[yl]){e[yl]=!0,yw.forEach(function(n){n!=="selectionchange"&&(e$.has(n)||_c(n,!1,e),_c(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yl]||(t[yl]=!0,_c("selectionchange",!1,t))}}function cE(e,t,n,r){switch(Ww(t)){case 1:var i=pD;break;case 4:i=mD;break;default:i=Yf}n=i.bind(null,t,n,e),i=void 0,!Hh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Tc(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ar(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Pw(function(){var u=s,c=Kf(n),d=[];e:{var h=aE.get(e);if(h!==void 0){var g=Jf,v=e;switch(e){case"keypress":if(jl(n)===0)break e;case"keydown":case"keyup":g=DD;break;case"focusin":v="focus",g=wc;break;case"focusout":v="blur",g=wc;break;case"beforeblur":case"afterblur":g=wc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=$g;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=PD;break;case iE:case sE:case oE:g=SD;break;case lE:g=LD;break;case"scroll":g=gD;break;case"wheel":g=FD;break;case"copy":case"cut":case"paste":g=CD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Pg}var E=(t&4)!==0,C=!E&&e==="scroll",p=E?h!==null?h+"Capture":null:h;E=[];for(var f=u,m;f!==null;){m=f;var S=m.stateNode;if(m.tag===5&&S!==null&&(m=S,p!==null&&(S=uo(f,p),S!=null&&E.push(yo(f,S,m)))),C)break;f=f.return}0<E.length&&(h=new g(h,v,null,n,c),d.push({event:h,listeners:E}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==bh&&(v=n.relatedTarget||n.fromElement)&&(Ar(v)||v[Pn]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?Ar(v):null,v!==null&&(C=Jr(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(E=$g,S="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(E=Pg,S="onPointerLeave",p="onPointerEnter",f="pointer"),C=g==null?h:gi(g),m=v==null?h:gi(v),h=new E(S,f+"leave",g,n,c),h.target=C,h.relatedTarget=m,S=null,Ar(c)===u&&(E=new E(p,f+"enter",v,n,c),E.target=m,E.relatedTarget=C,S=E),C=S,g&&v)t:{for(E=g,p=v,f=0,m=E;m;m=ri(m))f++;for(m=0,S=p;S;S=ri(S))m++;for(;0<f-m;)E=ri(E),f--;for(;0<m-f;)p=ri(p),m--;for(;f--;){if(E===p||p!==null&&E===p.alternate)break t;E=ri(E),p=ri(p)}E=null}else E=null;g!==null&&qg(d,h,g,E,!1),v!==null&&C!==null&&qg(d,C,v,E,!0)}}e:{if(h=u?gi(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var T=qD;else if(Mg(h))if(Zw)T=GD;else{T=KD;var O=HD}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=WD);if(T&&(T=T(e,u))){Jw(d,T,n,c);break e}O&&O(e,h,u),e==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&jh(h,"number",h.value)}switch(O=u?gi(u):window,e){case"focusin":(Mg(O)||O.contentEditable==="true")&&(pi=O,Yh=u,Us=null);break;case"focusout":Us=Yh=pi=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,zg(d,n,c);break;case"selectionchange":if(XD)break;case"keydown":case"keyup":zg(d,n,c)}var D;if(ep)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else fi?Yw(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Qw&&n.locale!=="ko"&&(fi||M!=="onCompositionStart"?M==="onCompositionEnd"&&fi&&(D=Gw()):(Gn=c,Xf="value"in Gn?Gn.value:Gn.textContent,fi=!0)),O=Ca(u,M),0<O.length&&(M=new Og(M,e,null,n,c),d.push({event:M,listeners:O}),D?M.data=D:(D=Xw(n),D!==null&&(M.data=D)))),(D=UD?VD(e,n):zD(e,n))&&(u=Ca(u,"onBeforeInput"),0<u.length&&(c=new Og("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=D))}uE(d,t)})}function yo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ca(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=uo(e,n),s!=null&&r.unshift(yo(e,s,i)),s=uo(e,t),s!=null&&r.push(yo(e,s,i))),e=e.return}return r}function ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qg(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=uo(n,s),a!=null&&o.unshift(yo(n,a,l))):i||(a=uo(n,s),a!=null&&o.push(yo(n,a,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var t$=/\r\n?/g,n$=/\u0000|\uFFFD/g;function Hg(e){return(typeof e=="string"?e:""+e).replace(t$,`
`).replace(n$,"")}function vl(e,t,n){if(t=Hg(t),Hg(e)!==t&&n)throw Error(I(425))}function xa(){}var Jh=null,Zh=null;function ed(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var td=typeof setTimeout=="function"?setTimeout:void 0,r$=typeof clearTimeout=="function"?clearTimeout:void 0,Kg=typeof Promise=="function"?Promise:void 0,i$=typeof queueMicrotask=="function"?queueMicrotask:typeof Kg<"u"?function(e){return Kg.resolve(null).then(e).catch(s$)}:td;function s$(e){setTimeout(function(){throw e})}function Ic(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),fo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fo(t)}function nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ls=Math.random().toString(36).slice(2),ln="__reactFiber$"+ls,vo="__reactProps$"+ls,Pn="__reactContainer$"+ls,nd="__reactEvents$"+ls,o$="__reactListeners$"+ls,l$="__reactHandles$"+ls;function Ar(e){var t=e[ln];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pn]||n[ln]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wg(e);e!==null;){if(n=e[ln])return n;e=Wg(e)}return t}e=n,n=e.parentNode}return null}function Wo(e){return e=e[ln]||e[Pn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function _u(e){return e[vo]||null}var rd=[],yi=-1;function yr(e){return{current:e}}function ge(e){0>yi||(e.current=rd[yi],rd[yi]=null,yi--)}function de(e,t){yi++,rd[yi]=e.current,e.current=t}var hr={},ct=yr(hr),St=yr(!1),zr=hr;function bi(e,t){var n=e.type.contextTypes;if(!n)return hr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function kt(e){return e=e.childContextTypes,e!=null}function _a(){ge(St),ge(ct)}function Gg(e,t,n){if(ct.current!==hr)throw Error(I(168));de(ct,t),de(St,n)}function hE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(I(108,HA(e)||"Unknown",i));return xe({},n,r)}function Ta(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hr,zr=ct.current,de(ct,e),de(St,St.current),!0}function Qg(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=hE(e,t,zr),r.__reactInternalMemoizedMergedChildContext=e,ge(St),ge(ct),de(ct,e)):ge(St),de(St,n)}var Sn=null,Tu=!1,Nc=!1;function dE(e){Sn===null?Sn=[e]:Sn.push(e)}function a$(e){Tu=!0,dE(e)}function vr(){if(!Nc&&Sn!==null){Nc=!0;var e=0,t=ce;try{var n=Sn;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Sn=null,Tu=!1}catch(i){throw Sn!==null&&(Sn=Sn.slice(e+1)),Fw(Wf,vr),i}finally{ce=t,Nc=!1}}return null}var vi=[],wi=0,Ia=null,Na=0,Lt=[],Mt=0,Br=null,Cn=1,xn="";function Sr(e,t){vi[wi++]=Na,vi[wi++]=Ia,Ia=e,Na=t}function fE(e,t,n){Lt[Mt++]=Cn,Lt[Mt++]=xn,Lt[Mt++]=Br,Br=e;var r=Cn;e=xn;var i=32-Xt(r)-1;r&=~(1<<i),n+=1;var s=32-Xt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cn=1<<32-Xt(t)+i|n<<i|r,xn=s+e}else Cn=1<<s|n<<i|r,xn=e}function np(e){e.return!==null&&(Sr(e,1),fE(e,1,0))}function rp(e){for(;e===Ia;)Ia=vi[--wi],vi[wi]=null,Na=vi[--wi],vi[wi]=null;for(;e===Br;)Br=Lt[--Mt],Lt[Mt]=null,xn=Lt[--Mt],Lt[Mt]=null,Cn=Lt[--Mt],Lt[Mt]=null}var Nt=null,_t=null,Se=!1,Kt=null;function pE(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,_t=nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Br!==null?{id:Cn,overflow:xn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nt=e,_t=null,!0):!1;default:return!1}}function id(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sd(e){if(Se){var t=_t;if(t){var n=t;if(!Yg(e,t)){if(id(e))throw Error(I(418));t=nr(n.nextSibling);var r=Nt;t&&Yg(e,t)?pE(r,n):(e.flags=e.flags&-4097|2,Se=!1,Nt=e)}}else{if(id(e))throw Error(I(418));e.flags=e.flags&-4097|2,Se=!1,Nt=e}}}function Xg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function wl(e){if(e!==Nt)return!1;if(!Se)return Xg(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ed(e.type,e.memoizedProps)),t&&(t=_t)){if(id(e))throw mE(),Error(I(418));for(;t;)pE(e,t),t=nr(t.nextSibling)}if(Xg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_t=nr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Nt?nr(e.stateNode.nextSibling):null;return!0}function mE(){for(var e=_t;e;)e=nr(e.nextSibling)}function qi(){_t=Nt=null,Se=!1}function ip(e){Kt===null?Kt=[e]:Kt.push(e)}var u$=Fn.ReactCurrentBatchConfig;function qt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Aa=yr(null),Da=null,Ei=null,sp=null;function op(){sp=Ei=Da=null}function lp(e){var t=Aa.current;ge(Aa),e._currentValue=t}function od(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oi(e,t){Da=e,sp=Ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Et=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(sp!==e)if(e={context:e,memoizedValue:t,next:null},Ei===null){if(Da===null)throw Error(I(308));Ei=e,Da.dependencies={lanes:0,firstContext:e}}else Ei=Ei.next=e;return t}var Dr=null;function ap(e){Dr===null?Dr=[e]:Dr.push(e)}function gE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ap(t)):(n.next=i.next,i.next=n),t.interleaved=n,Rn(e,r)}function Rn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vn=!1;function up(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Rn(e,n)}return i=r.interleaved,i===null?(t.next=t,ap(r)):(t.next=i.next,i.next=t),r.interleaved=t,Rn(e,n)}function Ul(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gf(e,n)}}function Jg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $a(e,t,n,r){var i=e.updateQueue;Vn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var h=l.lane,g=l.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,E=l;switch(h=t,g=n,E.tag){case 1:if(v=E.payload,typeof v=="function"){d=v.call(g,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=E.payload,h=typeof v=="function"?v.call(g,d,h):v,h==null)break e;d=xe({},d,h);break e;case 2:Vn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=d):c=c.next=g,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);qr|=o,e.lanes=o,e.memoizedState=d}}function Zg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(I(191,i));i.call(r)}}}var vE=new gw.Component().refs;function ld(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Iu={isMounted:function(e){return(e=e._reactInternals)?Jr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pt(),i=sr(e),s=Tn(r,i);s.payload=t,n!=null&&(s.callback=n),t=rr(e,s,i),t!==null&&(Jt(t,e,i,r),Ul(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pt(),i=sr(e),s=Tn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=rr(e,s,i),t!==null&&(Jt(t,e,i,r),Ul(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pt(),r=sr(e),i=Tn(n,r);i.tag=2,t!=null&&(i.callback=t),t=rr(e,i,r),t!==null&&(Jt(t,e,r,n),Ul(t,e,r))}};function ey(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!mo(n,r)||!mo(i,s):!0}function wE(e,t,n){var r=!1,i=hr,s=t.contextType;return typeof s=="object"&&s!==null?s=Vt(s):(i=kt(t)?zr:ct.current,r=t.contextTypes,s=(r=r!=null)?bi(e,i):hr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Iu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ty(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Iu.enqueueReplaceState(t,t.state,null)}function ad(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=vE,up(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Vt(s):(s=kt(t)?zr:ct.current,i.context=bi(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ld(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Iu.enqueueReplaceState(i,i.state,null),$a(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ys(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;l===vE&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function El(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ny(e){var t=e._init;return t(e._payload)}function EE(e){function t(p,f){if(e){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function i(p,f){return p=or(p,f),p.index=0,p.sibling=null,p}function s(p,f,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,f,m,S){return f===null||f.tag!==6?(f=Lc(m,p.mode,S),f.return=p,f):(f=i(f,m),f.return=p,f)}function a(p,f,m,S){var T=m.type;return T===di?c(p,f,m.props.children,S,m.key):f!==null&&(f.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Un&&ny(T)===f.type)?(S=i(f,m.props),S.ref=ys(p,f,m),S.return=p,S):(S=Hl(m.type,m.key,m.props,null,p.mode,S),S.ref=ys(p,f,m),S.return=p,S)}function u(p,f,m,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Mc(m,p.mode,S),f.return=p,f):(f=i(f,m.children||[]),f.return=p,f)}function c(p,f,m,S,T){return f===null||f.tag!==7?(f=Lr(m,p.mode,S,T),f.return=p,f):(f=i(f,m),f.return=p,f)}function d(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Lc(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ul:return m=Hl(f.type,f.key,f.props,null,p.mode,m),m.ref=ys(p,null,f),m.return=p,m;case hi:return f=Mc(f,p.mode,m),f.return=p,f;case Un:var S=f._init;return d(p,S(f._payload),m)}if(Ts(f)||ds(f))return f=Lr(f,p.mode,m,null),f.return=p,f;El(p,f)}return null}function h(p,f,m,S){var T=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return T!==null?null:l(p,f,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ul:return m.key===T?a(p,f,m,S):null;case hi:return m.key===T?u(p,f,m,S):null;case Un:return T=m._init,h(p,f,T(m._payload),S)}if(Ts(m)||ds(m))return T!==null?null:c(p,f,m,S,null);El(p,m)}return null}function g(p,f,m,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(m)||null,l(f,p,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ul:return p=p.get(S.key===null?m:S.key)||null,a(f,p,S,T);case hi:return p=p.get(S.key===null?m:S.key)||null,u(f,p,S,T);case Un:var O=S._init;return g(p,f,m,O(S._payload),T)}if(Ts(S)||ds(S))return p=p.get(m)||null,c(f,p,S,T,null);El(f,S)}return null}function v(p,f,m,S){for(var T=null,O=null,D=f,M=f=0,te=null;D!==null&&M<m.length;M++){D.index>M?(te=D,D=null):te=D.sibling;var K=h(p,D,m[M],S);if(K===null){D===null&&(D=te);break}e&&D&&K.alternate===null&&t(p,D),f=s(K,f,M),O===null?T=K:O.sibling=K,O=K,D=te}if(M===m.length)return n(p,D),Se&&Sr(p,M),T;if(D===null){for(;M<m.length;M++)D=d(p,m[M],S),D!==null&&(f=s(D,f,M),O===null?T=D:O.sibling=D,O=D);return Se&&Sr(p,M),T}for(D=r(p,D);M<m.length;M++)te=g(D,p,M,m[M],S),te!==null&&(e&&te.alternate!==null&&D.delete(te.key===null?M:te.key),f=s(te,f,M),O===null?T=te:O.sibling=te,O=te);return e&&D.forEach(function(ve){return t(p,ve)}),Se&&Sr(p,M),T}function E(p,f,m,S){var T=ds(m);if(typeof T!="function")throw Error(I(150));if(m=T.call(m),m==null)throw Error(I(151));for(var O=T=null,D=f,M=f=0,te=null,K=m.next();D!==null&&!K.done;M++,K=m.next()){D.index>M?(te=D,D=null):te=D.sibling;var ve=h(p,D,K.value,S);if(ve===null){D===null&&(D=te);break}e&&D&&ve.alternate===null&&t(p,D),f=s(ve,f,M),O===null?T=ve:O.sibling=ve,O=ve,D=te}if(K.done)return n(p,D),Se&&Sr(p,M),T;if(D===null){for(;!K.done;M++,K=m.next())K=d(p,K.value,S),K!==null&&(f=s(K,f,M),O===null?T=K:O.sibling=K,O=K);return Se&&Sr(p,M),T}for(D=r(p,D);!K.done;M++,K=m.next())K=g(D,p,M,K.value,S),K!==null&&(e&&K.alternate!==null&&D.delete(K.key===null?M:K.key),f=s(K,f,M),O===null?T=K:O.sibling=K,O=K);return e&&D.forEach(function(ne){return t(p,ne)}),Se&&Sr(p,M),T}function C(p,f,m,S){if(typeof m=="object"&&m!==null&&m.type===di&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ul:e:{for(var T=m.key,O=f;O!==null;){if(O.key===T){if(T=m.type,T===di){if(O.tag===7){n(p,O.sibling),f=i(O,m.props.children),f.return=p,p=f;break e}}else if(O.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Un&&ny(T)===O.type){n(p,O.sibling),f=i(O,m.props),f.ref=ys(p,O,m),f.return=p,p=f;break e}n(p,O);break}else t(p,O);O=O.sibling}m.type===di?(f=Lr(m.props.children,p.mode,S,m.key),f.return=p,p=f):(S=Hl(m.type,m.key,m.props,null,p.mode,S),S.ref=ys(p,f,m),S.return=p,p=S)}return o(p);case hi:e:{for(O=m.key;f!==null;){if(f.key===O)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=i(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=Mc(m,p.mode,S),f.return=p,p=f}return o(p);case Un:return O=m._init,C(p,f,O(m._payload),S)}if(Ts(m))return v(p,f,m,S);if(ds(m))return E(p,f,m,S);El(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=i(f,m),f.return=p,p=f):(n(p,f),f=Lc(m,p.mode,S),f.return=p,p=f),o(p)):n(p,f)}return C}var Hi=EE(!0),SE=EE(!1),Go={},pn=yr(Go),wo=yr(Go),Eo=yr(Go);function $r(e){if(e===Go)throw Error(I(174));return e}function cp(e,t){switch(de(Eo,t),de(wo,e),de(pn,Go),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vh(t,e)}ge(pn),de(pn,t)}function Ki(){ge(pn),ge(wo),ge(Eo)}function kE(e){$r(Eo.current);var t=$r(pn.current),n=Vh(t,e.type);t!==n&&(de(wo,e),de(pn,n))}function hp(e){wo.current===e&&(ge(pn),ge(wo))}var ke=yr(0);function Oa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ac=[];function dp(){for(var e=0;e<Ac.length;e++)Ac[e]._workInProgressVersionPrimary=null;Ac.length=0}var Vl=Fn.ReactCurrentDispatcher,Dc=Fn.ReactCurrentBatchConfig,br=0,Ce=null,je=null,He=null,Pa=!1,Vs=!1,So=0,c$=0;function nt(){throw Error(I(321))}function fp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function pp(e,t,n,r,i,s){if(br=s,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vl.current=e===null||e.memoizedState===null?p$:m$,e=n(r,i),Vs){s=0;do{if(Vs=!1,So=0,25<=s)throw Error(I(301));s+=1,He=je=null,t.updateQueue=null,Vl.current=g$,e=n(r,i)}while(Vs)}if(Vl.current=Ra,t=je!==null&&je.next!==null,br=0,He=je=Ce=null,Pa=!1,t)throw Error(I(300));return e}function mp(){var e=So!==0;return So=0,e}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ce.memoizedState=He=e:He=He.next=e,He}function zt(){if(je===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=He===null?Ce.memoizedState:He.next;if(t!==null)He=t,je=e;else{if(e===null)throw Error(I(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},He===null?Ce.memoizedState=He=e:He=He.next=e}return He}function ko(e,t){return typeof t=="function"?t(e):t}function $c(e){var t=zt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((br&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,Ce.lanes|=c,qr|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,tn(r,t.memoizedState)||(Et=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ce.lanes|=s,qr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oc(e){var t=zt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);tn(s,t.memoizedState)||(Et=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function CE(){}function xE(e,t){var n=Ce,r=zt(),i=t(),s=!tn(r.memoizedState,i);if(s&&(r.memoizedState=i,Et=!0),r=r.queue,gp(IE.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Co(9,TE.bind(null,n,r,i,t),void 0,null),Ke===null)throw Error(I(349));br&30||_E(n,t,i)}return i}function _E(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function TE(e,t,n,r){t.value=n,t.getSnapshot=r,NE(t)&&AE(e)}function IE(e,t,n){return n(function(){NE(t)&&AE(e)})}function NE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function AE(e){var t=Rn(e,1);t!==null&&Jt(t,e,1,-1)}function ry(e){var t=sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=f$.bind(null,Ce,e),[t.memoizedState,e]}function Co(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function DE(){return zt().memoizedState}function zl(e,t,n,r){var i=sn();Ce.flags|=e,i.memoizedState=Co(1|t,n,void 0,r===void 0?null:r)}function Nu(e,t,n,r){var i=zt();r=r===void 0?null:r;var s=void 0;if(je!==null){var o=je.memoizedState;if(s=o.destroy,r!==null&&fp(r,o.deps)){i.memoizedState=Co(t,n,s,r);return}}Ce.flags|=e,i.memoizedState=Co(1|t,n,s,r)}function iy(e,t){return zl(8390656,8,e,t)}function gp(e,t){return Nu(2048,8,e,t)}function $E(e,t){return Nu(4,2,e,t)}function OE(e,t){return Nu(4,4,e,t)}function PE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RE(e,t,n){return n=n!=null?n.concat([e]):null,Nu(4,4,PE.bind(null,t,e),n)}function yp(){}function LE(e,t){var n=zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ME(e,t){var n=zt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&fp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function FE(e,t,n){return br&21?(tn(n,t)||(n=Vw(),Ce.lanes|=n,qr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Et=!0),e.memoizedState=n)}function h$(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=Dc.transition;Dc.transition={};try{e(!1),t()}finally{ce=n,Dc.transition=r}}function jE(){return zt().memoizedState}function d$(e,t,n){var r=sr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UE(e))VE(t,n);else if(n=gE(e,t,n,r),n!==null){var i=pt();Jt(n,e,r,i),zE(n,t,r)}}function f$(e,t,n){var r=sr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UE(e))VE(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,tn(l,o)){var a=t.interleaved;a===null?(i.next=i,ap(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=gE(e,t,i,r),n!==null&&(i=pt(),Jt(n,e,r,i),zE(n,t,r))}}function UE(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function VE(e,t){Vs=Pa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Gf(e,n)}}var Ra={readContext:Vt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},p$={readContext:Vt,useCallback:function(e,t){return sn().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:iy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zl(4194308,4,PE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return zl(4,2,e,t)},useMemo:function(e,t){var n=sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d$.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=sn();return e={current:e},t.memoizedState=e},useState:ry,useDebugValue:yp,useDeferredValue:function(e){return sn().memoizedState=e},useTransition:function(){var e=ry(!1),t=e[0];return e=h$.bind(null,e[1]),sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,i=sn();if(Se){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),Ke===null)throw Error(I(349));br&30||_E(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,iy(IE.bind(null,r,s,e),[e]),r.flags|=2048,Co(9,TE.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=sn(),t=Ke.identifierPrefix;if(Se){var n=xn,r=Cn;n=(r&~(1<<32-Xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=So++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c$++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m$={readContext:Vt,useCallback:LE,useContext:Vt,useEffect:gp,useImperativeHandle:RE,useInsertionEffect:$E,useLayoutEffect:OE,useMemo:ME,useReducer:$c,useRef:DE,useState:function(){return $c(ko)},useDebugValue:yp,useDeferredValue:function(e){var t=zt();return FE(t,je.memoizedState,e)},useTransition:function(){var e=$c(ko)[0],t=zt().memoizedState;return[e,t]},useMutableSource:CE,useSyncExternalStore:xE,useId:jE,unstable_isNewReconciler:!1},g$={readContext:Vt,useCallback:LE,useContext:Vt,useEffect:gp,useImperativeHandle:RE,useInsertionEffect:$E,useLayoutEffect:OE,useMemo:ME,useReducer:Oc,useRef:DE,useState:function(){return Oc(ko)},useDebugValue:yp,useDeferredValue:function(e){var t=zt();return je===null?t.memoizedState=e:FE(t,je.memoizedState,e)},useTransition:function(){var e=Oc(ko)[0],t=zt().memoizedState;return[e,t]},useMutableSource:CE,useSyncExternalStore:xE,useId:jE,unstable_isNewReconciler:!1};function Wi(e,t){try{var n="",r=t;do n+=qA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Pc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ud(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var y$=typeof WeakMap=="function"?WeakMap:Map;function BE(e,t,n){n=Tn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ma||(Ma=!0,wd=r),ud(e,t)},n}function bE(e,t,n){n=Tn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ud(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ud(e,t),typeof r!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function sy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new y$;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$$.bind(null,e,t,n),t.then(e,e))}function oy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ly(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tn(-1,1),t.tag=2,rr(n,t,1))),n.lanes|=1),e)}var v$=Fn.ReactCurrentOwner,Et=!1;function ht(e,t,n,r){t.child=e===null?SE(t,null,n,r):Hi(t,e.child,n,r)}function ay(e,t,n,r,i){n=n.render;var s=t.ref;return Oi(t,i),r=pp(e,t,n,r,s,i),n=mp(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ln(e,t,i)):(Se&&n&&np(t),t.flags|=1,ht(e,t,r,i),t.child)}function uy(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!_p(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,qE(e,t,s,r,i)):(e=Hl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:mo,n(o,r)&&e.ref===t.ref)return Ln(e,t,i)}return t.flags|=1,e=or(s,r),e.ref=t.ref,e.return=t,t.child=e}function qE(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(mo(s,r)&&e.ref===t.ref)if(Et=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Et=!0);else return t.lanes=e.lanes,Ln(e,t,i)}return cd(e,t,n,r,i)}function HE(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(ki,xt),xt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(ki,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,de(ki,xt),xt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,de(ki,xt),xt|=r;return ht(e,t,i,n),t.child}function KE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function cd(e,t,n,r,i){var s=kt(n)?zr:ct.current;return s=bi(t,s),Oi(t,i),n=pp(e,t,n,r,s,i),r=mp(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ln(e,t,i)):(Se&&r&&np(t),t.flags|=1,ht(e,t,n,i),t.child)}function cy(e,t,n,r,i){if(kt(n)){var s=!0;Ta(t)}else s=!1;if(Oi(t,i),t.stateNode===null)Bl(e,t),wE(t,n,r),ad(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vt(u):(u=kt(n)?zr:ct.current,u=bi(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&ty(t,o,r,u),Vn=!1;var h=t.memoizedState;o.state=h,$a(t,r,o,i),a=t.memoizedState,l!==r||h!==a||St.current||Vn?(typeof c=="function"&&(ld(t,n,c,r),a=t.memoizedState),(l=Vn||ey(t,n,l,r,h,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,yE(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:qt(t.type,l),o.props=u,d=t.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Vt(a):(a=kt(n)?zr:ct.current,a=bi(t,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==a)&&ty(t,o,r,a),Vn=!1,h=t.memoizedState,o.state=h,$a(t,r,o,i);var v=t.memoizedState;l!==d||h!==v||St.current||Vn?(typeof g=="function"&&(ld(t,n,g,r),v=t.memoizedState),(u=Vn||ey(t,n,u,r,h,v,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return hd(e,t,n,r,s,i)}function hd(e,t,n,r,i,s){KE(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Qg(t,n,!1),Ln(e,t,s);r=t.stateNode,v$.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Hi(t,e.child,null,s),t.child=Hi(t,null,l,s)):ht(e,t,l,s),t.memoizedState=r.state,i&&Qg(t,n,!0),t.child}function WE(e){var t=e.stateNode;t.pendingContext?Gg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gg(e,t.context,!1),cp(e,t.containerInfo)}function hy(e,t,n,r,i){return qi(),ip(i),t.flags|=256,ht(e,t,n,r),t.child}var dd={dehydrated:null,treeContext:null,retryLane:0};function fd(e){return{baseLanes:e,cachePool:null,transitions:null}}function GE(e,t,n){var r=t.pendingProps,i=ke.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),de(ke,i&1),e===null)return sd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$u(o,r,0,null),e=Lr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=fd(n),t.memoizedState=dd,e):vp(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return w$(e,t,o,r,l,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=or(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=or(l,s):(s=Lr(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?fd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=dd,r}return s=e.child,e=s.sibling,r=or(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vp(e,t){return t=$u({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sl(e,t,n,r){return r!==null&&ip(r),Hi(t,e.child,null,n),e=vp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w$(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Pc(Error(I(422))),Sl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=$u({mode:"visible",children:r.children},i,0,null),s=Lr(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Hi(t,e.child,null,o),t.child.memoizedState=fd(o),t.memoizedState=dd,s);if(!(t.mode&1))return Sl(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(I(419)),r=Pc(s,r,void 0),Sl(e,t,o,r)}if(l=(o&e.childLanes)!==0,Et||l){if(r=Ke,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rn(e,i),Jt(r,e,i,-1))}return xp(),r=Pc(Error(I(421))),Sl(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=O$.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,_t=nr(i.nextSibling),Nt=t,Se=!0,Kt=null,e!==null&&(Lt[Mt++]=Cn,Lt[Mt++]=xn,Lt[Mt++]=Br,Cn=e.id,xn=e.overflow,Br=t),t=vp(t,r.children),t.flags|=4096,t)}function dy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),od(e.return,t,n)}function Rc(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function QE(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ht(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dy(e,n,t);else if(e.tag===19)dy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(ke,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Oa(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Rc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Oa(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Rc(t,!0,n,null,s);break;case"together":Rc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=or(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=or(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function E$(e,t,n){switch(t.tag){case 3:WE(t),qi();break;case 5:kE(t);break;case 1:kt(t.type)&&Ta(t);break;case 4:cp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;de(Aa,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?GE(e,t,n):(de(ke,ke.current&1),e=Ln(e,t,n),e!==null?e.sibling:null);de(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return QE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),de(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,HE(e,t,n)}return Ln(e,t,n)}var YE,pd,XE,JE;YE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pd=function(){};XE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$r(pn.current);var s=null;switch(n){case"input":i=Mh(e,i),r=Mh(e,r),s=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),s=[];break;case"textarea":i=Uh(e,i),r=Uh(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xa)}zh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(lo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(lo.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&fe("scroll",e),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};JE=function(e,t,n,r){n!==r&&(t.flags|=4)};function vs(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function S$(e,t,n){var r=t.pendingProps;switch(rp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return kt(t.type)&&_a(),rt(t),null;case 3:return r=t.stateNode,Ki(),ge(St),ge(ct),dp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kt!==null&&(kd(Kt),Kt=null))),pd(e,t),rt(t),null;case 5:hp(t);var i=$r(Eo.current);if(n=t.type,e!==null&&t.stateNode!=null)XE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return rt(t),null}if(e=$r(pn.current),wl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[ln]=t,r[vo]=s,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(i=0;i<Ns.length;i++)fe(Ns[i],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Sg(r,s),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fe("invalid",r);break;case"textarea":Cg(r,s),fe("invalid",r)}zh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&vl(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&vl(r.textContent,l,e),i=["children",""+l]):lo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":cl(r),kg(r,s,!0);break;case"textarea":cl(r),xg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xa)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_w(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ln]=t,e[vo]=r,YE(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bh(n,r),n){case"dialog":fe("cancel",e),fe("close",e),i=r;break;case"iframe":case"object":case"embed":fe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ns.length;i++)fe(Ns[i],e);i=r;break;case"source":fe("error",e),i=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),i=r;break;case"details":fe("toggle",e),i=r;break;case"input":Sg(e,r),i=Mh(e,r),fe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Cg(e,r),i=Uh(e,r),fe("invalid",e);break;default:i=r}zh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Nw(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Tw(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ao(e,a):typeof a=="number"&&ao(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(lo.hasOwnProperty(s)?a!=null&&s==="onScroll"&&fe("scroll",e):a!=null&&Bf(e,s,a,o))}switch(n){case"input":cl(e),kg(e,r,!1);break;case"textarea":cl(e),xg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cr(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ni(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ni(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)JE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=$r(Eo.current),$r(pn.current),wl(t)){if(r=t.stateNode,n=t.memoizedProps,r[ln]=t,(s=r.nodeValue!==n)&&(e=Nt,e!==null))switch(e.tag){case 3:vl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ln]=t,t.stateNode=r}return rt(t),null;case 13:if(ge(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&_t!==null&&t.mode&1&&!(t.flags&128))mE(),qi(),t.flags|=98560,s=!1;else if(s=wl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(I(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[ln]=t}else qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rt(t),s=!1}else Kt!==null&&(kd(Kt),Kt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?Ue===0&&(Ue=3):xp())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return Ki(),pd(e,t),e===null&&go(t.stateNode.containerInfo),rt(t),null;case 10:return lp(t.type._context),rt(t),null;case 17:return kt(t.type)&&_a(),rt(t),null;case 19:if(ge(ke),s=t.memoizedState,s===null)return rt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)vs(s,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Oa(e),o!==null){for(t.flags|=128,vs(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(ke,ke.current&1|2),t.child}e=e.sibling}s.tail!==null&&De()>Gi&&(t.flags|=128,r=!0,vs(s,!1),t.lanes=4194304)}else{if(!r)if(e=Oa(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Se)return rt(t),null}else 2*De()-s.renderingStartTime>Gi&&n!==1073741824&&(t.flags|=128,r=!0,vs(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=De(),t.sibling=null,n=ke.current,de(ke,r?n&1|2:n&1),t):(rt(t),null);case 22:case 23:return Cp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?xt&1073741824&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function k$(e,t){switch(rp(t),t.tag){case 1:return kt(t.type)&&_a(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ki(),ge(St),ge(ct),dp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hp(t),null;case 13:if(ge(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ge(ke),null;case 4:return Ki(),null;case 10:return lp(t.type._context),null;case 22:case 23:return Cp(),null;case 24:return null;default:return null}}var kl=!1,ot=!1,C$=typeof WeakSet=="function"?WeakSet:Set,j=null;function Si(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(e,t,r)}else n.current=null}function md(e,t,n){try{n()}catch(r){Te(e,t,r)}}var fy=!1;function x$(e,t){if(Jh=Sa,e=nE(),tp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===e)break t;if(h===n&&++u===i&&(l=o),h===s&&++c===r&&(a=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zh={focusedElem:e,selectionRange:n},Sa=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var E=v.memoizedProps,C=v.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?E:qt(t.type,E),C);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){Te(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return v=fy,fy=!1,v}function zs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&md(t,n,s)}i=i.next}while(i!==r)}}function Au(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ZE(e){var t=e.alternate;t!==null&&(e.alternate=null,ZE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ln],delete t[vo],delete t[nd],delete t[o$],delete t[l$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eS(e){return e.tag===5||e.tag===3||e.tag===4}function py(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xa));else if(r!==4&&(e=e.child,e!==null))for(yd(e,t,n),e=e.sibling;e!==null;)yd(e,t,n),e=e.sibling}function vd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vd(e,t,n),e=e.sibling;e!==null;)vd(e,t,n),e=e.sibling}var Ye=null,Ht=!1;function jn(e,t,n){for(n=n.child;n!==null;)tS(e,t,n),n=n.sibling}function tS(e,t,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Su,n)}catch{}switch(n.tag){case 5:ot||Si(n,t);case 6:var r=Ye,i=Ht;Ye=null,jn(e,t,n),Ye=r,Ht=i,Ye!==null&&(Ht?(e=Ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Ht?(e=Ye,n=n.stateNode,e.nodeType===8?Ic(e.parentNode,n):e.nodeType===1&&Ic(e,n),fo(e)):Ic(Ye,n.stateNode));break;case 4:r=Ye,i=Ht,Ye=n.stateNode.containerInfo,Ht=!0,jn(e,t,n),Ye=r,Ht=i;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&md(n,t,o),i=i.next}while(i!==r)}jn(e,t,n);break;case 1:if(!ot&&(Si(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Te(n,t,l)}jn(e,t,n);break;case 21:jn(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,jn(e,t,n),ot=r):jn(e,t,n);break;default:jn(e,t,n)}}function my(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new C$),t.forEach(function(r){var i=P$.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ye=l.stateNode,Ht=!1;break e;case 3:Ye=l.stateNode.containerInfo,Ht=!0;break e;case 4:Ye=l.stateNode.containerInfo,Ht=!0;break e}l=l.return}if(Ye===null)throw Error(I(160));tS(s,o,i),Ye=null,Ht=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Te(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nS(t,e),t=t.sibling}function nS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),rn(e),r&4){try{zs(3,e,e.return),Au(3,e)}catch(E){Te(e,e.return,E)}try{zs(5,e,e.return)}catch(E){Te(e,e.return,E)}}break;case 1:bt(t,e),rn(e),r&512&&n!==null&&Si(n,n.return);break;case 5:if(bt(t,e),rn(e),r&512&&n!==null&&Si(n,n.return),e.flags&32){var i=e.stateNode;try{ao(i,"")}catch(E){Te(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Cw(i,s),Bh(l,o);var u=Bh(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?Nw(i,d):c==="dangerouslySetInnerHTML"?Tw(i,d):c==="children"?ao(i,d):Bf(i,c,d,u)}switch(l){case"input":Fh(i,s);break;case"textarea":xw(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Ni(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ni(i,!!s.multiple,s.defaultValue,!0):Ni(i,!!s.multiple,s.multiple?[]:"",!1))}i[vo]=s}catch(E){Te(e,e.return,E)}}break;case 6:if(bt(t,e),rn(e),r&4){if(e.stateNode===null)throw Error(I(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){Te(e,e.return,E)}}break;case 3:if(bt(t,e),rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fo(t.containerInfo)}catch(E){Te(e,e.return,E)}break;case 4:bt(t,e),rn(e);break;case 13:bt(t,e),rn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sp=De())),r&4&&my(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(u=ot)||c,bt(t,e),ot=u):bt(t,e),rn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(j=e,c=e.child;c!==null;){for(d=j=c;j!==null;){switch(h=j,g=h.child,h.tag){case 0:case 11:case 14:case 15:zs(4,h,h.return);break;case 1:Si(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(E){Te(r,n,E)}}break;case 5:Si(h,h.return);break;case 22:if(h.memoizedState!==null){yy(d);continue}}g!==null?(g.return=h,j=g):yy(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Iw("display",o))}catch(E){Te(e,e.return,E)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){Te(e,e.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bt(t,e),rn(e),r&4&&my(e);break;case 21:break;default:bt(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(eS(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ao(i,""),r.flags&=-33);var s=py(e);vd(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=py(e);yd(e,l,o);break;default:throw Error(I(161))}}catch(a){Te(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _$(e,t,n){j=e,rS(e)}function rS(e,t,n){for(var r=(e.mode&1)!==0;j!==null;){var i=j,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||kl;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ot;l=kl;var u=ot;if(kl=o,(ot=a)&&!u)for(j=i;j!==null;)o=j,a=o.child,o.tag===22&&o.memoizedState!==null?vy(i):a!==null?(a.return=o,j=a):vy(i);for(;s!==null;)j=s,rS(s),s=s.sibling;j=i,kl=l,ot=u}gy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,j=s):gy(e)}}function gy(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||Au(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Zg(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zg(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&fo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}ot||t.flags&512&&gd(t)}catch(h){Te(t,t.return,h)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function yy(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function vy(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Au(4,t)}catch(a){Te(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){Te(t,i,a)}}var s=t.return;try{gd(t)}catch(a){Te(t,s,a)}break;case 5:var o=t.return;try{gd(t)}catch(a){Te(t,o,a)}}}catch(a){Te(t,t.return,a)}if(t===e){j=null;break}var l=t.sibling;if(l!==null){l.return=t.return,j=l;break}j=t.return}}var T$=Math.ceil,La=Fn.ReactCurrentDispatcher,wp=Fn.ReactCurrentOwner,Ut=Fn.ReactCurrentBatchConfig,oe=0,Ke=null,Me=null,Ze=0,xt=0,ki=yr(0),Ue=0,xo=null,qr=0,Du=0,Ep=0,Bs=null,vt=null,Sp=0,Gi=1/0,En=null,Ma=!1,wd=null,ir=null,Cl=!1,Qn=null,Fa=0,bs=0,Ed=null,bl=-1,ql=0;function pt(){return oe&6?De():bl!==-1?bl:bl=De()}function sr(e){return e.mode&1?oe&2&&Ze!==0?Ze&-Ze:u$.transition!==null?(ql===0&&(ql=Vw()),ql):(e=ce,e!==0||(e=window.event,e=e===void 0?16:Ww(e.type)),e):1}function Jt(e,t,n,r){if(50<bs)throw bs=0,Ed=null,Error(I(185));Ho(e,n,r),(!(oe&2)||e!==Ke)&&(e===Ke&&(!(oe&2)&&(Du|=n),Ue===4&&bn(e,Ze)),Ct(e,r),n===1&&oe===0&&!(t.mode&1)&&(Gi=De()+500,Tu&&vr()))}function Ct(e,t){var n=e.callbackNode;uD(e,t);var r=Ea(e,e===Ke?Ze:0);if(r===0)n!==null&&Ig(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ig(n),t===1)e.tag===0?a$(wy.bind(null,e)):dE(wy.bind(null,e)),i$(function(){!(oe&6)&&vr()}),n=null;else{switch(zw(r)){case 1:n=Wf;break;case 4:n=jw;break;case 16:n=wa;break;case 536870912:n=Uw;break;default:n=wa}n=hS(n,iS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iS(e,t){if(bl=-1,ql=0,oe&6)throw Error(I(327));var n=e.callbackNode;if(Pi()&&e.callbackNode!==n)return null;var r=Ea(e,e===Ke?Ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ja(e,r);else{t=r;var i=oe;oe|=2;var s=oS();(Ke!==e||Ze!==t)&&(En=null,Gi=De()+500,Rr(e,t));do try{A$();break}catch(l){sS(e,l)}while(1);op(),La.current=s,oe=i,Me!==null?t=0:(Ke=null,Ze=0,t=Ue)}if(t!==0){if(t===2&&(i=Wh(e),i!==0&&(r=i,t=Sd(e,i))),t===1)throw n=xo,Rr(e,0),bn(e,r),Ct(e,De()),n;if(t===6)bn(e,r);else{if(i=e.current.alternate,!(r&30)&&!I$(i)&&(t=ja(e,r),t===2&&(s=Wh(e),s!==0&&(r=s,t=Sd(e,s))),t===1))throw n=xo,Rr(e,0),bn(e,r),Ct(e,De()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:kr(e,vt,En);break;case 3:if(bn(e,r),(r&130023424)===r&&(t=Sp+500-De(),10<t)){if(Ea(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){pt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=td(kr.bind(null,e,vt,En),t);break}kr(e,vt,En);break;case 4:if(bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Xt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T$(r/1960))-r,10<r){e.timeoutHandle=td(kr.bind(null,e,vt,En),r);break}kr(e,vt,En);break;case 5:kr(e,vt,En);break;default:throw Error(I(329))}}}return Ct(e,De()),e.callbackNode===n?iS.bind(null,e):null}function Sd(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(Rr(e,t).flags|=256),e=ja(e,t),e!==2&&(t=vt,vt=n,t!==null&&kd(t)),e}function kd(e){vt===null?vt=e:vt.push.apply(vt,e)}function I$(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~Ep,t&=~Du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xt(t),r=1<<n;e[n]=-1,t&=~r}}function wy(e){if(oe&6)throw Error(I(327));Pi();var t=Ea(e,0);if(!(t&1))return Ct(e,De()),null;var n=ja(e,t);if(e.tag!==0&&n===2){var r=Wh(e);r!==0&&(t=r,n=Sd(e,r))}if(n===1)throw n=xo,Rr(e,0),bn(e,t),Ct(e,De()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kr(e,vt,En),Ct(e,De()),null}function kp(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(Gi=De()+500,Tu&&vr())}}function Hr(e){Qn!==null&&Qn.tag===0&&!(oe&6)&&Pi();var t=oe;oe|=1;var n=Ut.transition,r=ce;try{if(Ut.transition=null,ce=1,e)return e()}finally{ce=r,Ut.transition=n,oe=t,!(oe&6)&&vr()}}function Cp(){xt=ki.current,ge(ki)}function Rr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,r$(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(rp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_a();break;case 3:Ki(),ge(St),ge(ct),dp();break;case 5:hp(r);break;case 4:Ki();break;case 13:ge(ke);break;case 19:ge(ke);break;case 10:lp(r.type._context);break;case 22:case 23:Cp()}n=n.return}if(Ke=e,Me=e=or(e.current,null),Ze=xt=t,Ue=0,xo=null,Ep=Du=qr=0,vt=Bs=null,Dr!==null){for(t=0;t<Dr.length;t++)if(n=Dr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Dr=null}return e}function sS(e,t){do{var n=Me;try{if(op(),Vl.current=Ra,Pa){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pa=!1}if(br=0,He=je=Ce=null,Vs=!1,So=0,wp.current=null,n===null||n.return===null){Ue=1,xo=t,Me=null;break}e:{var s=e,o=n.return,l=n,a=t;if(t=Ze,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=oy(o);if(g!==null){g.flags&=-257,ly(g,o,l,s,t),g.mode&1&&sy(s,u,t),t=g,a=u;var v=t.updateQueue;if(v===null){var E=new Set;E.add(a),t.updateQueue=E}else v.add(a);break e}else{if(!(t&1)){sy(s,u,t),xp();break e}a=Error(I(426))}}else if(Se&&l.mode&1){var C=oy(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),ly(C,o,l,s,t),ip(Wi(a,l));break e}}s=a=Wi(a,l),Ue!==4&&(Ue=2),Bs===null?Bs=[s]:Bs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=BE(s,a,t);Jg(s,p);break e;case 1:l=a;var f=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ir===null||!ir.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=bE(s,l,t);Jg(s,S);break e}}s=s.return}while(s!==null)}aS(n)}catch(T){t=T,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(1)}function oS(){var e=La.current;return La.current=Ra,e===null?Ra:e}function xp(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ke===null||!(qr&268435455)&&!(Du&268435455)||bn(Ke,Ze)}function ja(e,t){var n=oe;oe|=2;var r=oS();(Ke!==e||Ze!==t)&&(En=null,Rr(e,t));do try{N$();break}catch(i){sS(e,i)}while(1);if(op(),oe=n,La.current=r,Me!==null)throw Error(I(261));return Ke=null,Ze=0,Ue}function N$(){for(;Me!==null;)lS(Me)}function A$(){for(;Me!==null&&!eD();)lS(Me)}function lS(e){var t=cS(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?aS(e):Me=t,wp.current=null}function aS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=k$(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Me=null;return}}else if(n=S$(n,t,xt),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Ue===0&&(Ue=5)}function kr(e,t,n){var r=ce,i=Ut.transition;try{Ut.transition=null,ce=1,D$(e,t,n,r)}finally{Ut.transition=i,ce=r}return null}function D$(e,t,n,r){do Pi();while(Qn!==null);if(oe&6)throw Error(I(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(cD(e,s),e===Ke&&(Me=Ke=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cl||(Cl=!0,hS(wa,function(){return Pi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ut.transition,Ut.transition=null;var o=ce;ce=1;var l=oe;oe|=4,wp.current=null,x$(e,n),nS(n,e),YD(Zh),Sa=!!Jh,Zh=Jh=null,e.current=n,_$(n),tD(),oe=l,ce=o,Ut.transition=s}else e.current=n;if(Cl&&(Cl=!1,Qn=e,Fa=i),s=e.pendingLanes,s===0&&(ir=null),iD(n.stateNode),Ct(e,De()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ma)throw Ma=!1,e=wd,wd=null,e;return Fa&1&&e.tag!==0&&Pi(),s=e.pendingLanes,s&1?e===Ed?bs++:(bs=0,Ed=e):bs=0,vr(),null}function Pi(){if(Qn!==null){var e=zw(Fa),t=Ut.transition,n=ce;try{if(Ut.transition=null,ce=16>e?16:e,Qn===null)var r=!1;else{if(e=Qn,Qn=null,Fa=0,oe&6)throw Error(I(331));var i=oe;for(oe|=4,j=e.current;j!==null;){var s=j,o=s.child;if(j.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:zs(8,c,s)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var h=c.sibling,g=c.return;if(ZE(c),c===u){j=null;break}if(h!==null){h.return=g,j=h;break}j=g}}}var v=s.alternate;if(v!==null){var E=v.child;if(E!==null){v.child=null;do{var C=E.sibling;E.sibling=null,E=C}while(E!==null)}}j=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,j=o;else e:for(;j!==null;){if(s=j,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zs(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,j=p;break e}j=s.return}}var f=e.current;for(j=f;j!==null;){o=j;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,j=m;else e:for(o=f;j!==null;){if(l=j,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Au(9,l)}}catch(T){Te(l,l.return,T)}if(l===o){j=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,j=S;break e}j=l.return}}if(oe=i,vr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Su,e)}catch{}r=!0}return r}finally{ce=n,Ut.transition=t}}return!1}function Ey(e,t,n){t=Wi(n,t),t=BE(e,t,1),e=rr(e,t,1),t=pt(),e!==null&&(Ho(e,1,t),Ct(e,t))}function Te(e,t,n){if(e.tag===3)Ey(e,e,n);else for(;t!==null;){if(t.tag===3){Ey(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ir===null||!ir.has(r))){e=Wi(n,e),e=bE(t,e,1),t=rr(t,e,1),e=pt(),t!==null&&(Ho(t,1,e),Ct(t,e));break}}t=t.return}}function $$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Ze&n)===n&&(Ue===4||Ue===3&&(Ze&130023424)===Ze&&500>De()-Sp?Rr(e,0):Ep|=n),Ct(e,t)}function uS(e,t){t===0&&(e.mode&1?(t=fl,fl<<=1,!(fl&130023424)&&(fl=4194304)):t=1);var n=pt();e=Rn(e,t),e!==null&&(Ho(e,t,n),Ct(e,n))}function O$(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),uS(e,n)}function P$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),uS(e,n)}var cS;cS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)Et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Et=!1,E$(e,t,n);Et=!!(e.flags&131072)}else Et=!1,Se&&t.flags&1048576&&fE(t,Na,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bl(e,t),e=t.pendingProps;var i=bi(t,ct.current);Oi(t,n),i=pp(null,t,r,e,i,n);var s=mp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(r)?(s=!0,Ta(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,up(t),i.updater=Iu,t.stateNode=i,i._reactInternals=t,ad(t,r,e,n),t=hd(null,t,r,!0,s,n)):(t.tag=0,Se&&s&&np(t),ht(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=L$(r),e=qt(r,e),i){case 0:t=cd(null,t,r,e,n);break e;case 1:t=cy(null,t,r,e,n);break e;case 11:t=ay(null,t,r,e,n);break e;case 14:t=uy(null,t,r,qt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),cd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),cy(e,t,r,i,n);case 3:e:{if(WE(t),e===null)throw Error(I(387));r=t.pendingProps,s=t.memoizedState,i=s.element,yE(e,t),$a(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Wi(Error(I(423)),t),t=hy(e,t,r,n,i);break e}else if(r!==i){i=Wi(Error(I(424)),t),t=hy(e,t,r,n,i);break e}else for(_t=nr(t.stateNode.containerInfo.firstChild),Nt=t,Se=!0,Kt=null,n=SE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qi(),r===i){t=Ln(e,t,n);break e}ht(e,t,r,n)}t=t.child}return t;case 5:return kE(t),e===null&&sd(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,ed(r,i)?o=null:s!==null&&ed(r,s)&&(t.flags|=32),KE(e,t),ht(e,t,o,n),t.child;case 6:return e===null&&sd(t),null;case 13:return GE(e,t,n);case 4:return cp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hi(t,null,r,n):ht(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),ay(e,t,r,i,n);case 7:return ht(e,t,t.pendingProps,n),t.child;case 8:return ht(e,t,t.pendingProps.children,n),t.child;case 12:return ht(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,de(Aa,r._currentValue),r._currentValue=o,s!==null)if(tn(s.value,o)){if(s.children===i.children&&!St.current){t=Ln(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Tn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),od(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),od(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ht(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Oi(t,n),i=Vt(i),r=r(i),t.flags|=1,ht(e,t,r,n),t.child;case 14:return r=t.type,i=qt(r,t.pendingProps),i=qt(r.type,i),uy(e,t,r,i,n);case 15:return qE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qt(r,i),Bl(e,t),t.tag=1,kt(r)?(e=!0,Ta(t)):e=!1,Oi(t,n),wE(t,r,i),ad(t,r,i,n),hd(null,t,r,!0,e,n);case 19:return QE(e,t,n);case 22:return HE(e,t,n)}throw Error(I(156,t.tag))};function hS(e,t){return Fw(e,t)}function R$(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,r){return new R$(e,t,n,r)}function _p(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L$(e){if(typeof e=="function")return _p(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qf)return 11;if(e===Hf)return 14}return 2}function or(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")_p(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case di:return Lr(n.children,i,s,t);case bf:o=8,i|=8;break;case Oh:return e=jt(12,n,t,i|2),e.elementType=Oh,e.lanes=s,e;case Ph:return e=jt(13,n,t,i),e.elementType=Ph,e.lanes=s,e;case Rh:return e=jt(19,n,t,i),e.elementType=Rh,e.lanes=s,e;case Ew:return $u(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vw:o=10;break e;case ww:o=9;break e;case qf:o=11;break e;case Hf:o=14;break e;case Un:o=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=jt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Lr(e,t,n,r){return e=jt(7,e,r,t),e.lanes=n,e}function $u(e,t,n,r){return e=jt(22,e,r,t),e.elementType=Ew,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function Mc(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function M$(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gc(0),this.expirationTimes=gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tp(e,t,n,r,i,s,o,l,a){return e=new M$(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=jt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},up(s),e}function F$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function dS(e){if(!e)return hr;e=e._reactInternals;e:{if(Jr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(kt(n))return hE(e,n,t)}return t}function fS(e,t,n,r,i,s,o,l,a){return e=Tp(n,r,!0,e,i,s,o,l,a),e.context=dS(null),n=e.current,r=pt(),i=sr(n),s=Tn(r,i),s.callback=t??null,rr(n,s,i),e.current.lanes=i,Ho(e,i,r),Ct(e,r),e}function Ou(e,t,n,r){var i=t.current,s=pt(),o=sr(i);return n=dS(n),t.context===null?t.context=n:t.pendingContext=n,t=Tn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rr(i,t,o),e!==null&&(Jt(e,i,o,s),Ul(e,i,o)),o}function Ua(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ip(e,t){Sy(e,t),(e=e.alternate)&&Sy(e,t)}function j$(){return null}var pS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Np(e){this._internalRoot=e}Pu.prototype.render=Np.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ou(e,t,null,null)};Pu.prototype.unmount=Np.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){Ou(null,e,null,null)}),t[Pn]=null}};function Pu(e){this._internalRoot=e}Pu.prototype.unstable_scheduleHydration=function(e){if(e){var t=qw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bn.length&&t!==0&&t<Bn[n].priority;n++);Bn.splice(n,0,e),n===0&&Kw(e)}};function Ap(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ky(){}function U$(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ua(o);s.call(u)}}var o=fS(t,r,e,0,null,!1,!1,"",ky);return e._reactRootContainer=o,e[Pn]=o.current,go(e.nodeType===8?e.parentNode:e),Hr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ua(a);l.call(u)}}var a=Tp(e,0,!1,null,null,!1,!1,"",ky);return e._reactRootContainer=a,e[Pn]=a.current,go(e.nodeType===8?e.parentNode:e),Hr(function(){Ou(t,a,n,r)}),a}function Lu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Ua(o);l.call(a)}}Ou(t,o,e,i)}else o=U$(n,t,e,i,r);return Ua(o)}Bw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Is(t.pendingLanes);n!==0&&(Gf(t,n|1),Ct(t,De()),!(oe&6)&&(Gi=De()+500,vr()))}break;case 13:Hr(function(){var r=Rn(e,1);if(r!==null){var i=pt();Jt(r,e,1,i)}}),Ip(e,1)}};Qf=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var n=pt();Jt(t,e,134217728,n)}Ip(e,134217728)}};bw=function(e){if(e.tag===13){var t=sr(e),n=Rn(e,t);if(n!==null){var r=pt();Jt(n,e,t,r)}Ip(e,t)}};qw=function(){return ce};Hw=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};qh=function(e,t,n){switch(t){case"input":if(Fh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_u(r);if(!i)throw Error(I(90));kw(r),Fh(r,i)}}}break;case"textarea":xw(e,n);break;case"select":t=n.value,t!=null&&Ni(e,!!n.multiple,t,!1)}};$w=kp;Ow=Hr;var V$={usingClientEntryPoint:!1,Events:[Wo,gi,_u,Aw,Dw,kp]},ws={findFiberByHostInstance:Ar,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},z$={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lw(e),e===null?null:e.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||j$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{Su=xl.inject(z$),fn=xl}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V$;Ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ap(t))throw Error(I(200));return F$(e,t,null,n)};Ot.createRoot=function(e,t){if(!Ap(e))throw Error(I(299));var n=!1,r="",i=pS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Tp(e,1,!1,null,null,n,!1,r,i),e[Pn]=t.current,go(e.nodeType===8?e.parentNode:e),new Np(t)};Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Lw(t),e=e===null?null:e.stateNode,e};Ot.flushSync=function(e){return Hr(e)};Ot.hydrate=function(e,t,n){if(!Ru(t))throw Error(I(200));return Lu(null,e,t,!0,n)};Ot.hydrateRoot=function(e,t,n){if(!Ap(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=pS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=fS(t,null,e,1,n??null,i,!1,s,o),e[Pn]=t.current,go(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Pu(t)};Ot.render=function(e,t,n){if(!Ru(t))throw Error(I(200));return Lu(null,e,t,!1,n)};Ot.unmountComponentAtNode=function(e){if(!Ru(e))throw Error(I(40));return e._reactRootContainer?(Hr(function(){Lu(null,null,e,!1,function(){e._reactRootContainer=null,e[Pn]=null})}),!0):!1};Ot.unstable_batchedUpdates=kp;Ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ru(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Lu(e,t,n,!1,r)};Ot.version="18.2.0-next-9e3b772b8-20220608";function mS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mS)}catch(e){console.error(e)}}mS(),fw.exports=Ot;var B$=fw.exports,Cy=B$;Dh.createRoot=Cy.createRoot,Dh.hydrateRoot=Cy.hydrateRoot;Dh.createRoot(document.getElementById("root")).render(w.jsx(B.StrictMode,{children:w.jsx(jA,{})}));
